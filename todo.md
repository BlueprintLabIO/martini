# Publish-readiness checklist

- Packages now build in this sandbox after swapping tsx-based browser bundle scripts to Node-powered ones for `@martini-kit/phaser`, `@martini-kit/transport-local`, and `@martini-kit/transport-iframe-bridge`. `@martini-kit/core` no longer ships the unused `dist/browser.js` export or script.
- Remaining blocker: `@martini-kit/demos` `pnpm build` fails in this sandbox with `Error: listen EPERM: operation not permitted 127.0.0.1` during Vite/SvelteKit build. Investigate what tries to open a server during build (likely adapter-cloudflare/workerd or a plugin); consider switching to adapter-static for CI or gating the demos build behind an env flag when publishing the packages.
- `pnpm --filter='@martini-kit/*' --filter='!demos' exec npm pack --dry-run` still fails due to root-owned files under `~/.npm` (npm error EPERM). Fix by `sudo chown -R 501:20 ~/.npm` or use a clean cache before publishing.
- Dist artifacts were regenerated by the successful package builds; keep `pnpm build` in CI before publishing so the `dist` outputs are available in the published tarballs.
