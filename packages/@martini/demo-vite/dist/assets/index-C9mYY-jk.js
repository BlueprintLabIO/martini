var zh=Object.defineProperty;var Gs=j=>{throw TypeError(j)};var Wh=(j,z,G)=>z in j?zh(j,z,{enumerable:!0,configurable:!0,writable:!0,value:G}):j[z]=G;var At=(j,z,G)=>Wh(j,typeof z!="symbol"?z+"":z,G),vr=(j,z,G)=>z.has(j)||Gs("Cannot "+G);var ut=(j,z,G)=>(vr(j,z,"read from private field"),G?G.call(j):z.get(j)),Gt=(j,z,G)=>z.has(j)?Gs("Cannot add the same private member more than once"):z instanceof WeakSet?z.add(j):z.set(j,G),Dt=(j,z,G,V)=>(vr(j,z,"write to private field"),V?V.call(j,G):z.set(j,G),G),Ot=(j,z,G)=>(vr(j,z,"access private method"),G);var Si=(j,z,G,V)=>({set _(X){Dt(j,z,X,G)},get _(){return ut(j,z,V)}});(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const X of document.querySelectorAll('link[rel="modulepreload"]'))V(X);new MutationObserver(X=>{for(const b of X)if(b.type==="childList")for(const c of b.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&V(c)}).observe(document,{childList:!0,subtree:!0});function G(X){const b={};return X.integrity&&(b.integrity=X.integrity),X.referrerPolicy&&(b.referrerPolicy=X.referrerPolicy),X.crossOrigin==="use-credentials"?b.credentials="include":X.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function V(X){if(X.ep)return;X.ep=!0;const b=G(X);fetch(X.href,b)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xh(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var io={exports:{}};(function(j,z){(function(V,X){j.exports=X()})(Vh,()=>(()=>{var G={50792:c=>{var x=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function p(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function o(e,n,l,i,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new p(l,i||e,h),d=t?t+n:n;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],f]:e._events[d].push(f):(e._events[d]=f,e._eventsCount++),e}function s(e,n){--e._eventsCount===0?e._events=new a:delete e._events[n]}function r(){this._events=new a,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,i;if(this._eventsCount===0)return n;for(i in l=this._events)x.call(l,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,i=this._events[l];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,f=i.length,d=new Array(f);h<f;h++)d[h]=i[h].fn;return d},r.prototype.listenerCount=function(n){var l=t?t+n:n,i=this._events[l];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,l,i,h,f,d){var u=t?t+n:n;if(!this._events[u])return!1;var v=this._events[u],g=arguments.length,y,m;if(v.fn){switch(v.once&&this.removeListener(n,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,l),!0;case 3:return v.fn.call(v.context,l,i),!0;case 4:return v.fn.call(v.context,l,i,h),!0;case 5:return v.fn.call(v.context,l,i,h,f),!0;case 6:return v.fn.call(v.context,l,i,h,f,d),!0}for(m=1,y=new Array(g-1);m<g;m++)y[m-1]=arguments[m];v.fn.apply(v.context,y)}else{var T=v.length,S;for(m=0;m<T;m++)switch(v[m].once&&this.removeListener(n,v[m].fn,void 0,!0),g){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,l);break;case 3:v[m].fn.call(v[m].context,l,i);break;case 4:v[m].fn.call(v[m].context,l,i,h);break;default:if(!y)for(S=1,y=new Array(g-1);S<g;S++)y[S-1]=arguments[S];v[m].fn.apply(v[m].context,y)}}return!0},r.prototype.on=function(n,l,i){return o(this,n,l,i,!1)},r.prototype.once=function(n,l,i){return o(this,n,l,i,!0)},r.prototype.removeListener=function(n,l,i,h){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return s(this,f),this;var d=this._events[f];if(d.fn)d.fn===l&&(!h||d.once)&&(!i||d.context===i)&&s(this,f);else{for(var u=0,v=[],g=d.length;u<g;u++)(d[u].fn!==l||h&&!d[u].once||i&&d[u].context!==i)&&v.push(d[u]);v.length?this._events[f]=v.length===1?v[0]:v:s(this,f)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&s(this,l)):(this._events=new a,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,c.exports=r},11517:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38829),p=function(o,s,r,e){for(var n=o[0],l=1;l<o.length;l++){var i=o[l];a(i,n,s,r,e),n=i}return o};c.exports=p},80318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"angle",s,r,e,n)};c.exports=p},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];a.call(p,s)}return t};c.exports=x},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=0);for(var o=p;o<t.length;o++){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=0);for(var o=t.length-1;o>=p;o--){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},94420:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(11879),p=t(60461),o=t(95540),s=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(l,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),f=i.hasOwnProperty("height"),d=o(i,"width",-1),u=o(i,"height",-1),v=o(i,"cellWidth",1),g=o(i,"cellHeight",v),y=o(i,"position",p.TOP_LEFT),m=o(i,"x",0),T=o(i,"y",0),S=0,E=0,C=d*v,w=u*g;e.setPosition(m,T),e.setSize(v,g);for(var A=0;A<l.length;A++)if(a(l[A],e,y),h&&d===-1)e.x+=v;else if(f&&u===-1)e.y+=g;else if(f&&!h){if(E+=g,e.y+=g,E===w&&(E=0,S+=v,e.y=T,e.x+=v,S===C))break}else if(S+=v,e.x+=v,S===C&&(S=0,E+=g,e.x=m,e.y+=g,E===w))break;return l};c.exports=n},41721:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=p},67285:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=p},9074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=p},75222:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=p},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.x,n=a.y,l=a.radius,i=0;i<t.length;i++)t[i].x=e+l*Math.cos(s),t[i].y=n+l*Math.sin(s),s+=r;return t};c.exports=x},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.width/2,n=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+e*Math.cos(s),t[l].y=a.y+n*Math.sin(s),s+=r;return t};c.exports=x},88505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15258),p=t(26708),o=function(s,r,e){var n;e?n=p(r,e,s.length):n=a(r,s.length);for(var l=0;l<s.length;l++){var i=s[l],h=n[l];i.x=h.x,i.y=h.y}return s};c.exports=o},41346:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14649),p=t(86003),o=t(49498),s=function(r,e,n){n===void 0&&(n=0);var l=a(e,!1,r.length);n>0?p(l,n):n<0&&o(l,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=l[i].x,r[i].y=l[i].y;return r};c.exports=s},11575:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84993),p=function(o,s,r){var e=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var i=e.length/o.length,h=0,f=0;f<o.length;f++){var d=o[f],u=e[Math.floor(h)];d.x=u.x,d.y=u.y,h+=i}return o};c.exports=p},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];s.anims&&s.anims.play(a,p)}return t};c.exports=x},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]+=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]+=p+n*o,n++;return t};c.exports=x},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]=p+n*o,n++;return t};c.exports=x},88926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28176),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},33286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(24820),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},96e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65822),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},28789:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26597),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},97154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90260),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},20510:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=p},91051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),p=t(20339),o=function(s,r,e){for(var n=r.x,l=r.y,i=0;i<s.length;i++){var h=s[i];a(h,n,l,e,Math.max(1,p(h.x,h.y,n,l)))}return s};c.exports=o},76332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),p=function(o,s,r,e){var n=s.x,l=s.y;if(e===0)return o;for(var i=0;i<o.length;i++)a(o[i],n,l,r,e);return o};c.exports=p},61619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=p},94868:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=p},95532:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=p},8689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=p},2645:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e){return a(o,"blendMode",s,0,r,e)};c.exports=p},32372:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"depth",s,r,e,n)};c.exports=p},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++)t[o].setInteractive(a,p);return t};c.exports=x},81583:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"originX",s,e,l,i),a(o,"originY",r,n,l,i),o.forEach(function(h){h.updateDisplayOrigin()}),o};c.exports=p},79939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=p},2699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=p},98739:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=p},98476:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=p},6207:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scrollFactorX",s,e,l,i),a(o,"scrollFactorY",r,n,l,i)};c.exports=p},6607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorX",s,r,e,n)};c.exports=p},72248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorY",s,r,e,n)};c.exports=p},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){for(var r=0;r<t.length;r++)t[r].setTint(a,p,o,s);return t};c.exports=x},50159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e){return a(o,"visible",s,0,r,e)};c.exports=p},77597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=p},83194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=p},67678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=p},35850:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new a);var l,i,h=o.length;if(h===1)l=o[0].x,i=o[0].y,o[0].x=s,o[0].y=r;else{var f=1,d=0;e===0&&(d=h-1,f=h-2),l=o[d].x,i=o[d].y,o[d].x=s,o[d].y=r;for(var u=0;u<h;u++)if(!(f>=h||f===-1)){var v=o[f],g=v.x,y=v.y;v.x=l,v.y=i,l=g,i=y,e===0?f--:f++}}return n.x=l,n.y=i,n};c.exports=p},8628:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33680),p=function(o){return a(o)};c.exports=p},21837:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=p},21910:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=p},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(o+p)/2:t[0][a]=(o+p)/2,t;var r=Math.abs(o-p)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][a]+=e*r+p;else for(e=0;e<t.length;e++)t[e][a]=e*r+p;return t};c.exports=x},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};c.exports=x},39665:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o,s,r){r===void 0&&(r=0);for(var e=0;e<o.length;e++){var n=o[e];n.x=a(n.x,s.left-r,s.right+r),n.y=a(n.y,s.top-r,s.bottom+r)}return o};c.exports=p},61061:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(74943),s=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new p({initialize:function(h,f,d){this.manager=h,this.key=f,this.type="frame",this.frames=this.getFrames(h.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,f,d){f===null&&d===null?(i.frameRate=24,i.duration=24/h*1e3):f&&d===null?(i.duration=f,i.frameRate=h/(f/1e3)):(i.frameRate=d,i.duration=h/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var f=this.getFrames(this.manager.textureManager,h);if(f.length>0){if(i===0)this.frames=f.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(f);else{var d=this.frames.slice(0,i),u=this.frames.slice(i);this.frames=d.concat(f,u)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,f,d){d===void 0&&(d=!0);var u=[],v,g,y=1,m,T;if(typeof h=="string"){if(T=h,!i.exists(T))return console.warn('Texture "%s" not found',T),u;var S=i.get(T),E=S.getFrameNames();d&&n(E),h=[],E.forEach(function(R){h.push({key:T,frame:R})})}if(!Array.isArray(h)||h.length===0)return u;for(m=0;m<h.length;m++){var C=h[m],w=e(C,"key",f);if(w){var A=e(C,"frame",0),P=i.getFrame(w,A);if(!P){console.warn('Texture "%s" not found',w);continue}g=new r(w,A,y,P),g.duration=e(C,"duration",0),g.isFirst=!v,v&&(v.nextFrame=g,g.prevFrame=v),u.push(g),v=g,y++}}if(u.length>0){g.isLast=!0,g.nextFrame=u[0],u[0].prevFrame=g;var M=1/(u.length-1);for(m=0;m<u.length;m++)u[m].progress=m*M}return u},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameByProgress:function(i){return i=a(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var f=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),f,d=0;d<i;d++)f=this.frames[d],f.index=d+1,f.isFirst=!1,f.isLast=!1,f.progress=d*h,d===0?(f.isFirst=!0,i===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[i-1],f.nextFrame=this.frames[d+1])):d===i-1&&i>1?(f.isLast=!0,f.prevFrame=this.frames[i-2],f.nextFrame=this.frames[0]):i>1&&(f.prevFrame=this.frames[d-1],f.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=p},60848:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),p=t(83419),o=t(90330),s=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),i=t(36383),h=t(20283),f=t(41836),d=new p({Extends:s,initialize:function(v){s.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",v.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(u,v,g){var y=this.anims,m=this.mixes,T=typeof u=="string"?u:u.key,S=typeof v=="string"?v:v.key;if(y.has(T)&&y.has(S)){var E=m.get(T);E||(E={}),E[S]=g,m.set(T,E)}return this},removeMix:function(u,v){var g=this.mixes,y=typeof u=="string"?u:u.key,m=g.get(y);if(m)if(v){var T=typeof v=="string"?v:v.key;m.hasOwnProperty(T)&&delete m[T]}else v||g.delete(y);return this},getMix:function(u,v){var g=this.mixes,y=typeof u=="string"?u:u.key,m=typeof v=="string"?v:v.key,T=g.get(y);return T&&T.hasOwnProperty(m)?T[m]:0},add:function(u,v){return this.anims.has(u)?(console.warn("Animation key exists: "+u),this):(v.key=u,this.anims.set(u,v),this.emit(r.ADD_ANIMATION,u,v),this)},exists:function(u){return this.anims.has(u)},createFromAseprite:function(u,v,g){var y=[],m=this.game.cache.json.get(u);if(!m)return console.warn("No Aseprite data found for: "+u),y;var T=this,S=l(m,"meta",null),E=l(m,"frames",null);if(S&&E){var C=l(S,"frameTags",[]);C.forEach(function(w){var A=[],P=n(w,"name",null),M=n(w,"from",0),R=n(w,"to",0),I=n(w,"direction","forward");if(P&&(!v||v&&v.indexOf(P)>-1)){for(var D=0,Y=M;Y<=R;Y++){var B=Y.toString(),O=E[B];if(O){var N=n(O,"duration",i.MAX_SAFE_INTEGER);A.push({key:u,frame:B,duration:N}),D+=N}}I==="reverse"&&(A=A.reverse());var L={key:P,frames:A,duration:D,yoyo:I==="pingpong"},W;g?g.anims&&(W=g.anims.create(L)):W=T.create(L),W&&y.push(W)}})}return y},create:function(u){var v=u.key,g=!1;return v&&(g=this.get(v),g?console.warn("AnimationManager key already exists: "+v):(g=new a(this,v,u),this.anims.set(v,g),this.emit(r.ADD_ANIMATION,v,g))),g},fromJSON:function(u,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof u=="string"&&(u=JSON.parse(u));var g=[];if(u.hasOwnProperty("anims")&&Array.isArray(u.anims)){for(var y=0;y<u.anims.length;y++)g.push(this.create(u.anims[y]));u.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=u.globalTimeScale)}else u.hasOwnProperty("key")&&u.type==="frame"&&g.push(this.create(u));return g},generateFrameNames:function(u,v){var g=l(v,"prefix",""),y=l(v,"start",0),m=l(v,"end",0),T=l(v,"suffix",""),S=l(v,"zeroPad",0),E=l(v,"outputArray",[]),C=l(v,"frames",!1);if(!this.textureManager.exists(u))return console.warn('Texture "%s" not found',u),E;var w=this.textureManager.get(u);if(!w)return E;var A;if(v)for(C||(C=h(y,m)),A=0;A<C.length;A++){var P=g+f(C[A],S,"0",1)+T;w.has(P)?E.push({key:u,frame:P}):console.warn('Frame "%s" not found in texture "%s"',P,u)}else for(C=w.getFrameNames(),A=0;A<C.length;A++)E.push({key:u,frame:C[A]});return E},generateFrameNumbers:function(u,v){var g=l(v,"start",0),y=l(v,"end",-1),m=l(v,"first",!1),T=l(v,"outputArray",[]),S=l(v,"frames",!1);if(!this.textureManager.exists(u))return console.warn('Texture "%s" not found',u),T;var E=this.textureManager.get(u);if(!E)return T;m&&E.has(m)&&T.push({key:u,frame:m}),S||(y===-1&&(y=E.frameTotal-2),S=h(g,y));for(var C=0;C<S.length;C++){var w=S[C];E.has(w)?T.push({key:u,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,u)}return T},get:function(u){return this.anims.get(u)},getAnimsFromTexture:function(u){for(var v=this.textureManager.get(u),g=v.key,y=this.anims.getArray(),m=[],T=0;T<y.length;T++)for(var S=y[T],E=S.frames,C=0;C<E.length;C++)if(E[C].textureKey===g){m.push(S.key);break}return m},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(u,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)v[g].anims.play(u);return this},staggerPlay:function(u,v,g,y){g===void 0&&(g=0),y===void 0&&(y=!0),Array.isArray(v)||(v=[v]);var m=v.length;y||m--;for(var T=0;T<v.length;T++){var S=g<0?Math.abs(g)*(m-T):g*T;v[T].anims.playAfterDelay(u,S)}return this},remove:function(u){var v=this.get(u);return v&&(this.emit(r.REMOVE_ANIMATION,u,v),this.anims.delete(u),this.removeMix(u)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(u){var v={anims:[],globalTimeScale:this.globalTimeScale};return u!==void 0&&u!==""?v.anims.push(this.anims.get(u).toJSON()):this.anims.each(function(g,y){v.anims.push(y.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=d},9674:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),p=t(30976),o=t(83419),s=t(90330),r=t(74943),e=t(95540),n=new o({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var i=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var f=l[h];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),f=this.exists(h)?this.get(h):i.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var d=f.getTotalFrames(),u=e(l,"frameRate",f.frameRate),v=e(l,"duration",f.duration);f.calculateDuration(this,d,v,u),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var g=e(l,"startFrame",0);g>d&&(g=0),this.randomFrame&&(g=p(0,d-1));var y=f.frames[g];g===0&&!this.forward&&(y=f.getLastFrame()),this.currentFrame=y}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,i){if(!this.isPlaying)this.delayCounter=i,this.play(l,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(l,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(l,i){i===void 0&&(i=!1);var h=this.currentAnim,f=this.parent,d=typeof l=="string"?l:l.key;if(i&&this.isPlaying&&h.key===d)return f;if(h&&this.isPlaying){var u=this.animationManager.getMix(h.key,l);if(u>0)return this.playAfterDelay(l,u)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,i){i===void 0&&(i=!1);var h=typeof l=="string"?l:l.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,i){var h=this.currentAnim;if(h){var f=this.currentFrame,d=this.parent,u=f.textureFrame;d.emit(l,h,f,d,u),i&&d.emit(i+h.key,h,f,d,u)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var i=l.progress;return this.inReverse&&(i*=-1),i},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,i){l===void 0&&(l=!1),i===void 0&&(i=!1);var h=this.currentAnim,f=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var i=this.parent;return this.currentFrame=l,i.texture=l.frame.texture,i.frame=l.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),l.setAlpha&&(i.alpha=l.alpha),i.setSizeToFrame(),i._originComponent&&(l.frame.customPivot?i.setOrigin(l.frame.pivotX,l.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var i=l.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new a(this,i,l),this.anims||(this.anims=new s),this.anims.set(i,h))),h},createFromAseprite:function(l,i){return this.animationManager.createFromAseprite(l,i,this.parent)},generateFrameNames:function(l,i){return this.animationManager.generateFrameNames(l,i)},generateFrameNumbers:function(l,i){return this.animationManager.generateFrameNumbers(l,i)},remove:function(l){var i=this.get(l);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(l)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(90330),o=t(50792),s=t(24736),r=new a({initialize:function(){this.entries=new p,this.events=new o},add:function(e,n){return this.entries.set(e,n),this.events.emit(s.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=r},24047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2161),p=t(83419),o=t(8443),s=new p({initialize:function(e){this.game=e,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=s},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(39506),s=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),i=t(26099),h=new a({Extends:s,Mixins:[p.AlphaSingle,p.Visible],initialize:function(d,u,v,g){d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=u,this._width=v,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,d){return f===void 0&&(f=.5),d===void 0&&(d=f),this.originX=f,this.originY=d,this},getScroll:function(f,d,u){u===void 0&&(u=new i);var v=this.width*.5,g=this.height*.5;return u.x=f-v,u.y=d-g,this.useBounds&&(u.x=this.clampX(u.x),u.y=this.clampY(u.y)),u},centerOnX:function(f){var d=this.width*.5;return this.midPoint.x=f,this.scrollX=f-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var d=this.height*.5;return this.midPoint.y=f,this.scrollY=f-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,d){return this.centerOnX(f),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,d=this.width*.5,u=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-d,this.scrollY=f.centerY-u}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var d=this.matrix.matrix,u=d[0],v=d[1],g=d[2],y=d[3],m=u*y-v*g;if(!m)return f;var T=d[4],S=d[5],E=this.scrollX,C=this.scrollY,w=this.width,A=this.height,P=this.y,M=P+A,R=this.x,I=R+w,D=this.culledObjects,Y=f.length;m=1/m,D.length=0;for(var B=0;B<Y;++B){var O=f[B];if(!O.hasOwnProperty("width")||O.parentContainer){D.push(O);continue}var N=O.width,L=O.height,W=O.x-E*O.scrollFactorX-N*O.originX,F=O.y-C*O.scrollFactorY-L*O.originY,U=W*u+F*g+T,Z=W*v+F*y+S,J=(W+N)*u+(F+L)*g+T,Q=(W+N)*v+(F+L)*y+S;J>R&&U<I&&Q>P&&Z<M&&D.push(O)}return D},getWorldPoint:function(f,d,u){u===void 0&&(u=new i);var v=this.matrix.matrix,g=v[0],y=v[1],m=v[2],T=v[3],S=v[4],E=v[5],C=g*T-y*m;if(!C)return u.x=f,u.y=d,u;C=1/C;var w=T*C,A=-y*C,P=-m*C,M=g*C,R=(m*E-T*S)*C,I=(y*S-g*E)*C,D=Math.cos(this.rotation),Y=Math.sin(this.rotation),B=this.zoomX,O=this.zoomY,N=this.scrollX,L=this.scrollY,W=f+(N*D-L*Y)*B,F=d+(N*Y+L*D)*O;return u.x=W*w+F*P+R,u.y=W*A+F*M+I,u},ignore:function(f){var d=this.id;Array.isArray(f)||(f=[f]);for(var u=0;u<f.length;u++){var v=f[u];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=d}return this},clampX:function(f){var d=this._bounds,u=this.displayWidth,v=d.x+(u-this.width)/2,g=Math.max(v,v+d.width-u);return f<v?f=v:f>g&&(f=g),f},clampY:function(f){var d=this._bounds,u=this.displayHeight,v=d.y+(u-this.height)/2,g=Math.max(v,v+d.height-u);return f<v?f=v:f>g&&(f=g),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,d,u,v,g){return g===void 0&&(g=!1),this._bounds.setTo(f,d,u,v),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var d=this._bounds;return f.setTo(d.x,d.y,d.width,d.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,d){return d===void 0&&(d=f),this.x=f,this.y=d,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=d;var u=f.sys;return this.sceneManager=u.game.scene,this.scaleManager=u.scale,this.cameraManager=u.cameras,this.updateSystem(),this},setScroll:function(f,d){return d===void 0&&(d=f),this.scrollX=f,this.scrollY=d,this},setSize:function(f,d){return d===void 0&&(d=f),this.width=f,this.height=d,this},setViewport:function(f,d,u,v){return this.x=f,this.y=d,this.width=u,this.height=v,this},setZoom:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),f===0&&(f=.001),d===0&&(d=.001),this.zoomX=f,this.zoomY=d,this},setMask:function(f,d){return d===void 0&&(d=!0),this.mask=f,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;f&&!this._customViewport?d.customViewports++:!f&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=h},38058:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),p=t(67502),o=t(45319),s=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),i=t(87841),h=t(26099),f=new s({Extends:a,Mixins:[r.PostPipeline],initialize:function(u,v,g,y){a.call(this,u,v,g,y),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(d,u){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=u):this.deadzone=new i(0,0,d,u),this._follow){var v=this.width/2,g=this.height/2,y=this._follow.x-this.followOffset.x,m=this._follow.y-this.followOffset.y;this.midPoint.set(y,m),this.scrollX=y-v,this.scrollY=m-g}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,u,v,g,y,m){return this.fadeEffect.start(!1,d,u,v,g,!0,y,m)},fadeOut:function(d,u,v,g,y,m){return this.fadeEffect.start(!0,d,u,v,g,!0,y,m)},fadeFrom:function(d,u,v,g,y,m,T){return this.fadeEffect.start(!1,d,u,v,g,y,m,T)},fade:function(d,u,v,g,y,m,T){return this.fadeEffect.start(!0,d,u,v,g,y,m,T)},flash:function(d,u,v,g,y,m,T){return this.flashEffect.start(d,u,v,g,y,m,T)},shake:function(d,u,v,g,y){return this.shakeEffect.start(d,u,v,g,y)},pan:function(d,u,v,g,y,m,T){return this.panEffect.start(d,u,v,g,y,m,T)},rotateTo:function(d,u,v,g,y,m,T){return this.rotateToEffect.start(d,u,v,g,y,m,T)},zoomTo:function(d,u,v,g,y,m){return this.zoomEffect.start(d,u,v,g,y,m)},preRender:function(){this.renderList.length=0;var d=this.width,u=this.height,v=d*.5,g=u*.5,y=this.zoomX,m=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(y)&&Number.isInteger(m);var S=d*this.originX,E=u*this.originY,C=this._follow,w=this.deadzone,A=this.scrollX,P=this.scrollY;w&&p(w,this.midPoint.x,this.midPoint.y);var M=!1;if(C&&!this.panEffect.isRunning){var R=this.lerp,I=C.x-this.followOffset.x,D=C.y-this.followOffset.y;w?(I<w.x?A=l(A,A-(w.x-I),R.x):I>w.right&&(A=l(A,A+(I-w.right),R.x)),D<w.y?P=l(P,P-(w.y-D),R.y):D>w.bottom&&(P=l(P,P+(D-w.bottom),R.y))):(A=l(A,I-S,R.x),P=l(P,D-E,R.y)),M=!0}this.roundPixels&&(A=Math.floor(A),P=Math.floor(P)),this.useBounds&&(A=this.clampX(A),P=this.clampY(P)),this.scrollX=A,this.scrollY=P;var Y=A+v,B=P+g;this.midPoint.set(Y,B);var O=Math.floor(d/y+.5),N=Math.floor(u/m+.5),L=Math.floor(Y-O/2+.5),W=Math.floor(B-N/2+.5);this.worldView.setTo(L,W,O,N),T.applyITRS(Math.floor(this.x+S+.5),Math.floor(this.y+E+.5),this.rotation,y,m),T.translate(-S,-E),this.shakeEffect.preRender(),M&&this.emit(n.FOLLOW_UPDATE,this,C)},setLerp:function(d,u){return d===void 0&&(d=1),u===void 0&&(u=d),this.lerp.set(d,u),this},setFollowOffset:function(d,u){return d===void 0&&(d=0),u===void 0&&(u=0),this.followOffset.set(d,u),this},startFollow:function(d,u,v,g,y,m){u===void 0&&(u=!1),v===void 0&&(v=1),g===void 0&&(g=v),y===void 0&&(y=0),m===void 0&&(m=y),this._follow=d,this.roundPixels=u,v=o(v,0,1),g=o(g,0,1),this.lerp.set(v,g),this.followOffset.set(y,m);var T=this.width/2,S=this.height/2,E=d.x-y,C=d.y-m;return this.midPoint.set(E,C),this.scrollX=E-T,this.scrollY=C-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,u){this.visible&&(this.rotateToEffect.update(d,u),this.panEffect.update(d,u),this.zoomEffect.update(d,u),this.shakeEffect.update(d,u),this.flashEffect.update(d,u),this.fadeEffect.update(d,u))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38058),p=t(83419),o=t(95540),s=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(n.BOOT,this.boot,this),h.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,h,f,d,u,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),u===void 0&&(u=!1),v===void 0&&(v="");var g=new a(i,h,f,d);return g.setName(v),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),u&&(this.main=g),g},addExisting:function(i,h){h===void 0&&(h=!1);var f=this.cameras.indexOf(i);return f===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,f=0;f<32;f++){for(var d=!1,u=0;u<i.length;u++){var v=i[u];if(v&&v.id===h){d=!0;continue}}if(d)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,f=this.cameras,d=0;d<f.length;d++){var u=f[d];(!i||i&&u.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,f=this.scene.sys.scale.height,d=0;d<i.length;d++){var u=i[d],v=o(u,"x",0),g=o(u,"y",0),y=o(u,"width",h),m=o(u,"height",f),T=this.add(v,g,y,m);T.name=o(u,"name",""),T.zoom=o(u,"zoom",1),T.rotation=o(u,"rotation",0),T.scrollX=o(u,"scrollX",0),T.scrollY=o(u,"scrollY",0),T.roundPixels=o(u,"roundPixels",!1),T.visible=o(u,"visible",!0);var S=o(u,"backgroundColor",!1);S&&T.setBackgroundColor(S);var E=o(u,"bounds",null);if(E){var C=o(E,"x",0),w=o(E,"y",0),A=o(E,"width",h),P=o(E,"height",f);T.setBounds(C,w,A,P)}}return this},getCamera:function(i){for(var h=this.cameras,f=0;f<h.length;f++)if(h[f].name===i)return h[f];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,f=i.x,d=i.y,u=[],v=0;v<h.length;v++){var g=h[v];g.visible&&g.inputEnabled&&r(g,f,d)&&u.unshift(g)}return u},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var f=0,d=this.cameras,u=0;u<i.length;u++){var v=d.indexOf(i[u]);v!==-1&&(h?d[v].destroy():d[v].renderList=[],d.splice(v,1),f++)}return!this.main&&d[0]&&(this.main=d[0]),f},render:function(i,h){for(var f=this.scene,d=this.cameras,u=0;u<d.length;u++){var v=d[u];if(v.visible&&v.alpha>0){v.preRender();var g=this.getVisibleChildren(h.getChildren(),v);i.render(f,g,v)}}},getVisibleChildren:function(i,h){return i.filter(function(f){return f.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(i,h)},onResize:function(i,h,f,d,u){for(var v=0;v<this.cameras.length;v++){var g=this.cameras[v];g._x===0&&g._y===0&&g._width===d&&g._height===u&&g.setSize(h.width,h.height)}},resize:function(i,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(n.UPDATE,this.update,this),h.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,f,d){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d;var u=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(u,this.camera,this,e,n,l,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},10662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,f){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),i===void 0&&(i=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},20359:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=t(26099),e=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,i,h,f,d,u){i===void 0&&(i=1e3),h===void 0&&(h=o.Linear),f===void 0&&(f=!1),d===void 0&&(d=null),u===void 0&&(u=this.camera.scene);var v=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(n,l),v.getScroll(n,l,this.current),typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=u,this.camera.emit(s.PAN_START,this.camera,this,i,n,l)),v},update:function(n,l){if(this.isRunning){this._elapsed+=l;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*f,u=this.source.y+(this.current.y-this.source.y)*f;h.setScroll(d,u),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,d,u)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,x,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=t(62640),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,i,h,f,d){l===void 0&&(l=1e3),i===void 0&&(i=s.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var u=e;e<0?(u=-1*e,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;u=u-Math.floor(u/v)*v;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.rotation,this.destination=u,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.shortestPath){var y=0,m=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+v)-this.source,this.source>this.destination?m=Math.abs(this.source-this.destination):m=Math.abs(this.source+v)-this.destination,y<m?this.clockwise=!0:y>m&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,u),g},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=i.rotation;var f=0,d=360*Math.PI/180,u=this.destination,v=this.current;this.clockwise===!1&&(u=this.current,v=this.destination),u>=v?f=Math.abs(u-v):f=Math.abs(u+d)-v;var g=0;this.clockwise?g=i.rotation+f*h:g=i.rotation-f*h,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=r},30330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=t(26099),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(o.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,i=this.camera.width,h=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*i*2-l.x*i)*f,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=r},45641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h,f){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.ZOOM_START,this.camera,this,n,e)),d},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(r,"speed.x",0),this.speedY=p(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},58818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(r,"acceleration.x",0),this.accelY=p(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=p(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=p(r,"drag.x",0),this.dragY=p(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=p(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=p(r,"maxSpeed.x",0),this.maxSpeedY=p(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},38865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=a},69547:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8054),o=t(42363),s=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),i=t(75508),h=t(36060),f=t(80333),d=new a({initialize:function(v){v===void 0&&(v={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff",m=e(v,"scale",null);this.width=e(m,"width",1024,v),this.height=e(m,"height",768,v),this.zoom=e(m,"zoom",1,v),this.parent=e(m,"parent",void 0,v),this.scaleMode=e(m,m?"mode":"scaleMode",0,v),this.expandParent=e(m,"expandParent",!0,v),this.autoRound=e(m,"autoRound",!1,v),this.autoCenter=e(m,"autoCenter",0,v),this.resizeInterval=e(m,"resizeInterval",500,v),this.fullscreenTarget=e(m,"fullscreenTarget",null,v),this.minWidth=e(m,"min.width",0,v),this.maxWidth=e(m,"max.width",0,v),this.minHeight=e(m,"min.height",0,v),this.maxHeight=e(m,"max.height",0,v),this.snapWidth=e(m,"snap.width",0,v),this.snapHeight=e(m,"snap.height",0,v),this.renderType=e(v,"type",p.AUTO),this.canvas=e(v,"canvas",null),this.context=e(v,"context",null),this.canvasStyle=e(v,"canvasStyle",null),this.customEnvironment=e(v,"customEnvironment",!1),this.sceneConfig=e(v,"scene",null),this.seed=e(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(v,"title",""),this.gameURL=e(v,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=e(v,"version",""),this.autoFocus=e(v,"autoFocus",!0),this.stableSort=e(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(v,"dom.createContainer",!1),this.domPointerEvents=e(v,"dom.pointerEvents","none"),this.inputKeyboard=e(v,"input.keyboard",!0),this.inputKeyboardEventTarget=e(v,"input.keyboard.target",window),this.inputKeyboardCapture=e(v,"input.keyboard.capture",[]),this.inputMouse=e(v,"input.mouse",!0),this.inputMouseEventTarget=e(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(v,"input.touch",s.input.touch),this.inputTouchEventTarget=e(v,"input.touch.target",null),this.inputTouchCapture=e(v,"input.touch.capture",!0),this.inputActivePointers=e(v,"input.activePointers",1),this.inputSmoothFactor=e(v,"input.smoothFactor",0),this.inputWindowEvents=e(v,"input.windowEvents",!0),this.inputGamepad=e(v,"input.gamepad",!1),this.inputGamepadEventTarget=e(v,"input.gamepad.target",window),this.disableContextMenu=e(v,"disableContextMenu",!1),this.audio=e(v,"audio",{}),this.hideBanner=e(v,"banner",null)===!1,this.hidePhaser=e(v,"banner.hidePhaser",!1),this.bannerTextColor=e(v,"banner.text",y),this.bannerBackgroundColor=e(v,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(v,"fps",null),this.disablePreFX=e(v,"disablePreFX",!1),this.disablePostFX=e(v,"disablePostFX",!1);var T=e(v,"render",null);this.pipeline=e(T,"pipeline",null,v),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,v),this.defaultPipeline=e(T,"defaultPipeline",h.MULTI_PIPELINE,v),this.antialias=e(T,"antialias",!0,v),this.antialiasGL=e(T,"antialiasGL",!0,v),this.mipmapFilter=e(T,"mipmapFilter","",v),this.desynchronized=e(T,"desynchronized",!1,v),this.roundPixels=e(T,"roundPixels",!1,v),this.pixelArt=e(T,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,v),this.clearBeforeRender=e(T,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=e(T,"powerPreference","default",v),this.batchSize=e(T,"batchSize",4096,v),this.maxTextures=e(T,"maxTextures",-1,v),this.maxLights=e(T,"maxLights",10,v);var S=e(v,"backgroundColor",0);this.backgroundColor=f(S),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(v,"callbacks.preBoot",l),this.postBoot=e(v,"callbacks.postBoot",l),this.physics=e(v,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(v,"loader.baseURL",""),this.loaderPath=e(v,"loader.path",""),this.loaderMaxParallelDownloads=e(v,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(v,"loader.crossOrigin",void 0),this.loaderResponseType=e(v,"loader.responseType",""),this.loaderAsync=e(v,"loader.async",!0),this.loaderUser=e(v,"loader.user",""),this.loaderPassword=e(v,"loader.password",""),this.loaderTimeout=e(v,"loader.timeout",0),this.loaderMaxRetries=e(v,"loader.maxRetries",2),this.loaderWithCredentials=e(v,"loader.withCredentials",!1),this.loaderImageLoadType=e(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(v,"fx.glow.quality",.1),this.glowFXDistance=e(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=e(v,"plugins",null),C=o.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:n(E)&&(this.installGlobalPlugins=r(E,"global",[]),this.installScenePlugins=r(E,"scene",[]),Array.isArray(E.default)?C=E.default:Array.isArray(E.defaultMerge)&&(C=C.concat(E.defaultMerge)))),this.defaultPlugins=C;var w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(v,"images.default",w+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(v,"images.missing",w+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});c.exports=d},86054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20623),p=t(27919),o=t(8054),s=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=s.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||p.disableSmoothing();var l=e.scale.baseSize,i=l.width,h=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=p.create(e,i,h,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(e.canvas),n.renderType!==o.HEADLESS){var f,d;f=t(68627),d=t(74797),n.renderType===o.WEBGL?e.renderer=new d(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};c.exports=r},96391:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),p=function(o){var s=o.config;if(!s.hideBanner){var r="WebGL";s.renderType===a.CANVAS?r="Canvas":s.renderType===a.HEADLESS&&(r="Headless");var e=s.audio,n=o.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(s.bannerBackgroundColor)){var f;s.bannerBackgroundColor.forEach(function(u){i=i.concat("%c "),h.push("background: "+u),f=u}),h[h.length-1]="color: "+s.bannerTextColor+"; background: "+f}else i=i.concat("%c "),h.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);h.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var d="";s.hidePhaser||(i=i.concat("Phaser v"+a.VERSION+d+" ("+r+" | "+l+")")),i=i.concat(" %c "+s.gameURL),h[0]=i,console.log.apply(console,h)}}};c.exports=p},50127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=t(60848),o=t(24047),s=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),i=t(45893),h=t(96391),f=t(82264),d=t(57264),u=t(50792),v=t(8443),g=t(7003),y=t(37277),m=t(77332),T=t(76531),S=t(60903),E=t(69442),C=t(17130),w=t(65898),A=t(51085),P=t(14747),M=new r({initialize:function(I){this.config=new e(I),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new u,this.anims=new p(this),this.textures=new C(this),this.cache=new o(this),this.registry=new i(this,new u),this.input=new g(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=f,this.scale=new T(this,this.config),this.sound=null,this.sound=P.create(this),this.loop=new w(this,this.config.fps),this.plugins=new m(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),h(this),a(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var R=this.events;R.on(v.HIDDEN,this.onHidden,this),R.on(v.VISIBLE,this.onVisible,this),R.on(v.BLUR,this.onBlur,this),R.on(v.FOCUS,this.onFocus,this)},step:function(R,I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var D=this.events;D.emit(v.PRE_STEP,R,I),D.emit(v.STEP,R,I),this.scene.update(R,I),D.emit(v.POST_STEP,R,I);var Y=this.renderer;Y.preRender(),D.emit(v.PRE_RENDER,Y,R,I),this.scene.render(Y),Y.postRender(),D.emit(v.POST_RENDER,Y,R,I)}},headlessStep:function(R,I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var D=this.events;D.emit(v.PRE_STEP,R,I),D.emit(v.STEP,R,I),this.scene.update(R,I),D.emit(v.POST_STEP,R,I),this.scene.isProcessing=!1,D.emit(v.PRE_RENDER,null,R,I),D.emit(v.POST_RENDER,null,R,I)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var R=this.isPaused;this.isPaused=!0,R||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME,this.loop.pauseDuration)},resume:function(){var R=this.isPaused;this.isPaused=!1,R&&this.events.emit(v.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(R,I){I===void 0&&(I=!1),this.pendingDestroy=!0,this.removeCanvas=R,this.noReturn=I},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=M},65898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=t(29747),s=t(43092),r=new a({initialize:function(n,l){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=p(l,"min",5),this.targetFps=p(l,"target",60),this.fpsLimit=p(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=p(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(l,"deltaHistory",10),this.panicMax=p(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,f=0;f<i;f++)h+=l[f];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=r},51085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8443),p=function(o){var s,r=o.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(a.HIDDEN):r.emit(a.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(a.BLUR)},window.onfocus=function(){r.emit(a.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};c.exports=p},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(5290),p=t(27919),o=t(35154),s=function(r){var e=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",a),i=o(r,"pixelWidth",1),h=o(r,"pixelHeight",i),f=o(r,"resizeCanvas",!0),d=o(r,"clearCanvas",!0),u=o(r,"preRender",null),v=o(r,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),y=Math.floor(Math.abs(e.length*h));n||(n=p.create2D(this,g,y),f=!1,d=!1),f&&(n.width=g,n.height=y);var m=n.getContext("2d",{willReadFrequently:!0});d&&m.clearRect(0,0,g,y),u&&u(n,m);for(var T=0;T<e.length;T++)for(var S=e[T],E=0;E<S.length;E++){var C=S[E];C!=="."&&C!==" "&&(m.fillStyle=l[C],m.fillRect(E*i,T*h,i,h))}return v&&v(n,m),n};c.exports=s},15822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36316),o=t(80021),s=t(26099),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(h=new s(n[6],n[7]),i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2,f=this.p3;return n.set(p(e,l.x,i.x,h.x,f.x),p(e,l.y,i.y,h.y,f.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]),f=new s(n[6],n[7]);return new r(l,i,h,f)},c.exports=r},80021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(19217),o=t(87841),s=t(26099),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var i=Math.max(1,Math.round(l/n));return p(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,i=this.getPoint(0,this._tmpVec2A),h=0;n.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),h+=l.distance(i),n.push(h),i.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)l.push(this.getPoint(i/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new s);var l=1e-4,i=e-l,h=e+l;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var i=this.getLengths(l),h=0,f=i.length,d;n?d=Math.min(n,i[f-1]):d=e*i[f-1];for(var u=0,v=f-1,g;u<=v;)if(h=Math.floor(u+(v-u)/2),g=i[h]-d,g<0)u=h+1;else if(g>0)v=h-1;else{v=h;break}if(h=v,i[h]===d)return h/(f-1);var y=i[h],m=i[h+1],T=m-y,S=(d-y)/T;return(h+S)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=r},73825:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(39506),s=t(35154),r=t(43396),e=t(26099),n=new a({Extends:p,initialize:function(i,h,f,d,u,v,g,y){if(typeof i=="object"){var m=i;i=s(m,"x",0),h=s(m,"y",0),f=s(m,"xRadius",0),d=s(m,"yRadius",f),u=s(m,"startAngle",0),v=s(m,"endAngle",360),g=s(m,"clockwise",!1),y=s(m,"rotation",0)}else d===void 0&&(d=f),u===void 0&&(u=0),v===void 0&&(v=360),g===void 0&&(g=!1),y===void 0&&(y=0);p.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=f,this._yRadius=d,this._startAngle=o(u),this._endAngle=o(v),this._clockwise=g,this._rotation=o(y)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,i){i===void 0&&(i=new e);for(var h=Math.PI*2,f=this._endAngle-this._startAngle,d=Math.abs(f)<Number.EPSILON;f<0;)f+=h;for(;f>h;)f-=h;f<Number.EPSILON&&(d?f=0:f=h),this._clockwise&&!d&&(f===h?f=-h:f=f-h);var u=this._startAngle+l*f,v=this.p0.x+this._xRadius*Math.cos(u),g=this.p0.y+this._yRadius*Math.sin(u);if(this._rotation!==0){var y=Math.cos(this._rotation),m=Math.sin(this._rotation),T=v-this.p0.x,S=g-this.p0.y;v=T*y-S*m+this.p0.x,g=T*m+S*y+this.p0.y}return i.set(v,g)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},c.exports=n},33951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(19217),s=t(87841),r=t(26099),e=new a({Extends:p,initialize:function(l,i){p.call(this,"LineCurve"),Array.isArray(l)&&(i=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,i){var h;if(l){var f=this.getLengths(i),d=f[f.length-1],u=Math.min(l,d);h=u/d}else h=n;return h},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,i=new r(l[0],l[1]),h=new r(l[2],l[3]);return new e(i,h)},c.exports=e},14744:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(32112),s=t(26099),r=new a({Extends:p,initialize:function(n,l,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2;return n.set(o(e,l.x,i.x,h.x),o(e,l.y,i.y,h.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]);return new r(l,i,h)},c.exports=r},42534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),p=t(83419),o=t(80021),s=t(26099),r=new p({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new s;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new s(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.points,i=(l.length-1)*e,h=Math.floor(i),f=i-h,d=l[h===0?h:h-1],u=l[h],v=l[h>l.length-2?l.length-1:h+1],g=l[h>l.length-3?l.length-1:h+2];return n.set(a(f,d.x,u.x,v.x,g.x),a(f,d.y,u.y,v.y,g.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},c.exports=r},25410:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r,e){this.active=!1,this.p0=new p(r,e)},getPoint:function(s,r){return r===void 0&&(r=new p),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=o},46669:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(46728),o=t(73825),s=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),i=t(42534),h=t(26099),f=t(36383),d=new a({initialize:function(v,g){v===void 0&&(v=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,g)},add:function(u){return this.curves.push(u),this},circleTo:function(u,v,g){return v===void 0&&(v=!1),this.ellipseTo(u,u,0,360,v,g)},closePath:function(){var u=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return u.equals(v)||this.curves.push(new r(v,u)),this},cubicBezierTo:function(u,v,g,y,m,T){var S=this.getEndPoint(),E,C,w;return u instanceof h?(E=u,C=v,w=g):(E=new h(g,y),C=new h(m,T),w=new h(u,v)),this.add(new p(S,E,C,w))},quadraticBezierTo:function(u,v,g,y){var m=this.getEndPoint(),T,S;return u instanceof h?(T=u,S=v):(T=new h(g,y),S=new h(u,v)),this.add(new n(m,T,S))},draw:function(u,v){for(var g=0;g<this.curves.length;g++){var y=this.curves[g];y.active&&y.draw(u,v)}return u},ellipseTo:function(u,v,g,y,m,T){var S=new o(0,0,u,v,g,y,m,T),E=this.getEndPoint(this._tmpVec2A),C=S.getStartPoint(this._tmpVec2B);return E.subtract(C),S.x=E.x,S.y=E.y,this.add(S)},fromJSON:function(u){this.curves=[],this.cacheLengths=[],this.startPoint.set(u.x,u.y),this.autoClose=u.autoClose;for(var v=0;v<u.curves.length;v++){var g=u.curves[v];switch(g.type){case"LineCurve":this.add(r.fromJSON(g));break;case"EllipseCurve":this.add(o.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(p.fromJSON(g));break;case"QuadraticBezierCurve":this.add(n.fromJSON(g));break}}return this},getBounds:function(u,v){u===void 0&&(u=new l),v===void 0&&(v=16),u.x=Number.MAX_VALUE,u.y=Number.MAX_VALUE;for(var g=new l,y=f.MIN_SAFE_INTEGER,m=f.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(g,v),u.x=Math.min(u.x,g.x),u.y=Math.min(u.y,g.y),y=Math.max(y,g.right),m=Math.max(m,g.bottom))}return u.right=y,u.bottom=m,u},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var u=[],v=0,g=0;g<this.curves.length;g++)v+=this.curves[g].getLength(),u.push(v);return this.cacheLengths=u,u},getCurveAt:function(u){for(var v=u*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=v)return this.curves[y];y++}return null},getEndPoint:function(u){return u===void 0&&(u=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,u):u.copy(this.startPoint),u},getLength:function(){var u=this.getCurveLengths();return u[u.length-1]},getPoint:function(u,v){v===void 0&&(v=new h);for(var g=u*this.getLength(),y=this.getCurveLengths(),m=0;m<y.length;){if(y[m]>=g){var T=y[m]-g,S=this.curves[m],E=S.getLength(),C=E===0?0:1-T/E;return S.getPointAt(C,v)}m++}return null},getPoints:function(u,v){!u&&!v&&(u=this.defaultDivisions);for(var g=[],y,m=0;m<this.curves.length;m++){var T=this.curves[m];if(T.active)for(var S=T.getResolution(u),E=T.getPoints(S,v),C=0;C<E.length;C++){var w=E[C];y&&y.equals(w)||(g.push(w),y=w)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(u){return u===void 0&&(u=new h),this.getPoint(Math.random(),u)},getSpacedPoints:function(u){u===void 0&&(u=40);for(var v=[],g=0;g<=u;g++)v.push(this.getPoint(g/u));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(u){return u===void 0&&(u=new h),u.copy(this.startPoint)},getTangent:function(u,v){v===void 0&&(v=new h);for(var g=u*this.getLength(),y=this.getCurveLengths(),m=0;m<y.length;){if(y[m]>=g){var T=y[m]-g,S=this.curves[m],E=S.getLength(),C=E===0?0:1-T/E;return S.getTangentAt(C,v)}m++}return null},lineTo:function(u,v){u instanceof h?this._tmpVec2B.copy(u):typeof u=="object"?this._tmpVec2B.setFromObject(u):this._tmpVec2B.set(u,v);var g=this.getEndPoint(this._tmpVec2A);return this.add(new r([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(u){return u.unshift(this.getEndPoint()),this.add(new i(u))},moveTo:function(u,v){return u instanceof h?this.add(new e(u.x,u.y)):this.add(new e(u,v))},toJSON:function(){for(var u=[],v=0;v<this.curves.length;v++)u.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:u}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(u,v){return new d(u,v)}),c.exports=d},45893:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(24882),o=new a({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],n=0;n<s.length;n++)e.push(r[s[n]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,n=this.list,l=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(h){if(!e._frozen){var f=n[s];n[s]=h,l.emit(p.CHANGE_DATA,i,s,h,f),l.emit(p.CHANGE_DATA_KEY+s,i,h,f)}}}),n[s]=r,l.emit(p.SET_DATA,i,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});c.exports=o},63646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45893),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),c.exports=r},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(i,h){var f=s.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(f||s.canPlayType("audio/"+h).replace(/^no$/,"")):!!f};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)p.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(p.dolby=!0)}}}}catch{}return p}c.exports=o()},84148:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(p.edge=!0,p.es2019=!0):/OPR/.test(s)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(p.silk=!0),p}c.exports=o()},89289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var i=new Image;i.onload=function(){var h=a.create2D(i,6),f=h.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(i,2,0),!f.getImageData(2,0,1,1))return!1;var d=f.getImageData(2,0,1,1).data;a.remove(i),p.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function s(){var e=a.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var i=n.getImageData(1,0,1,1),h=i.data[0]===l.data[0]&&i.data[1]===l.data[1]&&i.data[2]===l.data[2]&&i.data[3]===l.data[3];return a.remove(this),h}function r(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=o(),p.supportInverseAlpha=s()),p}c.exports=r()},89357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p=t(84148),o=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),i=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var i=o.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),f=o.create2D(this),d=f.getContext("2d",{willReadFrequently:!0}),u=d.createImageData(1,1);return n=u.data instanceof Uint8ClampedArray,o.remove(i),o.remove(f),!!h}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(p.ie||p.firefox||p.chrome)&&(s.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var a,p="Fullscreen",o="FullScreen",s=["request"+p,"request"+o,"webkitRequest"+p,"webkitRequest"+o,"msRequest"+p,"msRequest"+o,"mozRequest"+o,"mozRequest"+p];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){x.available=!0,x.request=s[a];break}var r=["cancel"+o,"exit"+p,"webkitCancel"+o,"webkitExit"+p,"msCancel"+o,"msExit"+p,"mozCancel"+o,"mozExit"+p];if(x.available){for(a=0;a<r.length;a++)if(document[r[a]]){x.cancel=r[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}c.exports=t()},31784:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}c.exports=o()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var p=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!p||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}c.exports=t()},43267:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return p;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),p.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=a(n[l],"url",n[l]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=a(n[l],"type",h?h[1]:"").toLowerCase(),p[h])return{url:i,type:h}}return null},p}c.exports=o()},82264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new Float32Array(20),o=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),n=Math.sin(s),l=.213,i=.715,h=.072;return this.multiply([l+e*(1-l)+n*-l,i+e*-i+n*-i,h+e*-h+n*(1-h),0,0,l+e*-l+n*.143,i+e*(1-i)+n*.14,h+e*-h+n*-.283,0,0,l+e*-l+n*-.787,i+e*-i+n*i,h+e*(1-h)+n*h,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(o.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(o.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(o.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(o.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(o.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(o.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(o.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(o.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(o.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(o.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(o.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=p;return n.set(e),e.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=o},51767:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(29747),o=new a({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(r,e,n)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=o},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=x},54312:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(35893),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},46768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},35827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},46871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66786),p=t(35893),o=t(7702),s=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),a(r,p(e)+n,o(e)+l),r};c.exports=s},5198:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(26541),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},11879:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(54312),p[a.BOTTOM_LEFT]=t(46768),p[a.BOTTOM_RIGHT]=t(35827),p[a.CENTER]=t(46871),p[a.LEFT_CENTER]=t(5198),p[a.RIGHT_CENTER]=t(80503),p[a.TOP_CENTER]=t(89698),p[a.TOP_LEFT]=t(922),p[a.TOP_RIGHT]=t(21373),p[a.LEFT_BOTTOM]=p[a.BOTTOM_LEFT],p[a.LEFT_TOP]=p[a.TOP_LEFT],p[a.RIGHT_BOTTOM]=p[a.BOTTOM_RIGHT],p[a.RIGHT_TOP]=p[a.TOP_RIGHT];var o=function(s,r,e,n,l){return p[e](s,r,n,l)};c.exports=o},80503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(54380),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},89698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),p=t(17717),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};c.exports=r},21373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},91660:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=t(79291),o={In:t(91660),To:t(16694)};o=p(!1,o,a),c.exports=o},21578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(35893),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};c.exports=r},10210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)-l),s(e,a(n)+i),e};c.exports=r},82341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};c.exports=r},87958:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},40080:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(26541),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},88466:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};c.exports=r},38829:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(21578),p[a.BOTTOM_LEFT]=t(10210),p[a.BOTTOM_RIGHT]=t(82341),p[a.LEFT_BOTTOM]=t(87958),p[a.LEFT_CENTER]=t(40080),p[a.LEFT_TOP]=t(88466),p[a.RIGHT_BOTTOM]=t(19211),p[a.RIGHT_CENTER]=t(34609),p[a.RIGHT_TOP]=t(48741),p[a.TOP_CENTER]=t(49440),p[a.TOP_LEFT]=t(81288),p[a.TOP_RIGHT]=t(61323);var o=function(s,r,e,n,l){return p[e](s,r,n,l)};c.exports=o},19211:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},34609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(54380),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},48741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},49440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),p=t(17717),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};c.exports=r},81288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)-l),o(e,p(n)-i),e};c.exports=r},61323:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};c.exports=r},16694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88417),p=t(20786),o=function(s,r,e){return a(s,r),p(s,e)};c.exports=o},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y+t.height-t.height*t.originY};c.exports=x},72873:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(54380),s=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var i=p(n),h=s(n);return l.x=i,l.y=h,l.width=o(n)-i,l.height=a(n)-h,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=x},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=x},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX};c.exports=x},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.originX};c.exports=x},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height*t.originY};c.exports=x},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x+t.width-t.width*t.originX};c.exports=x},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY};c.exports=x},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a-t.height+t.height*t.originY,t};c.exports=x},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.width*t.originX;return t.x=a+p-t.width*.5,t};c.exports=x},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.height*t.originY;return t.y=a+p-t.height*.5,t};c.exports=x},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a+t.width*t.originX,t};c.exports=x},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a-t.width+t.width*t.originX,t};c.exports=x},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a+t.height*t.originY,t};c.exports=x},58724:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=x},27919:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),p=t(68703),o=[],s=!1,r=function(){var e=function(g,y,m,T,S){y===void 0&&(y=1),m===void 0&&(m=1),T===void 0&&(T=a.CANVAS),S===void 0&&(S=!1);var E,C=i(T);return C===null?(C={parent:g,canvas:document.createElement("canvas"),type:T},T===a.CANVAS&&o.push(C),E=C.canvas):(C.parent=g,E=C.canvas),S&&(C.parent=E),E.width=y,E.height=m,s&&T===a.CANVAS&&p.disable(E.getContext("2d",{willReadFrequently:!1})),E},n=function(g,y,m){return e(g,y,m,a.CANVAS)},l=function(g,y,m){return e(g,y,m,a.WEBGL)},i=function(g){if(g===void 0&&(g=a.CANVAS),g===a.WEBGL)return null;for(var y=0;y<o.length;y++){var m=o[y];if(!m.parent&&m.type===g)return m}return null},h=function(g){var y=g instanceof HTMLCanvasElement;o.forEach(function(m){(y&&m.canvas===g||!y&&m.parent===g)&&(m.parent=null,m.canvas.width=1,m.canvas.height=1)})},f=function(){var g=0;return o.forEach(function(y){y.parent&&g++}),g},d=function(){return o.length-f()},u=function(){s=!0},v=function(){s=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:u,enableSmoothing:v,first:i,free:d,pool:o,remove:h,total:f}};c.exports=r()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",t=function(){var a=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},p=function(r){return x===""&&(x=a(r)),x&&(r[x]=!0),r},o=function(r){return x===""&&(x=a(r)),x&&(r[x]=!1),r},s=function(r){return x!==null?r[x]:null};return{disable:o,enable:p,getPrefix:a,isEnabled:s}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};c.exports=x},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(o){t.style[o+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=x},26253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37589),o=t(1e3),s=t(7537),r=t(87837),e=new a({initialize:function(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,i,h,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,i,h,f){return h===void 0&&(h=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=i,this.alpha=h,this._locked=!1,this.update(f)},setGLTo:function(n,l,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,i){return s(n,l,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,i=this.g,h=this.b,f=this.a;return this._color=p(l,i,h),this._color32=o(l,i,h,f),this._rgba="rgba("+l+","+i+","+h+","+f/255+")",n&&r(l,i,h,this),this},updateHSV:function(){var n=this.r,l=this.g,i=this.b;return r(n,l,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n)),h=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(i,h,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,i=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),this.setTo(l,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});c.exports=e},92728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),p=function(o){o===void 0&&(o=1024);var s=[],r=255,e,n=255,l=0,i=0;for(e=0;e<=r;e++)s.push({r:n,g:e,b:i,color:a(n,e,i)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:i,color:a(e,l,i)});for(n=0,e=0;e<=r;e++,l--)s.push({r:n,g:l,b:e,color:a(n,l,e)});for(l=0,i=255,e=0;e<=r;e++,i--,n++)s.push({r:n,g:l,b:i,color:a(n,l,i)});if(o===1024)return s;var h=[],f=0,d=1024/o;for(e=0;e<o;e++)h.push(s[Math.floor(f)]),f+=d;return h};c.exports=p},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};c.exports=x},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};c.exports=x},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t<<16|a<<8|p};c.exports=x},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return o<<24|t<<16|a<<8|p};c.exports=x},62183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=t(89528),o=function(s,r,e){var n=e,l=e,i=e;if(r!==0){var h=e<.5?e*(1+r):e+r-e*r,f=2*e-h;n=p(f,h,s+1/3),l=p(f,h,s),i=p(f,h,s-1/3)}var d=new a;return d.setGLTo(n,l,i,1)};c.exports=o},27939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7537),p=function(o,s){o===void 0&&(o=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(a(e/359,o,s));return r};c.exports=p},7537:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589);function p(s,r,e,n){var l=(s+r*6)%6,i=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var o=function(s,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=p(5,s,r,e),i=p(3,s,r,e),h=p(1,s,r,e);return n?n.setTo?n.setTo(l,i,h,n.alpha,!0):(n.r=l,n.g=i,n.b=h,n.color=a(l,i,h),n):{r:l,g:i,b:h,color:a(l,i,h)}};c.exports=o},70238:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){var s=new a;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,f,d){return h+h+f+f+d+d});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,n,l)}return s};c.exports=p},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(a-t)*6*p:p<.5?a:p<.6666666666666666?t+(a-t)*(.6666666666666666-p)*6:t};c.exports=x},30100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=t(90664),o=function(s){var r=p(s);return new a(r.r,r.g,r.b,r.a)};c.exports=o},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=x},13699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),p=t(37589),o=function(e,n,l,i,h,f,d,u){d===void 0&&(d=100),u===void 0&&(u=0);var v=u/d,g=a(e,i,v),y=a(n,h,v),m=a(l,f,v);return{r:g,g:y,b:m,a:255,color:p(g,y,m)}},s=function(e,n,l,i){return l===void 0&&(l=100),i===void 0&&(i=0),o(e.r,e.g,e.b,n.r,n.g,n.b,l,i)},r=function(e,n,l,i,h,f){return h===void 0&&(h=100),f===void 0&&(f=0),o(e.r,e.g,e.b,n,l,i,h,f)};c.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:s}},68957:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){return new a(o.r,o.g,o.b,o.a)};c.exports=p},87388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){var s=new a,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,n,l,i*255)}return s};c.exports=p},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,a/=255,p/=255;var s=Math.min(t,a,p),r=Math.max(t,a,p),e=r-s,n=0,l=r===0?0:e/r,i=r;return r!==s&&(r===t?n=(a-p)/e+(a<p?6:0):r===a?n=(p-t)/e+2:r===p&&(n=(t-a)/e+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=i):(o.h=n,o.s=l,o.v=i),o};c.exports=x},75723:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62957),p=function(o,s,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+a(e)+a(o)+a(s)+a(r)};c.exports=p},85386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(40987),o=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new p(a(s,r),a(s,r),a(s,r))};c.exports=o},80333:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70238),p=t(30100),o=t(68957),s=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):a(e);case"number":return p(e);case"object":return o(e)}};c.exports=r},3956:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),c.exports=a},27460:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39429),o=new a({initialize:function(r,e,n,l,i,h){e||(e=r.sys.make.image({x:n,y:l,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(s,r,e,n,l){return new o(this.scene,s,r,e,n,l)}),c.exports=o},80661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,s,r){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,s,r){var e=o.gl,n=this.geometryMask,l=o.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(o,n,s),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,i):e.stencilFunc(e.EQUAL,l,i)},postRenderWebGL:function(o){var s=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(o,s,r){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=p},69781:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});c.exports=p},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p;if(a)typeof a=="string"?p=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(p=a);else if(t.parentElement||a===null)return t;return p||(p=document.body),p.appendChild(t),t};c.exports=x},83719:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=function(o){var s=o.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,a(r,s.parent)}};c.exports=p},57264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),o()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};c.exports=p},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),p={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),p.w=a===90?o.offsetHeight:window.innerWidth,p.h=a===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?p.h:p.w};c.exports=x},45818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),p=function(o,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>o?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};c.exports=p},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};c.exports=x},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a="";try{if(window.DOMParser){var p=new DOMParser;a=p.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};c.exports=x},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=x},43092:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(29747),o=new a({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});c.exports=o},84902:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=a},47565:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(37277),s=new a({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",s,"events"),c.exports=s},93055:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.BARREL,e),this.amount=n}});c.exports=s},32251:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d){l===void 0&&(l=1),i===void 0&&(i=1),h===void 0&&(h=1),f===void 0&&(f=1),d===void 0&&(d=4),p.call(this,o.BLOOM,e),this.steps=d,this.offsetX=l,this.offsetY=i,this.blurStrength=h,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},9047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d){n===void 0&&(n=0),l===void 0&&(l=2),i===void 0&&(i=2),h===void 0&&(h=1),d===void 0&&(d=4),p.call(this,o.BLUR,e),this.quality=n,this.x=l,this.y=i,this.steps=d,this.strength=h,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},27885:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d,u){n===void 0&&(n=.5),l===void 0&&(l=1),i===void 0&&(i=.2),h===void 0&&(h=!1),f===void 0&&(f=1),d===void 0&&(d=1),u===void 0&&(u=1),p.call(this,o.BOKEH,e),this.radius=n,this.amount=l,this.contrast=i,this.isTiltShift=h,this.strength=u,this.blurX=f,this.blurY=d}});c.exports=s},12578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f){n===void 0&&(n=8),h===void 0&&(h=1),f===void 0&&(f=.005),p.call(this,o.CIRCLE,e),this.scale=h,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});c.exports=s},15802:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89422),o=t(14811),s=new a({Extends:p,initialize:function(e){p.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=s},72898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=p},44553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),i===void 0&&(i=.005),p.call(this,o.DISPLACEMENT,e),this.x=l,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});c.exports=s},68531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){l===void 0&&(l=4),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},37102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d,u,v){i===void 0&&(i=.2),h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=1),v===void 0&&(v=0),p.call(this,o.GRADIENT,e),this.alpha=i,this.size=v,this.fromX=h,this.fromY=f,this.toX=d,this.toY=u,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});c.exports=s},86886:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.PIXELATE,e),this.amount=n}});c.exports=s},92322:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d,u){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=.1),h===void 0&&(h=1),d===void 0&&(d=6),u===void 0&&(u=1),p.call(this,o.SHADOW,e),this.x=n,this.y=l,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=u,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},39563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=3),h===void 0&&(h=!1),p.call(this,o.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=i,this.reveal=h}});c.exports=s},56448:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),p.call(this,o.VIGNETTE,e),this.x=n,this.y=l,this.radius=i,this.strength=h}});c.exports=s},38433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.1),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=i,this.reveal=h}});c.exports=s},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=x},66064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=a(!1,o,p),c.exports=o},25305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(23568),o=function(s,r,e){r.x=p(e,"x",0),r.y=p(e,"y",0),r.depth=p(e,"depth",0),r.flipX=p(e,"flipX",!1),r.flipY=p(e,"flipY",!1);var n=p(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=p(n,"x",1),r.scaleY=p(n,"y",1));var l=p(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=p(l,"x",1),r.scrollFactorY=p(l,"y",1)),r.rotation=p(e,"rotation",0);var i=p(e,"angle",null);i!==null&&(r.angle=i),r.alpha=p(e,"alpha",1);var h=p(e,"origin",null);if(typeof h=="number")r.setOrigin(h);else if(h!==null){var f=p(h,"x",.5),d=p(h,"y",.5);r.setOrigin(f,d)}r.blendMode=p(e,"blendMode",a.NORMAL),r.visible=p(e,"visible",!0);var u=p(e,"add",!0);return u&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};c.exports=o},13059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23568),p=function(o,s){var r=a(s,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var e=o.anims,n=a(r,"key",void 0);if(n){var l=a(r,"startFrame",void 0),i=a(r,"delay",0),h=a(r,"repeat",0),f=a(r,"repeatDelay",0),d=a(r,"yoyo",!1),u=a(r,"play",!1),v=a(r,"delayedPlay",0),g={key:n,delay:i,repeat:h,repeatDelay:f,yoyo:d,startFrame:l};u?e.play(g):v>0?e.playAfterDelay(g,v):e.load(g)}}return o};c.exports=p},8050:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(73162),o=t(37277),s=t(51708),r=t(44594),e=t(19186),n=new a({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,i){return l._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,i=l.length;i--;)l[i]&&l[i].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(53774),o=t(45893),s=t(50792),r=t(51708),e=t(44594),n=new a({Extends:s,initialize:function(i,h){s.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,i){return this.data||(this.data=new o(this)),this.data.set(l,i),this},incData:function(l,i){return this.data||(this.data=new o(this)),this.data.inc(l,i),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,i,h){return this.scene.sys.input.enable(this,l,i,h),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(l){var i=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(l)),l=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectCreator",s,"make"),c.exports=s},39429:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectFactory",s,"add"),c.exports=s},91296:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=new a,o=new a,s=new a,r={camera:p,sprite:o,calc:s},e=function(n,l,i){var h=p,f=o,d=s;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(l.matrix),i?(h.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),h.multiply(f,d),r};c.exports=e},45027:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(25774),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,i=l.length,h=0;h<i;h++){var f=l[h];f.active&&f.preUpdate.call(f,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),c.exports=r},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r,e,n,l,i,h,f,d,u,v){var g=p.x-a.displayOriginX+s,y=p.y-a.displayOriginY+r,m=g+p.w,T=y+p.h,S=e.a,E=e.b,C=e.c,w=e.d,A=e.e,P=e.f,M=g*S+y*C+A,R=g*E+y*w+P,I=g*S+T*C+A,D=g*E+T*w+P,Y=m*S+T*C+A,B=m*E+T*w+P,O=m*S+y*C+A,N=m*E+y*w+P;n&&(M=Math.round(M),R=Math.round(R),I=Math.round(I),D=Math.round(D),Y=Math.round(Y),B=Math.round(B),O=Math.round(O),N=Math.round(N)),t.batchQuad(a,M,R,I,D,Y,B,O,N,o.u0,o.v0,o.u1,o.v1,l,i,h,f,d,u,v)};c.exports=x},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(p===void 0&&(p=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var s=t.text,r=s.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,f=0,d=t.fontData.chars,u=t.fontData.lineHeight,v=t.letterSpacing,g=t.lineSpacing,y=0,m=0,T=0,S=null,E=t._align,C=0,w=0,A=t.fontSize/t.fontData.size,P=A*t.scaleX,M=A*t.scaleY,R=null,I=0,D=[],Y=Number.MAX_VALUE,B=0,O=0,N=0,L,W,F,U=[],Z=[],J=null,Q=function(st,dt){for(var pt=0,ot=0;ot<st.length;ot++){var ct=st.charCodeAt(ot),Ct=dt.chars[ct];Ct&&(pt+=Ct.xAdvance)}return pt*P};if(e>0){F=s.split(`
`);var k=[];for(L=0;L<F.length;L++){var et=F[L],it="",q="",tt="",nt="";for(W=0;W<et.length;W++)if(T=et.charCodeAt(W),it+=et[W],T===n||W===et.length-1){nt=tt+it;var ht=Q(nt,t.fontData);ht<=e?tt=nt:(q=q.slice(0,-1),q+=(q?`
`:"")+tt,tt=it),it=""}q=q.slice(0,-1),q+=(q?`
`:"")+tt,k.push(q)}s=k.join(`
`),o.wrappedText=s,r=s.length}var gt=0;for(L=0;L<r;L++){if(T=s.charCodeAt(L),T===10){J!==null&&(U.push({word:J.word,i:J.i,x:J.x*P,y:J.y*M,w:J.w*P,h:J.h*M}),J=null),R=null,D[O]=N,N>B&&(B=N),N<Y&&(Y=N),O++,N=0,y=0,m=(u+g)*O;continue}if(S=d[T],!!S){if(C=y,w=m,R!==null){var mt=S.kerning[I];C+=mt!==void 0?mt:0}l>C&&(l=C),i>w&&(i=w);var at=C+S.xAdvance,ft=w+u;h<at&&(h=at),f<ft&&(f=ft);var xt=S.xOffset+S.xAdvance+(mt!==void 0?mt:0);T===n?J!==null&&(U.push({word:J.word,i:J.i,x:J.x*P,y:J.y*M,w:J.w*P,h:J.h*M}),J=null):(J===null&&(J={word:"",i:gt,x:y,y:m,w:0,h:u}),J.word=J.word.concat(s[L]),J.w+=xt),Z.push({i:gt,idx:L,char:s[L],code:T,x:(S.xOffset+C)*A,y:(S.yOffset+m)*A,w:S.width*A,h:S.height*A,t:m*A,r:at*A,b:u*A,line:O,glyph:S}),y+=S.xAdvance+v+(mt!==void 0?mt:0),R=S,I=T,N=at*A,gt++}}if(J!==null&&U.push({word:J.word,i:J.i,x:J.x*P,y:J.y*M,w:J.w*P,h:J.h*M}),D[O]=N,N>B&&(B=N),N<Y&&(Y=N),E>0)for(var vt=0;vt<Z.length;vt++){var Pt=Z[vt];if(E===1){var H=(B-D[Pt.line])/2;Pt.x+=H,Pt.r+=H}else if(E===2){var K=B-D[Pt.line];Pt.x+=K,Pt.r+=K}}var $=o.local,_=o.global;return F=o.lines,$.x=l*A,$.y=i*A,$.width=h*A,$.height=f*A,_.x=t.x-t._displayOriginX+l*P,_.y=t.y-t._displayOriginY+i*M,_.width=h*P,_.height=f*M,F.shortest=Y,F.longest=B,F.lengths=D,a&&($.x=Math.ceil($.x),$.y=Math.ceil($.y),$.width=Math.ceil($.width),$.height=Math.ceil($.height),_.x=Math.ceil(_.x),_.y=Math.ceil(_.y),_.width=Math.ceil(_.width),_.height=Math.ceil(_.height),F.shortest=Math.ceil(Y),F.longest=Math.ceil(B)),p&&(t._displayOriginX=t.originX*$.width,t._displayOriginY=t.originY*$.height,_.x=t.x-t._displayOriginX*t.scaleX,_.y=t.y-t._displayOriginY*t.scaleY,a&&(_.x=Math.ceil(_.x),_.y=Math.ceil(_.y))),o.words=U,o.characters=Z,o.lines.height=u,o.scale=A,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};c.exports=x},61327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21859),p=function(o,s,r,e,n,l,i){var h=o.sys.textures.get(r),f=h.get(e),d=o.sys.cache.xml.get(n);if(f&&d){var u=a(d,f,l,i,h);return o.sys.cache.bitmapFont.add(s,{data:u,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=p},6925:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=function(o,s){var r=s.width,e=s.height,n=Math.floor(r/2),l=Math.floor(e/2),i=a(s,"chars","");if(i!==""){var h=a(s,"image",""),f=o.sys.textures.getFrame(h),d=f.cutX,u=f.cutY,v=f.source.width,g=f.source.height,y=a(s,"offset.x",0),m=a(s,"offset.y",0),T=a(s,"spacing.x",0),S=a(s,"spacing.y",0),E=a(s,"lineSpacing",0),C=a(s,"charsPerRow",null);C===null&&(C=v/r,C>i.length&&(C=i.length));for(var w=y,A=m,P={retroFont:!0,font:h,size:r,lineHeight:e+E,chars:{}},M=0,R=0;R<i.length;R++){var I=i.charCodeAt(R),D=(d+w)/v,Y=(u+A)/g,B=(d+w+r)/v,O=(u+A+e)/g;P.chars[I]={x:w,y:A,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:D,v0:Y,u1:B,v1:O},M++,M===C?(M=0,w=y,A+=e+S):w+=r+T}var N={data:P,frame:null,texture:h};return N}};c.exports=p},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,p){return parseInt(a.getAttribute(p),10)}var t=function(a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0);var e=p.cutX,n=p.cutY,l=p.source.width,i=p.source.height,h=p.sourceIndex,f={},d=a.getElementsByTagName("info")[0],u=a.getElementsByTagName("common")[0];f.font=d.getAttribute("face"),f.size=x(d,"size"),f.lineHeight=x(u,"lineHeight")+s,f.chars={};var v=a.getElementsByTagName("char"),g=p!==void 0&&p.trimmed;if(g)var y=p.height,m=p.width;for(var T=0;T<v.length;T++){var S=v[T],E=x(S,"id"),C=String.fromCharCode(E),w=x(S,"x"),A=x(S,"y"),P=x(S,"width"),M=x(S,"height");g&&(w<m&&(m=w),A<y&&(y=A)),g&&y!==0&&m!==0&&(w-=p.x,A-=p.y);var R=(e+w)/l,I=(n+A)/i,D=(e+w+P)/l,Y=(n+A+M)/i;if(f.chars[E]={x:w,y:A,width:P,height:M,centerX:Math.floor(P/2),centerY:Math.floor(M/2),xOffset:x(S,"xoffset"),yOffset:x(S,"yoffset"),xAdvance:x(S,"xadvance")+o,data:{},kerning:{},u0:R,v0:I,u1:D,v1:Y},r&&P!==0&&M!==0){var B=r.add(C,h,w,A,P,M);B&&B.setUVs(P,M,R,I,D,Y)}}var O=a.getElementsByTagName("kerning");for(T=0;T<O.length;T++){var N=O[T],L=x(N,"first"),W=x(N,"second"),F=x(N,"amount");f.chars[W].kerning[L]=F}return f};c.exports=t},196:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87662),p=t(79291),o={Parse:t(6925)};o=p(!1,o,a),c.exports=o},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=x},2638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(83419),o=t(12310),s=new p({Extends:a,Mixins:[o],initialize:function(e,n,l,i,h,f,d){a.call(this,e,n,l,i,h,f,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});c.exports=s},86741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.displayCallback,d=s.callbackData,u=s.fontData.chars,v=s.fontData.lineHeight,g=s._letterSpacing,y=0,m=0,T=0,S=null,E=0,C=0,w=0,A=0,P=0,M=0,R=null,I=0,D=s.frame.source.image,Y=h.cutX,B=h.cutY,O=0,N=0,L=s._fontSize/s.fontData.size,W=s._align,F=0,U=0;s.getTextBounds(!1);var Z=s._bounds.lines;W===1?U=(Z.longest-Z.lengths[0])/2:W===2&&(U=Z.longest-Z.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var J=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var Q=0;Q<l;Q++){if(N=L,O=0,T=n.charCodeAt(Q),T===10){F++,W===1?U=(Z.longest-Z.lengths[F])/2:W===2&&(U=Z.longest-Z.lengths[F]),y=0,m+=v,R=null;continue}if(S=u[T],!!S){if(E=Y+S.x,C=B+S.y,w=S.width,A=S.height,P=S.xOffset+y-s.scrollX,M=S.yOffset+m-s.scrollY,R!==null){var k=S.kerning[I];P+=k!==void 0?k:0}if(f){d.index=Q,d.charCode=T,d.x=P,d.y=M,d.scale=N,d.rotation=O,d.data=S.data;var et=f(d);P=et.x,M=et.y,N=et.scale,O=et.rotation}P*=N,M*=N,P+=U,y+=S.xAdvance+g+(k!==void 0?k:0),R=S,I=T,!(w===0||A===0||T===32)&&(J&&(P=Math.round(P),M=Math.round(M)),i.save(),i.translate(P,M),i.rotate(O),i.scale(N,N),i.drawImage(D,E,C,w,A,0,0,w,A),i.restore())}}i.restore()}};c.exports=p},11164:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),p=t(25305),o=t(44603),s=t(23568);o.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=s(r,"font",""),l=s(r,"text",""),i=s(r,"size",!1),h=new a(this.scene,0,0,n,l,i);return e!==void 0&&(r.add=e),p(this.scene,h,r),h})},72566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),p=t(39429);p.register("dynamicBitmapText",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,e,n))})},12310:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(73482),o=t(86741),c.exports={renderWebGL:p,renderCanvas:o}},73482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(61340),o=t(70554),s=new p,r=function(e,n,l,i){var h=n.text,f=h.length;if(f!==0){l.addToRenderList(n);var d=e.pipelines.set(n.pipeline,n),u=a(n,l,i);e.pipelines.preBatch(n);var v=u.sprite,g=u.calc,y=s,m=n.cropWidth>0||n.cropHeight>0;m&&(d.flush(),e.pushScissor(g.tx,g.ty,n.cropWidth*g.scaleX,n.cropHeight*g.scaleY));var T=n.frame,S=T.glTexture,E=n.tintFill,C=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),w=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),A=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),P=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),M=d.setGameObject(n),R=0,I=0,D=0,Y=0,B=n.letterSpacing,O,N=0,L=0,W,F=n.scrollX,U=n.scrollY,Z=n.fontData,J=Z.chars,Q=Z.lineHeight,k=n.fontSize/Z.size,et=0,it=n._align,q=0,tt=0,nt=n.getTextBounds(!1);n.maxWidth>0&&(h=nt.wrappedText,f=h.length);var ht=n._bounds.lines;it===1?tt=(ht.longest-ht.lengths[0])/2:it===2&&(tt=ht.longest-ht.lengths[0]);for(var gt=l.roundPixels,mt=n.displayCallback,at=n.callbackData,ft=0;ft<f;ft++){if(D=h.charCodeAt(ft),D===10){q++,it===1?tt=(ht.longest-ht.lengths[q])/2:it===2&&(tt=ht.longest-ht.lengths[q]),R=0,I+=Q,W=null;continue}if(O=J[D],!!O){N=O.width,L=O.height;var xt=O.xOffset+R-F,vt=O.yOffset+I-U;if(W!==null){var Pt=O.kerning[Y]||0;xt+=Pt,R+=Pt}if(R+=O.xAdvance+B,W=O,Y=D,!(N===0||L===0||D===32)){if(k=n.fontSize/n.fontData.size,et=0,mt){at.color=0,at.tint.topLeft=C,at.tint.topRight=w,at.tint.bottomLeft=A,at.tint.bottomRight=P,at.index=ft,at.charCode=D,at.x=xt,at.y=vt,at.scale=k,at.rotation=et,at.data=O.data;var H=mt(at);xt=H.x,vt=H.y,k=H.scale,et=H.rotation,H.color?(C=H.color,w=H.color,A=H.color,P=H.color):(C=H.tint.topLeft,w=H.tint.topRight,A=H.tint.bottomLeft,P=H.tint.bottomRight),C=o.getTintAppendFloatAlpha(C,l.alpha*n._alphaTL),w=o.getTintAppendFloatAlpha(w,l.alpha*n._alphaTR),A=o.getTintAppendFloatAlpha(A,l.alpha*n._alphaBL),P=o.getTintAppendFloatAlpha(P,l.alpha*n._alphaBR)}xt*=k,vt*=k,xt-=n.displayOriginX,vt-=n.displayOriginY,xt+=tt,y.applyITRS(xt,vt,et,k,k),g.multiply(y,v);var K=O.u0,$=O.v0,_=O.u1,st=O.v1,dt=N,pt=L,ot=v.e,ct=v.f,Ct=pt*v.c+v.e,Mt=pt*v.d+v.f,Rt=dt*v.a+pt*v.c+v.e,bt=dt*v.b+pt*v.d+v.f,zt=dt*v.a+v.e,Wt=dt*v.b+v.f;gt&&(ot=Math.round(ot),ct=Math.round(ct),Ct=Math.round(Ct),Mt=Math.round(Mt),Rt=Math.round(Rt),bt=Math.round(bt),zt=Math.round(zt),Wt=Math.round(Wt)),d.shouldFlush(6)&&(d.flush(),M=d.setGameObject(n)),d.batchQuad(n,ot,ct,Ct,Mt,Rt,bt,zt,Wt,K,$,_,st,C,w,A,P,E,S,M)}}}m&&(d.flush(),e.popScissor()),e.pipelines.postBatch(n)}};c.exports=r},22186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(31401),s=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),i=t(18658),h=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,i],initialize:function(d,u,v,g,y,m,T){y===void 0&&(y=""),T===void 0&&(T=0),s.call(this,d,"BitmapText"),this.font=g;var S=this.scene.sys.cache.bitmapFont.get(g);if(!S)throw new Error("Invalid BitmapText key: "+g);this.fontData=S.data,this._text="",this._fontSize=m||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(u,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,d,u,v){return f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=.5),this.dropShadowX=f,this.dropShadowY=d,this.dropShadowColor=u,this.dropShadowAlpha=v,this},setCharacterTint:function(f,d,u,v,g,y,m){f===void 0&&(f=0),d===void 0&&(d=1),u===void 0&&(u=!1),v===void 0&&(v=-1),g===void 0&&(g=v,y=v,m=v);var T=this.text.length;d===-1&&(d=T),f<0&&(f=T+f),f=p(f,0,T-1);for(var S=p(f+d,f,T),E=this.charColors,C=f;C<S;C++){var w=E[C];if(v===-1)E[C]=null;else{var A=u?1:0;w?(w.tintEffect=A,w.tintTL=v,w.tintTR=g,w.tintBL=y,w.tintBR=m):E[C]={tintEffect:A,tintTL:v,tintTR:g,tintBL:y,tintBR:m}}}return this},setWordTint:function(f,d,u,v,g,y,m){d===void 0&&(d=1);for(var T=this.getTextBounds(),S=T.words,E=typeof f=="number",C=0,w=0;w<S.length;w++){var A=S[w];if((E&&w===f||!E&&A.word===f)&&(this.setCharacterTint(A.i,A.word.length,u,v,g,y,m),C++,C===d))return this}return this},getTextBounds:function(f){var d=this._bounds;return(this._dirty||f||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(r(this,f,!0,d),this._dirty=!1),d},getCharacterAt:function(f,d,u){for(var v=this.getLocalPoint(f,d,null,u),g=this.getTextBounds(),y=g.characters,m=new l,T=0;T<y.length;T++){var S=y[T];if(m.setTo(S.x,S.t,S.r-S.x,S.b),m.contains(v.x,v.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,d,u){d===void 0&&(d=this._fontSize),u===void 0&&(u=this._align);var v=this.scene.sys.cache.bitmapFont.get(f);return v&&(this.font=f,this.fontData=v.data,this._fontSize=d,this._align=u,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,d){return this._maxWidth=f,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},setDisplaySize:function(f,d){this.setScale(1,1),this.getTextBounds(!1);var u=f/this.width,v=d/this.height;return this.setScale(u,v),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(f){this.setScaleX(1),this.getTextBounds(!1);var d=f/this.width;this.setScaleX(d)},get:function(){return this.width}},displayHeight:{set:function(f){this.setScaleY(1),this.getTextBounds(!1);var d=f/this.height;this.setScaleY(d)},get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=d,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=n,c.exports=h},37289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.fontData.chars,d=s.fontData.lineHeight,u=s._letterSpacing,v=s._lineSpacing,g=0,y=0,m=0,T=null,S=0,E=0,C=0,w=0,A=0,P=0,M=null,R=0,I=h.source.image,D=h.cutX,Y=h.cutY,B=s._fontSize/s.fontData.size,O=s._align,N=0,L=0,W=s.getTextBounds(!1);s.maxWidth>0&&(n=W.wrappedText,l=n.length);var F=s._bounds.lines;O===1?L=(F.longest-F.lengths[0])/2:O===2&&(L=F.longest-F.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var U=r.roundPixels,Z=0;Z<l;Z++){if(m=n.charCodeAt(Z),m===10){N++,O===1?L=(F.longest-F.lengths[N])/2:O===2&&(L=F.longest-F.lengths[N]),g=0,y+=d+v,M=null;continue}if(T=f[m],!!T){if(S=D+T.x,E=Y+T.y,C=T.width,w=T.height,A=T.xOffset+g,P=T.yOffset+y,M!==null){var J=T.kerning[R];A+=J!==void 0?J:0}A*=B,P*=B,A+=L,g+=T.xAdvance+u+(J!==void 0?J:0),M=T,R=m,!(C===0||w===0||m===32)&&(U&&(A=Math.round(A),P=Math.round(P)),i.save(),i.translate(A,P),i.scale(B,B),i.drawImage(I,S,E,C,w,0,0,C,w),i.restore())}}i.restore()}};c.exports=p},57336:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(25305),o=t(44603),s=t(23568),r=t(35154);o.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),i=s(e,"text",""),h=s(e,"size",!1),f=r(e,"align",0),d=new a(this.scene,0,0,l,i,h,f);return n!==void 0&&(e.add=n),p(this.scene,d,e),d})},34914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(39429);p.register("bitmapText",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},18658:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(33590),o=t(37289),c.exports={renderWebGL:p,renderCanvas:o}},33590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3217),p=t(91296),o=t(70554),s=function(r,e,n,l){var i=e._text,h=i.length;if(h!==0){n.addToRenderList(e);var f=r.pipelines.set(e.pipeline,e),d=p(e,n,l).calc;r.pipelines.preBatch(e);var u=n.roundPixels,v=n.alpha,g=e.charColors,y=e.tintFill,m=o.getTintAppendFloatAlpha,T=m(e.tintTopLeft,v*e._alphaTL),S=m(e.tintTopRight,v*e._alphaTR),E=m(e.tintBottomLeft,v*e._alphaBL),C=m(e.tintBottomRight,v*e._alphaBR),w=e.frame.glTexture,A=f.setGameObject(e),P=e.getTextBounds(!1),M,R,I,D=P.characters,Y=e.dropShadowX,B=e.dropShadowY,O=Y!==0||B!==0;if(O){var N=e.dropShadowColor,L=e.dropShadowAlpha,W=m(N,v*L*e._alphaTL),F=m(N,v*L*e._alphaTR),U=m(N,v*L*e._alphaBL),Z=m(N,v*L*e._alphaBR);for(M=0;M<D.length;M++)R=D[M],I=R.glyph,!(R.code===32||I.width===0||I.height===0)&&a(f,e,R,I,Y,B,d,u,W,F,U,Z,1,w,A)}for(M=0;M<D.length;M++)if(R=D[M],I=R.glyph,!(R.code===32||I.width===0||I.height===0))if(f.shouldFlush(6)&&(f.flush(),A=f.setGameObject(e)),g[R.i]){var J=g[R.i],Q=J.tintEffect,k=m(J.tintTL,v*e._alphaTL),et=m(J.tintTR,v*e._alphaTR),it=m(J.tintBL,v*e._alphaBL),q=m(J.tintBR,v*e._alphaBR);a(f,e,R,I,0,0,d,u,k,et,it,q,Q,w,A)}else a(f,e,R,I,0,0,d,u,T,S,E,C,y,w,A);r.pipelines.postBatch(e)}};c.exports=s},6107:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48011),p=t(46590),o=t(83419),s=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new o({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(h,f,d,u,v){e.call(this,h,"Blitter"),this.setTexture(u,v),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,h,f,d,u){d===void 0&&(d=!0),u===void 0&&(u=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var v=new p(this,i,h,f,d);return this.children.addAt(v,u,!1),this.dirty=!0,v},createFromCallback:function(i,h,f,d){for(var u=this.createMultiple(h,f,d),v=0;v<u.length;v++){var g=u[v];i.call(this,g,v)}return u},createMultiple:function(i,h,f){h===void 0&&(h=this.frame.name),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);var d=[],u=this;return h.forEach(function(v){for(var g=0;g<i;g++)d.push(u.create(0,0,v,f))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,e=p.alpha*a.alpha;if(e!==0){p.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!a.frame.source.scaleMode;var n=a.x-p.scrollX*a.scrollFactorX,l=a.y-p.scrollY*a.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var i=p.roundPixels,h=0;h<s.length;h++){var f=s[h],d=f.flipX||f.flipY,u=f.frame,v=u.canvasData,g=u.x,y=u.y,m=1,T=1,S=f.alpha*e;S!==0&&(r.globalAlpha=S,d?(f.flipX&&(m=-1,g-=v.width),f.flipY&&(T=-1,y-=v.height),v.width>0&&v.height>0&&(r.save(),r.translate(f.x+n,f.y+l),r.scale(m,T),r.drawImage(u.source.image,v.x,v.y,v.width,v.height,g,y,v.width,v.height),r.restore())):(i&&(g=Math.round(g),y=Math.round(y)),v.width>0&&v.height>0&&r.drawImage(u.source.image,v.x,v.y,v.width,v.height,g+f.x+n,y+f.y+l,v.width,v.height)))}r.restore()}}};c.exports=x},9403:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),p=t(25305),o=t(44603),s=t(23568);o.register("blitter",function(r,e){r===void 0&&(r={});var n=s(r,"key",null),l=s(r,"frame",null),i=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),p(this.scene,i,r),i})},12709:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),p=t(39429);p.register("blitter",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},48011:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99485),o=t(72396),c.exports={renderWebGL:p,renderCanvas:o}},99485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=t(70554),o=new a,s=function(r,e,n,l){var i=e.getRenderList(),h=n.alpha*e.alpha;if(!(i.length===0||h===0)){n.addToRenderList(e);var f=r.pipelines.set(this.pipeline,e),d=n.scrollX*e.scrollFactorX,u=n.scrollY*e.scrollFactorY,v=o.copyFrom(n.matrix);l&&(v.multiplyWithOffset(l,-d,-u),d=0,u=0);var g=e.x-d,y=e.y-u,m=-1,T=!1,S=n.roundPixels;r.pipelines.preBatch(e);for(var E=0;E<i.length;E++){var C=i[E],w=C.frame,A=C.alpha*h;if(A!==0){var P=w.width,M=w.height,R=g+C.x+w.x,I=y+C.y+w.y;C.flipX&&(P*=-1,R+=w.width),C.flipY&&(M*=-1,I+=w.height);var D=v.setQuad(R,I,R+P,I+M,S),Y=p.getTintAppendFloatAlpha(C.tint,A);if(w.sourceIndex!==m){var B=f.setGameObject(e,w);m=w.sourceIndex}f.batchQuad(e,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],w.u0,w.v0,w.u1,w.v1,Y,Y,Y,Y,T,w.glTexture,B)&&(m=-1)}}r.pipelines.postBatch(e)}};c.exports=s},46590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(4327),o=new a({initialize:function(r,e,n,l,i){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof p&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});c.exports=o},16005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(r,0,1),this._alphaBL=a(e,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=a(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=a(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=a(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=a(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=p)}}};c.exports=o},88509:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}}};c.exports=o},90065:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=a[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};c.exports=p},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,p,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,p,o,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=x},89272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&a.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&a.SendToBack(o,this),this},setAbove:function(o){var s=this.getDisplayList();return s&&o&&a.MoveAbove(s,this,o),this},setBelow:function(o){var s=this.getDisplayList();return s&&o&&a.MoveBelow(s,this,o),this}};c.exports=p},47059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(66064),o=t(19133),s=new a({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(o(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,i,h){return this.add(new p.Glow(this.gameObject,r,e,n,l),{quality:i,distance:h})},addShadow:function(r,e,n,l,i,h,f){return this.add(new p.Shadow(this.gameObject,r,e,n,l,i,h,f))},addPixelate:function(r){return this.add(new p.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new p.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new p.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,i,h){return this.add(new p.Blur(this.gameObject,r,e,n,l,i,h))},addGradient:function(r,e,n,l,i,h,f,d){return this.add(new p.Gradient(this.gameObject,r,e,n,l,i,h,f,d))},addBloom:function(r,e,n,l,i,h){return this.add(new p.Bloom(this.gameObject,r,e,n,l,i,h))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,i){return this.add(new p.Circle(this.gameObject,r,e,n,l,i))},addBarrel:function(r){return this.add(new p.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new p.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new p.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,i,h){return this.add(new p.Bokeh(this.gameObject,r,e,n,!0,l,i,h))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=s},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=x},8004:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(11520),o=t(26099),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new a);var e,n,l,i,h,f,d,u;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),v.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),v.transformPoint(r.x,r.y,r),l=r.x,i=r.y,this.getBottomLeft(r),v.transformPoint(r.x,r.y,r),h=r.x,f=r.y,this.getBottomRight(r),v.transformPoint(r.x,r.y,r),d=r.x,u=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,i=r.y,this.getBottomLeft(r),h=r.x,f=r.y,this.getBottomRight(r),d=r.x,u=r.y;return r.x=Math.min(e,l,h,d),r.y=Math.min(n,i,f,u),r.width=Math.max(e,l,h,d)-r.x,r.height=Math.max(n,i,f,u)-r.y,r}};c.exports=s},8573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6858),p=t(80661),o={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,n,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,r,e,n,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new p(this.scene,s)}};c.exports=o},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=x},37640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),p=t(57355),o=t(35154),s=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var h=p(n,"positionOnPath",!1);this.rotateToPath=p(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var f=o(n,"startAt",l);if(f&&(n.onStart=function(u){var v=u.data[0];v.progress=f,v.elapsed=v.duration*f;var g=v.ease(v.progress);v.current=v.start+(v.end-v.start)*g,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),h),i.add(h),h.add(this.pathOffset);var f=this.x,d=this.y;this.setPosition(h.x,h.y);var u=this.x-f,v=this.y-d;if(u===0&&v===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,u)+a(this.pathRotationOffset))}}};c.exports=e},72699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){o===void 0&&(o=r.default);var e=r.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,s,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),s&&(this.pipelineData=r?a(s):s)}return this},setPipelineData:function(o,s){var r=this.pipelineData;return s===void 0?delete r[o]:r[o]=s,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};c.exports=p},17581:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p=t(47059),o=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),r&&(this.preFX=new p(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var i=l.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var f=i.getPostPipeline(r[h],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=n?a(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],i=0;i<n.length;i++){var h=n[i];(e&&h.name===r||!e&&h instanceof r)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var i=n[l];(e&&i.name===r||!e&&i===r)&&(i.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=s},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};c.exports=x},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},37726:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,e,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,e,n)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=o},79812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,n,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=o},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,p,o){return t===void 0&&(t=16777215),a===void 0&&(a=t,p=t,o=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=p,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,a,p,o){return this.setTint(t,a,p,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=x},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};c.exports=x},16901:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(61340),o=t(85955),s=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,h,f,d){return i===void 0&&(i=0),h===void 0&&(h=i),f===void 0&&(f=0),d===void 0&&(d=0),this.x=i,this.y=h,this.z=f,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,f,d){return i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*f,this.y=h+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new p);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(i);var d=!1;for(h||(h=new p,d=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)h.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),h.multiply(i,i),f=f.parentContainer;return d&&h.destroy(),i},getLocalPoint:function(i,h,f,d){f||(f=new e),d||(d=this.scene.sys.cameras.main);var u=d.scrollX,v=d.scrollY,g=i+u*this.scrollFactorX-u,y=h+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,y,f):o(g,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(i,h,f){i===void 0&&(i=new e);var d=this.parentContainer;if(!d)return i.x=this.x,i.y=this.y,i;var u=this.getWorldTransformMatrix(h,f);return i.x=u.tx,i.y=u.ty,i},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};c.exports=l},61340:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36383),o=t(26099),s=new a({initialize:function(e,n,l,i,h,f){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=1),h===void 0&&(h=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,n,l,i,h,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||i?p.TAU-(i>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,i=l[0],h=l[1],f=l[2],d=l[3];return l[0]=i*n+f*e,l[1]=h*n+d*e,l[2]=i*-e+f*n,l[3]=h*-e+d*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,i=n[0],h=n[1],f=n[2],d=n[3],u=n[4],v=n[5],g=l[0],y=l[1],m=l[2],T=l[3],S=l[4],E=l[5],C=e===void 0?n:e.matrix;return C[0]=g*i+y*f,C[1]=g*h+y*d,C[2]=m*i+T*f,C[3]=m*h+T*d,C[4]=S*i+E*f+u,C[5]=S*h+E*d+v,C},multiplyWithOffset:function(r,e,n){var l=this.matrix,i=r.matrix,h=l[0],f=l[1],d=l[2],u=l[3],v=l[4],g=l[5],y=e*h+n*d+v,m=e*f+n*u+g,T=i[0],S=i[1],E=i[2],C=i[3],w=i[4],A=i[5];return l[0]=T*h+S*d,l[1]=T*f+S*u,l[2]=E*h+C*d,l[3]=E*f+C*u,l[4]=w*h+A*d+y,l[5]=w*f+A*u+m,this},transform:function(r,e,n,l,i,h){var f=this.matrix,d=f[0],u=f[1],v=f[2],g=f[3],y=f[4],m=f[5];return f[0]=r*d+e*v,f[1]=r*u+e*g,f[2]=n*d+l*v,f[3]=n*u+l*g,f[4]=i*d+h*v+y,f[5]=i*u+h*g+m,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,i=l[0],h=l[1],f=l[2],d=l[3],u=l[4],v=l[5];return n.x=r*i+e*f+u,n.y=r*h+e*d+v,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3],h=r[4],f=r[5],d=e*i-n*l;return r[0]=i/d,r[1]=-n/d,r[2]=-l/d,r[3]=e/d,r[4]=(l*f-i*h)/d,r[5]=-(e*f-n*h)/d,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,i,h){var f=this.matrix;return f[0]=r,f[1]=e,f[2]=n,f[3]=l,f[4]=i,f[5]=h,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],i=e[2],h=e[3],f=n*h-l*i;if(r.translateX=e[4],r.translateY=e[5],n||l){var d=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/d):-Math.acos(n/d),r.scaleX=d,r.scaleY=f/d}else if(i||h){var u=Math.sqrt(i*i+h*h);r.rotation=Math.PI*.5-(h>0?Math.acos(-i/u):-Math.acos(i/u)),r.scaleX=f/u,r.scaleY=u}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,i){var h=this.matrix,f=Math.sin(n),d=Math.cos(n);return h[4]=r,h[5]=e,h[0]=d*l,h[1]=f*l,h[2]=-f*i,h[3]=d*i,this},applyInverse:function(r,e,n){n===void 0&&(n=new o);var l=this.matrix,i=l[0],h=l[1],f=l[2],d=l[3],u=l[4],v=l[5],g=1/(i*d+f*-h);return n.x=d*g*r+-f*g*e+(v*f-u*d)*g,n.y=i*g*e+-h*g*r+(-v*i+u*h)*g,n},setQuad:function(r,e,n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var f=this.matrix,d=f[0],u=f[1],v=f[2],g=f[3],y=f[4],m=f[5],T=r*d+e*v+y,S=r*u+e*g+m,E=r*d+l*v+y,C=r*u+l*g+m,w=n*d+l*v+y,A=n*u+l*g+m,P=n*d+e*v+y,M=n*u+e*g+m;if(i){var R=Math.floor(T+.5),I=Math.floor(S+.5),D=R-T,Y=I-S;h[0]=R,h[1]=I,h[2]=E+D,h[3]=C+Y,h[4]=w+D,h[5]=A+Y,h[6]=P+D,h[7]=M+Y}else h[0]=T,h[1]=S,h[2]=E,h[3]=C,h[4]=w,h[5]=A,h[6]=P,h[7]=M;return h},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=s},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};c.exports=t},31401:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),p=t(10312),o=t(83419),s=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),i=t(36899),h=t(26099),f=new s.TransformMatrix,d=new o({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(v,g,y,m){e.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,y),this.setBlendMode(p.SKIP_CHECK),m&&this.add(m)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new n),u.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),g=v.transformPoint(this.x,this.y);u.setTo(g.x,g.y,0,0)}if(this.list.length>0){var y=this.list,m=new n,T=!1;u.setEmpty();for(var S=0;S<y.length;S++){var E=y[S];E.getBounds&&(E.getBounds(m),T?i(m,u,u):(u.setTo(m.x,m.y,m.width,m.height),T=!0))}}return u},addHandler:function(u){u.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(r.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,v){v===void 0&&(v=new h),this.parentContainer?this.parentContainer.pointToContainer(u,v):(v.x=u.x,v.y=u.y);var g=f;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(u.x,u.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(u){return a.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,v){return a.AddAt(this.list,u,v,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,v){return u?(v===void 0&&(v=function(g,y){return g[u]-y[u]}),a.StableSort(this.list,v),this):this},getByName:function(u){return a.GetFirst(this.list,"name",u)},getRandom:function(u,v){return a.GetRandom(this.list,u,v)},getFirst:function(u,v,g,y){return a.GetFirst(this.list,u,v,g,y)},getAll:function(u,v,g,y){return a.GetAll(this.list,u,v,g,y)},count:function(u,v,g,y){return a.CountAllMatching(this.list,u,v,g,y)},swap:function(u,v){return a.Swap(this.list,u,v),this},moveTo:function(u,v){return a.MoveTo(this.list,u,v),this},moveAbove:function(u,v){return a.MoveAbove(this.list,u,v),this},moveBelow:function(u,v){return a.MoveBelow(this.list,u,v),this},remove:function(u,v){var g=a.Remove(this.list,u,this.removeHandler,this);if(v&&g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].destroy()}return this},removeAt:function(u,v){var g=a.RemoveAt(this.list,u,this.removeHandler,this);return v&&g&&g.destroy(),this},removeBetween:function(u,v,g){var y=a.RemoveBetween(this.list,u,v,this.removeHandler,this);if(g)for(var m=0;m<y.length;m++)y[m].destroy();return this},removeAll:function(u){var v=this.list;if(u){for(var g=0;g<v.length;g++)v[g]&&v[g].scene&&(v[g].off(r.DESTROY,this.onChildDestroyed,this),v[g].destroy());this.list=[]}else a.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(u){return a.BringToTop(this.list,u),this},sendToBack:function(u){return a.SendToBack(this.list,u),this},moveUp:function(u){return a.MoveUp(this.list,u),this},moveDown:function(u){return a.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(u,v,g){var y=a.Replace(this.list,u,v);return y&&(this.addHandler(v),this.removeHandler(u),g&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,v,g,y){return a.SetAll(this.list,u,v,g,y),this},each:function(u,v){var g=[null],y,m=this.list.slice(),T=m.length;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<T;y++)g[0]=m[y],u.apply(v,g);return this},iterate:function(u,v){var g=[null],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<this.list.length;y++)g[0]=this.list[y],u.apply(v,g);return this},setScrollFactor:function(u,v,g){return v===void 0&&(v=u),g===void 0&&(g=!1),this.scrollFactorX=u,this.scrollFactorY=v,g&&(a.SetAll(this.list,"scrollFactorX",u),a.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(u){a.Remove(this.list,u),this.exclusive&&(u.parentContainer=null,u.removedFromScene())}});c.exports=d},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var e=a.blendMode!==-1;e||t.setBlendMode(0);var n=a._alpha,l=a.scrollFactorX,i=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var h=0;h<s.length;h++){var f=s[h];if(f.willRender(p)){var d=f.alpha,u=f.scrollFactorX,v=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(u*l,v*i),f.setAlpha(d*n),f.renderCanvas(t,f,p,r),f.setAlpha(d),f.setScrollFactor(u,v)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},77143:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(31559),o=t(44603),s=t(23568),r=t(95540);o.register("container",function(e,n){e===void 0&&(e={});var l=s(e,"x",0),i=s(e,"y",0),h=r(e,"children",null),f=new p(this.scene,l,i,h);return n!==void 0&&(e.add=n),a(this.scene,f,e),f})},24961:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31559),p=t(39429);p.register("container",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},29959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(72249),o=t(53584),c.exports={renderWebGL:p,renderCanvas:o}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var e=a.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var n=a.blendMode!==-1;n||t.setBlendMode(0);for(var l=a.alpha,i=a.scrollFactorX,h=a.scrollFactorY,f=0;f<r;f++){var d=s[f];if(d.willRender(p)){var u,v,g,y;if(d.alphaTopLeft!==void 0)u=d.alphaTopLeft,v=d.alphaTopRight,g=d.alphaBottomLeft,y=d.alphaBottomRight;else{var m=d.alpha;u=m,v=m,g=m,y=m}var T=d.scrollFactorX,S=d.scrollFactorY;!n&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var E=d.mask;E&&E.preRenderWebGL(t,d,p);var C=d.type;C!==t.currentType&&(t.newType=!0,t.currentType=C),t.nextTypeMatch=f<r-1?s[f+1].type===t.currentType:!1,d.setScrollFactor(T*i,S*h),d.setAlpha(u*l,v*l,g*l,y*l),d.renderWebGL(t,d,p,e,a),d.setAlpha(u,v,g,y),d.setScrollFactor(T,S),E&&E.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(441),s=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),i=new a({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,o],initialize:function(f,d,u,v,g,y){if(s.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,u),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),g,y):this.createElement(v,g,y):v&&this.setElement(v,g,y),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var f=this.node,d=f.style;f&&(d.display=h.settings.visible?"block":"none")},setSkew:function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.skewX=h,this.skewY=f,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.addEventListener(h[f],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.removeEventListener(h[f],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,f,d){return this.setElement(document.createElement(h),f,d)},setElement:function(h,f,d){this.removeElement();var u;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),u=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(u=h),!u)return this;if(this.node=u,f&&r(f))for(var v in f)u.style[v]=f[v];else typeof f=="string"&&(u.style=f);return u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent.appendChild(u),d&&(u.innerText=d),this.updateSize()},createFromCache:function(h,f){var d=this.cache.get(h);return d&&this.createFromHTML(d,f),this},createFromHTML:function(h,f){f===void 0&&(f="div"),this.removeElement();var d=document.createElement(f);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent.appendChild(d),d.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node;return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(h,f){if(this.node){for(var d=this.node.querySelectorAll("*"),u=0;u<d.length;u++)if(d[u][h]===f)return d[u]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,f=this.node;f&&h&&!h.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=i},49381:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(47407),p=t(95643),o=t(61340),s=new o,r=new o,e=new o,n=function(l,i,h,f){if(i.node){var d=i.node.style,u=i.scene.sys.settings;if(!d||!u.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var v=i.parentContainer,g=h.alpha*i.alpha;v&&(g*=v.alpha);var y=s,m=r,T=e,S=0,E=0,C="0%",w="0%";f?(S=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,m.applyITRS(i.x-S,i.y-E,i.rotation,i.scaleX,i.scaleY),y.copyFrom(h.matrix),y.multiplyWithOffset(f,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),m.e=i.x-S,m.f=i.y-E,y.multiply(m,T)):(S=i.width*i.originX,E=i.height*i.originY,m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),y.copyFrom(h.matrix),C=100*i.originX+"%",w=100*i.originY+"%",m.e-=h.scrollX*i.scrollFactorX,m.f-=h.scrollY*i.scrollFactorY,y.multiply(m,T),T.e-=S,T.f-=E),i.transformOnly||(d.display="block",d.opacity=g,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=a[i._blendMode]),d.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=C+" "+w}};c.exports=n},2611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3069),p=t(39429);p.register("dom",function(o,s,r,e,n){var l=new a(this.scene,o,s,r,e,n);return this.displayList.add(l),l})},441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(49381),o=t(49381),c.exports={renderWebGL:p,renderCanvas:o}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(64993),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,s],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=r},70217:()=>{},56315:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42421),p=t(39429);p.register("extern",function(){var o=new a(this.scene);return this.displayList.add(o),o})},64993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(80287),o=t(70217),c.exports={renderWebGL:p,renderCanvas:o}},80287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){o.pipelines.clear();var n=a(s,r,e).calc;s.render.call(s,o,r,n),o.pipelines.rebind()};c.exports=p},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),p=t(83419),o=t(85592),s=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),i=t(36383),h=t(84503),f=new p({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(u,v){var g=l(v,"x",0),y=l(v,"y",0);e.call(this,u,"Graphics"),this.setPosition(g,y),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(d){return l(d,"lineStyle",null)&&(this.defaultStrokeWidth=l(d,"lineStyle.width",1),this.defaultStrokeColor=l(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(d,"fillStyle",null)&&(this.defaultFillColor=l(d,"fillStyle.color",16777215),this.defaultFillAlpha=l(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,u,v){return v===void 0&&(v=1),this.commandBuffer.push(o.LINE_STYLE,d,u,v),this._lineWidth=d,this},fillStyle:function(d,u){return u===void 0&&(u=1),this.commandBuffer.push(o.FILL_STYLE,d,u),this},fillGradientStyle:function(d,u,v,g,y,m,T,S){return y===void 0&&(y=1),m===void 0&&(m=y),T===void 0&&(T=y),S===void 0&&(S=y),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,y,m,T,S,d,u,v,g),this},lineGradientStyle:function(d,u,v,g,y,m){return m===void 0&&(m=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,d,m,u,v,g,y),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,u,v){return this.beginPath(),this.arc(d,u,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,u,v){return this.beginPath(),this.arc(d,u,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,u,v,g){return this.commandBuffer.push(o.FILL_RECT,d,u,v,g),this},strokeRect:function(d,u,v,g){var y=this._lineWidth/2,m=d-y,T=d+y;return this.beginPath(),this.moveTo(d,u),this.lineTo(d,u+g),this.strokePath(),this.beginPath(),this.moveTo(d+v,u),this.lineTo(d+v,u+g),this.strokePath(),this.beginPath(),this.moveTo(m,u),this.lineTo(T+v,u),this.strokePath(),this.beginPath(),this.moveTo(m,u+g),this.lineTo(T+v,u+g),this.strokePath(),this},fillRoundedRect:function(d,u,v,g,y){y===void 0&&(y=20);var m=y,T=y,S=y,E=y;typeof y!="number"&&(m=n(y,"tl",20),T=n(y,"tr",20),S=n(y,"bl",20),E=n(y,"br",20));var C=m>=0,w=T>=0,A=S>=0,P=E>=0;return m=Math.abs(m),T=Math.abs(T),S=Math.abs(S),E=Math.abs(E),this.beginPath(),this.moveTo(d+m,u),this.lineTo(d+v-T,u),w?this.arc(d+v-T,u+T,T,-i.TAU,0):this.arc(d+v,u,T,Math.PI,i.TAU,!0),this.lineTo(d+v,u+g-E),P?this.arc(d+v-E,u+g-E,E,0,i.TAU):this.arc(d+v,u+g,E,-i.TAU,Math.PI,!0),this.lineTo(d+S,u+g),A?this.arc(d+S,u+g-S,S,i.TAU,Math.PI):this.arc(d,u+g,S,0,-i.TAU,!0),this.lineTo(d,u+m),C?this.arc(d+m,u+m,m,-Math.PI,-i.TAU):this.arc(d,u,m,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,u,v,g,y){y===void 0&&(y=20);var m=y,T=y,S=y,E=y,C=Math.min(v,g)/2;typeof y!="number"&&(m=n(y,"tl",20),T=n(y,"tr",20),S=n(y,"bl",20),E=n(y,"br",20));var w=m>=0,A=T>=0,P=S>=0,M=E>=0;return m=Math.min(Math.abs(m),C),T=Math.min(Math.abs(T),C),S=Math.min(Math.abs(S),C),E=Math.min(Math.abs(E),C),this.beginPath(),this.moveTo(d+m,u),this.lineTo(d+v-T,u),this.moveTo(d+v-T,u),A?this.arc(d+v-T,u+T,T,-i.TAU,0):this.arc(d+v,u,T,Math.PI,i.TAU,!0),this.lineTo(d+v,u+g-E),this.moveTo(d+v,u+g-E),M?this.arc(d+v-E,u+g-E,E,0,i.TAU):this.arc(d+v,u+g,E,-i.TAU,Math.PI,!0),this.lineTo(d+S,u+g),this.moveTo(d+S,u+g),P?this.arc(d+S,u+g-S,S,i.TAU,Math.PI):this.arc(d,u+g,S,0,-i.TAU,!0),this.lineTo(d,u+m),this.moveTo(d,u+m),w?this.arc(d+m,u+m,m,-Math.PI,-i.TAU):this.arc(d,u,m,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,u){return this.fillPoint(d.x,d.y,u)},fillPoint:function(d,u,v){return!v||v<1?v=1:(d-=v/2,u-=v/2),this.commandBuffer.push(o.FILL_RECT,d,u,v,v),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,u,v,g,y,m){return this.commandBuffer.push(o.FILL_TRIANGLE,d,u,v,g,y,m),this},strokeTriangle:function(d,u,v,g,y,m){return this.commandBuffer.push(o.STROKE_TRIANGLE,d,u,v,g,y,m),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,u,v,g){return this.beginPath(),this.moveTo(d,u),this.lineTo(v,g),this.strokePath(),this},lineTo:function(d,u){return this.commandBuffer.push(o.LINE_TO,d,u),this},moveTo:function(d,u){return this.commandBuffer.push(o.MOVE_TO,d,u),this},strokePoints:function(d,u,v,g){u===void 0&&(u=!1),v===void 0&&(v=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var y=1;y<g;y++)this.lineTo(d[y].x,d[y].y);return u&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(d,u,v,g){u===void 0&&(u=!1),v===void 0&&(v=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var y=1;y<g;y++)this.lineTo(d[y].x,d[y].y);return u&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,u){u===void 0&&(u=32);var v=d.getPoints(u);return this.strokePoints(v,!0)},strokeEllipse:function(d,u,v,g,y){y===void 0&&(y=32);var m=new r(d,u,v,g),T=m.getPoints(y);return this.strokePoints(T,!0)},fillEllipseShape:function(d,u){u===void 0&&(u=32);var v=d.getPoints(u);return this.fillPoints(v,!0)},fillEllipse:function(d,u,v,g,y){y===void 0&&(y=32);var m=new r(d,u,v,g),T=m.getPoints(y);return this.fillPoints(T,!0)},arc:function(d,u,v,g,y,m,T){return m===void 0&&(m=!1),T===void 0&&(T=0),this.commandBuffer.push(o.ARC,d,u,v,g,y,m,T),this},slice:function(d,u,v,g,y,m,T){return m===void 0&&(m=!1),T===void 0&&(T=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,d,u),this.commandBuffer.push(o.ARC,d,u,v,g,y,m,T),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(d,u){return this.commandBuffer.push(o.TRANSLATE,d,u),this},scaleCanvas:function(d,u){return this.commandBuffer.push(o.SCALE,d,u),this},rotateCanvas:function(d){return this.commandBuffer.push(o.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,u,v){var g=this.scene.sys,y=g.game.renderer;u===void 0&&(u=g.scale.width),v===void 0&&(v=g.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,u,v),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var m,T,S={willReadFrequently:!0};if(typeof d=="string")if(g.textures.exists(d)){m=g.textures.get(d);var E=m.getSourceImage();E instanceof HTMLCanvasElement&&(T=E.getContext("2d",S))}else m=g.textures.createCanvas(d,u,v),T=m.getSourceImage().getContext("2d",S);else d instanceof HTMLCanvasElement&&(T=d.getContext("2d",S));return T&&(this.renderCanvas(y,this,f.TargetCamera,null,T,!1),m&&m.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new a,c.exports=f},32768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),p=t(20926),o=function(s,r,e,n,l,i){var h=r.commandBuffer,f=h.length,d=l||s.currentContext;if(!(f===0||!p(s,d,r,e,n))){e.addToRenderList(r);var u=1,v=1,g=0,y=0,m=1,T=0,S=0,E=0;d.beginPath();for(var C=0;C<f;++C){var w=h[C];switch(w){case a.ARC:d.arc(h[C+1],h[C+2],h[C+3],h[C+4],h[C+5],h[C+6]),C+=7;break;case a.LINE_STYLE:m=h[C+1],g=h[C+2],u=h[C+3],T=(g&16711680)>>>16,S=(g&65280)>>>8,E=g&255,d.strokeStyle="rgba("+T+","+S+","+E+","+u+")",d.lineWidth=m,C+=3;break;case a.FILL_STYLE:y=h[C+1],v=h[C+2],T=(y&16711680)>>>16,S=(y&65280)>>>8,E=y&255,d.fillStyle="rgba("+T+","+S+","+E+","+v+")",C+=2;break;case a.BEGIN_PATH:d.beginPath();break;case a.CLOSE_PATH:d.closePath();break;case a.FILL_PATH:i||d.fill();break;case a.STROKE_PATH:i||d.stroke();break;case a.FILL_RECT:i?d.rect(h[C+1],h[C+2],h[C+3],h[C+4]):d.fillRect(h[C+1],h[C+2],h[C+3],h[C+4]),C+=4;break;case a.FILL_TRIANGLE:d.beginPath(),d.moveTo(h[C+1],h[C+2]),d.lineTo(h[C+3],h[C+4]),d.lineTo(h[C+5],h[C+6]),d.closePath(),i||d.fill(),C+=6;break;case a.STROKE_TRIANGLE:d.beginPath(),d.moveTo(h[C+1],h[C+2]),d.lineTo(h[C+3],h[C+4]),d.lineTo(h[C+5],h[C+6]),d.closePath(),i||d.stroke(),C+=6;break;case a.LINE_TO:d.lineTo(h[C+1],h[C+2]),C+=2;break;case a.MOVE_TO:d.moveTo(h[C+1],h[C+2]),C+=2;break;case a.LINE_FX_TO:d.lineTo(h[C+1],h[C+2]),C+=5;break;case a.MOVE_FX_TO:d.moveTo(h[C+1],h[C+2]),C+=5;break;case a.SAVE:d.save();break;case a.RESTORE:d.restore();break;case a.TRANSLATE:d.translate(h[C+1],h[C+2]),C+=2;break;case a.SCALE:d.scale(h[C+1],h[C+2]),C+=2;break;case a.ROTATE:d.rotate(h[C+1]),C+=1;break;case a.GRADIENT_FILL_STYLE:C+=5;break;case a.GRADIENT_LINE_STYLE:C+=6;break}}d.restore()}};c.exports=o},87079:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(43831);a.register("graphics",function(o,s){o===void 0&&(o={}),s!==void 0&&(o.add=s);var r=new p(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43831),p=t(39429);p.register("graphics",function(o){return this.displayList.add(new a(this.scene,o))})},84503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(77545),o=t(32768),o=t(32768),c.exports={renderWebGL:p,renderCanvas:o}},77545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),p=t(91296),o=t(61340),s=t(70554),r=function(h,f,d){this.x=h,this.y=f,this.width=d},e=function(h,f,d){this.points=[],this.pointsLength=1,this.points[0]=new r(h,f,d)},n=[],l=new o,i=function(h,f,d,u){if(f.commandBuffer.length!==0){d.addToRenderList(f);var v=h.pipelines.set(f.pipeline,f);h.pipelines.preBatch(f);for(var g=p(f,d,u).calc,y=l.loadIdentity(),m=f.commandBuffer,T=d.alpha*f.alpha,S=1,E=v.fillTint,C=v.strokeTint,w=0,A=0,P=0,M=.01,R=Math.PI*2,I,D=[],Y=0,B=!0,O=null,N=s.getTintAppendFloatAlpha,L=0;L<m.length;L++)switch(I=m[L],I){case a.BEGIN_PATH:{D.length=0,O=null,B=!0;break}case a.CLOSE_PATH:{B=!1,O&&O.points.length&&O.points.push(O.points[0]);break}case a.FILL_PATH:{for(Y=0;Y<D.length;Y++)v.batchFillPath(D[Y].points,y,g);break}case a.STROKE_PATH:{for(Y=0;Y<D.length;Y++)v.batchStrokePath(D[Y].points,S,B,y,g);break}case a.LINE_STYLE:{S=m[++L];var W=m[++L],F=m[++L]*T,U=N(W,F);C.TL=U,C.TR=U,C.BL=U,C.BR=U;break}case a.FILL_STYLE:{var Z=m[++L],J=m[++L]*T,Q=N(Z,J);E.TL=Q,E.TR=Q,E.BL=Q,E.BR=Q;break}case a.GRADIENT_FILL_STYLE:{var k=m[++L]*T,et=m[++L]*T,it=m[++L]*T,q=m[++L]*T;E.TL=N(m[++L],k),E.TR=N(m[++L],et),E.BL=N(m[++L],it),E.BR=N(m[++L],q);break}case a.GRADIENT_LINE_STYLE:{S=m[++L];var tt=m[++L]*T;C.TL=N(m[++L],tt),C.TR=N(m[++L],tt),C.BL=N(m[++L],tt),C.BR=N(m[++L],tt);break}case a.ARC:{var nt=0,ht=m[++L],gt=m[++L],mt=m[++L],at=m[++L],ft=m[++L],xt=m[++L],vt=m[++L];for(ft-=at,xt?ft<-R?ft=-R:ft>0&&(ft=-R+ft%R):ft>R?ft=R:ft<0&&(ft=R+ft%R),O===null&&(O=new e(ht+Math.cos(at)*mt,gt+Math.sin(at)*mt,S),D.push(O),nt+=M);nt<1+vt;)P=ft*nt+at,w=ht+Math.cos(P)*mt,A=gt+Math.sin(P)*mt,O.points.push(new r(w,A,S)),nt+=M;P=ft+at,w=ht+Math.cos(P)*mt,A=gt+Math.sin(P)*mt,O.points.push(new r(w,A,S));break}case a.FILL_RECT:{v.batchFillRect(m[++L],m[++L],m[++L],m[++L],y,g);break}case a.FILL_TRIANGLE:{v.batchFillTriangle(m[++L],m[++L],m[++L],m[++L],m[++L],m[++L],y,g);break}case a.STROKE_TRIANGLE:{v.batchStrokeTriangle(m[++L],m[++L],m[++L],m[++L],m[++L],m[++L],S,y,g);break}case a.LINE_TO:{O!==null?O.points.push(new r(m[++L],m[++L],S)):(O=new e(m[++L],m[++L],S),D.push(O));break}case a.MOVE_TO:{O=new e(m[++L],m[++L],S),D.push(O);break}case a.SAVE:{n.push(y.copyToArray());break}case a.RESTORE:{y.copyFromArray(n.pop());break}case a.TRANSLATE:{ht=m[++L],gt=m[++L],y.translate(ht,gt);break}case a.SCALE:{ht=m[++L],gt=m[++L],y.scale(ht,gt);break}case a.ROTATE:{y.rotate(m[++L]);break}}h.pipelines.postBatch(f)}};c.exports=i},26479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61061),p=t(83419),o=t(51708),s=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),i=t(41212),h=t(88492),f=t(35072),d=t(68287),u=new p({Extends:s,initialize:function(g,y,m){s.call(this),m?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?i(y[0])&&(m=y,y=null):i(y)&&(m=y,y=null),this.scene=g,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(m,"classType",d),this.name=e(m,"name",""),this.active=e(m,"active",!0),this.maxSize=e(m,"maxSize",-1),this.defaultKey=e(m,"defaultKey",null),this.defaultFrame=e(m,"defaultFrame",null),this.runChildUpdate=e(m,"runChildUpdate",!1),this.createCallback=e(m,"createCallback",null),this.removeCallback=e(m,"removeCallback",null),this.createMultipleCallback=e(m,"createMultipleCallback",null),this.internalCreateCallback=e(m,"internalCreateCallback",null),this.internalRemoveCallback=e(m,"internalRemoveCallback",null),y&&this.addMultiple(y),m&&this.createMultiple(m),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,g,y,m,T,S){if(v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=this.defaultKey),m===void 0&&(m=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var E=new this.classType(this.scene,v,g,y,m);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=T,E.setActive(S),this.add(E),E},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var g=[];if(v[0].key)for(var y=0;y<v.length;y++){var m=this.createFromConfig(v[y]);g=g.concat(m)}return g},createFromConfig:function(v){if(this.isFull())return[];this.classType=e(v,"classType",this.classType);var g=e(v,"key",void 0),y=e(v,"frame",null),m=e(v,"visible",!0),T=e(v,"active",!0),S=[];if(g===void 0)return S;Array.isArray(g)||(g=[g]),Array.isArray(y)||(y=[y]);var E=e(v,"repeat",0),C=e(v,"randomKey",!1),w=e(v,"randomFrame",!1),A=e(v,"yoyo",!1),P=e(v,"quantity",!1),M=e(v,"frameQuantity",1),R=e(v,"max",0),I=h(g,y,{max:R,qty:P||M,random:C,randomB:w,repeat:E,yoyo:A});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var D=0;D<I.length;D++){var Y=this.create(0,0,I[D].a,I[D].b,m,T);if(!Y)break;S.push(Y)}if(l(v,"setXY")){var B=n(v,"setXY.x",0),O=n(v,"setXY.y",0),N=n(v,"setXY.stepX",0),L=n(v,"setXY.stepY",0);a.SetXY(S,B,O,N,L)}if(l(v,"setRotation")){var W=n(v,"setRotation.value",0),F=n(v,"setRotation.step",0);a.SetRotation(S,W,F)}if(l(v,"setScale")){var U=n(v,"setScale.x",1),Z=n(v,"setScale.y",U),J=n(v,"setScale.stepX",0),Q=n(v,"setScale.stepY",0);a.SetScale(S,U,Z,J,Q)}if(l(v,"setOrigin")){var k=n(v,"setOrigin.x",.5),et=n(v,"setOrigin.y",k),it=n(v,"setOrigin.stepX",0),q=n(v,"setOrigin.stepY",0);a.SetOrigin(S,k,et,it,q)}if(l(v,"setAlpha")){var tt=n(v,"setAlpha.value",1),nt=n(v,"setAlpha.step",0);a.SetAlpha(S,tt,nt)}if(l(v,"setDepth")){var ht=n(v,"setDepth.value",0),gt=n(v,"setDepth.step",0);a.SetDepth(S,ht,gt)}if(l(v,"setScrollFactor")){var mt=n(v,"setScrollFactor.x",1),at=n(v,"setScrollFactor.y",mt),ft=n(v,"setScrollFactor.stepX",0),xt=n(v,"setScrollFactor.stepY",0);a.SetScrollFactor(S,mt,at,ft,xt)}var vt=e(v,"hitArea",null),Pt=e(v,"hitAreaCallback",null);vt&&a.SetHitArea(S,vt,Pt);var H=e(v,"gridAlign",!1);return H&&a.GridAlign(S,H),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(v,g){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),m=0;m<y.length;m++){var T=y[m];T.active&&T.update(v,g)}},add:function(v,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),g&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(o.DESTROY,this.remove,this),this)},addMultiple:function(v,g){if(g===void 0&&(g=!1),Array.isArray(v))for(var y=0;y<v.length;y++)this.add(v[y],g);return this},remove:function(v,g,y){return g===void 0&&(g=!1),y===void 0&&(y=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(o.DESTROY,this.remove,this),y?v.destroy():g&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);for(var y=this.children,m=0;m<y.size;m++){var T=y.entries[m];T.off(o.DESTROY,this.remove,this),g?T.destroy():v&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,g,y,m){return r(this.children.entries,v,g,y,m)},getFirst:function(v,g,y,m,T,S,E){return this.getHandler(!0,1,v,g,y,m,T,S,E)},getFirstNth:function(v,g,y,m,T,S,E,C){return this.getHandler(!0,v,g,y,m,T,S,E,C)},getLast:function(v,g,y,m,T,S,E){return this.getHandler(!1,1,v,g,y,m,T,S,E)},getLastNth:function(v,g,y,m,T,S,E,C){return this.getHandler(!1,v,g,y,m,T,S,E,C)},getHandler:function(v,g,y,m,T,S,E,C,w){y===void 0&&(y=!1),m===void 0&&(m=!1);var A,P,M=0,R=this.children.entries;if(v)for(P=0;P<R.length;P++)if(A=R[P],A.active===y){if(M++,M===g)break}else A=null;else for(P=R.length-1;P>=0;P--)if(A=R[P],A.active===y){if(M++,M===g)break}else A=null;return A?(typeof T=="number"&&(A.x=T),typeof S=="number"&&(A.y=S),A):m?this.create(T,S,E,C,w):null},get:function(v,g,y,m,T){return this.getFirst(!1,!0,v,g,y,m,T)},getFirstAlive:function(v,g,y,m,T,S){return this.getFirst(!0,v,g,y,m,T,S)},getFirstDead:function(v,g,y,m,T,S){return this.getFirst(!1,v,g,y,m,T,S)},playAnimation:function(v,g){return a.PlayAnimation(this.children.entries,v,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var g=0,y=0;y<this.children.size;y++)this.children.entries[y].active===v&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,g,y,m,T){return a.PropertyValueSet(this.children.entries,v,g,y,m,T),this},propertyValueInc:function(v,g,y,m,T){return a.PropertyValueInc(this.children.entries,v,g,y,m,T),this},setX:function(v,g){return a.SetX(this.children.entries,v,g),this},setY:function(v,g){return a.SetY(this.children.entries,v,g),this},setXY:function(v,g,y,m){return a.SetXY(this.children.entries,v,g,y,m),this},incX:function(v,g){return a.IncX(this.children.entries,v,g),this},incY:function(v,g){return a.IncY(this.children.entries,v,g),this},incXY:function(v,g,y,m){return a.IncXY(this.children.entries,v,g,y,m),this},shiftPosition:function(v,g,y){return a.ShiftPosition(this.children.entries,v,g,y),this},angle:function(v,g){return a.Angle(this.children.entries,v,g),this},rotate:function(v,g){return a.Rotate(this.children.entries,v,g),this},rotateAround:function(v,g){return a.RotateAround(this.children.entries,v,g),this},rotateAroundDistance:function(v,g,y){return a.RotateAroundDistance(this.children.entries,v,g,y),this},setAlpha:function(v,g){return a.SetAlpha(this.children.entries,v,g),this},setTint:function(v,g,y,m){return a.SetTint(this.children.entries,v,g,y,m),this},setOrigin:function(v,g,y,m){return a.SetOrigin(this.children.entries,v,g,y,m),this},scaleX:function(v,g){return a.ScaleX(this.children.entries,v,g),this},scaleY:function(v,g){return a.ScaleY(this.children.entries,v,g),this},scaleXY:function(v,g,y,m){return a.ScaleXY(this.children.entries,v,g,y,m),this},setDepth:function(v,g){return a.SetDepth(this.children.entries,v,g),this},setBlendMode:function(v){return a.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,g){return a.SetHitArea(this.children.entries,v,g),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,g,y){return a.SetVisible(this.children.entries,v,g,y),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,v),this.scene=void 0,this.children=void 0)}});c.exports=u},94975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(26479);a.register("group",function(o){return new p(this.scene,null,o)})},3385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26479),p=t(39429);p.register("group",function(o,s){return this.updateList.add(new a(this.scene,o,s))})},88571:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(59819),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,s],initialize:function(n,l,i,h,f){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,f),this.setPosition(l,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=r},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},82459:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(88571);p.register("image",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),i=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,i,r),i})},2117:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88571),p=t(39429);p.register("image",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},59819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99517),o=t(40652),c.exports={renderWebGL:p,renderCanvas:o}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),this.pipeline.batchSprite(a,p,o)};c.exports=x},77856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),c.exports=a},93595:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(83419),o=t(31401),s=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),i=t(33963),h=t(44594),f=t(19186),d=new p({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,i],initialize:function(v,g){l.call(this,v),e.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),g&&this.add(g),v.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(u,v){return this.data||(this.data=new r(this)),this.data.set(u,v),this},incData:function(u,v){return this.data||(this.data=new r(this)),this.data.inc(u,v),this},toggleData:function(u){return this.data||(this.data=new r(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new r(this)),this.data.get(u)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(u){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,v=this.parentContainer,g=[];v&&(g.unshift(v.getIndex(u)),u=v,v.parentContainer);)v=v.parentContainer;return g.unshift(this.displayList.getIndex(u)),g},addChildCallback:function(u){var v=u.displayList;v&&v!==this&&u.removeFromDisplayList(),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(n.ADDED_TO_SCENE,u,this.scene),this.events.emit(h.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(n.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,u,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,v){return u._depth-v._depth},getChildren:function(){return this.list},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),u.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var u=null;return this.parentContainer?u=this.parentContainer.list:this.displayList&&(u=this.displayList.list),u},destroy:function(u){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var v=this.list;v.length;)v[0].destroy(u);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=d},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a.list;if(o.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var e=0;e<o.length;e++){var n=o[e];if(n.willRender(p)){var l=n.alpha;!s&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,p),n.setAlpha(l)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},25179:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(93595),o=t(44603),s=t(23568);o.register("layer",function(r,e){r===void 0&&(r={});var n=s(r,"children",null),l=new p(this.scene,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},20005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93595),p=t(39429);p.register("layer",function(o){return this.displayList.add(new a(this.scene,o))})},33963:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(15869),o=t(2956),c.exports={renderWebGL:p,renderCanvas:o}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a.list,s=o.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var e=a.alpha,n=0;n<s;n++){var l=o[n];if(l.willRender(p)){var i,h,f,d;if(l.alphaTopLeft!==void 0)i=l.alphaTopLeft,h=l.alphaTopRight,f=l.alphaBottomLeft,d=l.alphaBottomRight;else{var u=l.alpha;i=u,h=u,f=u,d=u}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var v=l.mask;v&&v.preRenderWebGL(t,l,p);var g=l.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=n<s-1?o[n+1].type===t.currentType:!1,l.setAlpha(i*e,h*e,f*e,d*e),l.renderWebGL(t,l,p),l.setAlpha(i,h,f,d),v&&v.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},41432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=t(83419),o=t(31401),s=t(51767),r=t(70554),e=new p({Extends:a,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,i,h,f,d,u,v){a.call(this,l,i,h),this.color=new s(f,d,u),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81491),p=t(83419),o=t(20339),s=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),i=t(70554),h=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,d,u,v,g,y){return this.systems.displayList.add(new r(this.scene,f,d,u,v,g,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var d=this.lights,u=f.worldView,v=[],g=0;g<d.length;g++){var y=d[g];y.willRender(f)&&a(y,u)&&v.push({light:y,distance:o(y.x,y.y,u.centerX,u.centerY)})}return v.length>this.maxLights&&(l(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(f,d){return f.distance>=d.distance},setAmbientColor:function(f){var d=i.getFloatsFromUintRGB(f);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,d,u,v,g){f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=128),v===void 0&&(v=16777215),g===void 0&&(g=1);var y=i.getFloatsFromUintRGB(v),m=new s(f,d,u,y[0],y[1],y[2],g);return this.lights.push(m),m},removeLight:function(f){var d=this.lights.indexOf(f);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=h},88992:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(61356),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),c.exports=r},4703:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(39506),s=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),i=t(37867),h=t(29807),f=t(43396),d=t(19186),u=t(25836),v=t(39318),g=new a({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,h],initialize:function(m,T,S,E,C,w,A,P,M,R,I,D){T===void 0&&(T=0),S===void 0&&(S=0),E===void 0&&(E="__WHITE"),r.call(this,m,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new u,this.modelScale=new u(1,1,1),this.modelRotation=new u,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new u,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=m.sys.renderer;this.setPosition(T,S),this.setTexture(E,C),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),w&&this.addVertices(w,A,P,M,R,I,D)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(u.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=u.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,m,T,S,E){return T===void 0&&(T=45),S===void 0&&(S=.01),E===void 0&&(E=1e3),this.fov=T,this.projectionMatrix.perspective(o(T),y/m,S,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,m,T,S){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),m===void 0&&(m=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-y,y,-m,m,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,m,T,S,E,C,w,A,P){var M=this.scene.sys.cache.obj.get(y),R;return M&&(R=e(M,this,m,T,S,E,C,w,A,P)),(!R||R.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",y),this},sortByDepth:function(y,m){return y.depth-m.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(y,m,T,S,E,C,w){var A=new v(y,m,T,S,E,C,w);return this.vertices.push(A),A},addFace:function(y,m,T){var S=new s(y,m,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(y,m,T,S,E,C,w){var A=n(y,m,T,S,E,C,w);return A?(this.faces=this.faces.concat(A.faces),this.vertices=this.vertices.concat(A.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},hasFaceAt:function(y,m,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=l(this,T).calc,E=this.faces,C=0;C<E.length;C++){var w=E[C];if(w.contains(y,m,S))return!0}return!1},getFaceAt:function(y,m,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=l(this,T).calc,E=this.faces,C=[],w=0;w<E.length;w++){var A=E[w];A.contains(y,m,S)&&C.push(A)}return d(C,this.sortByDepth)},setDebug:function(y,m){return this.debugGraphic=y,!y&&!m?this.debugCallback=null:m?this.debugCallback=m:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,m=this.modelRotation,T=this.modelScale,S=this.dirtyCache,E=y.x,C=y.y,w=y.z,A=m.x,P=m.y,M=m.z,R=T.x,I=T.y,D=T.z,Y=this.getFaceCount(),B=S[0],O=S[1],N=S[2],L=S[3],W=S[4],F=S[5],U=S[6],Z=S[7],J=S[8],Q=S[9];return S[0]=E,S[1]=C,S[2]=w,S[3]=A,S[4]=P,S[5]=M,S[6]=R,S[7]=I,S[8]=D,S[9]=Y,B!==E||O!==C||N!==w||L!==A||W!==P||F!==M||U!==R||Z!==I||J!==D||Q!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var m=this.width,T=this.height,S=this.viewMatrix,E=this.viewPosition;y[10]&&(S.identity(),S.translate(E),S.invert(),y[10]=0);var C=this.transformMatrix;C.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var w=E.z,A=this.faces,P=0;P<A.length;P++)A[P].transformCoordinatesLocal(C,m,T,w);this.depthSort()}},renderDebug:function(y,m){for(var T=y.debugGraphic,S=0;S<m.length;S++){var E=m[S],C=E.vertex1.tx,w=E.vertex1.ty,A=E.vertex2.tx,P=E.vertex2.ty,M=E.vertex3.tx,R=E.vertex3.ty;T.strokeTriangle(C,w,A,P,M,R)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(y){y===void 0&&(y={});var m=(function(T,S,E){for(var C=this.faces,w=0;w<C.length;w++){var A=C[w];if(A.contains(S,E))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,y,m),this},setTint:function(y){y===void 0&&(y=16777215);for(var m=this.vertices,T=0;T<m.length;T++)m[T].color=y;return this},uvScroll:function(y,m){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(y,m);return this},uvScale:function(y,m){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(y,m);return this},tint:{set:function(y){this.setTint(y)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(y){this.modelRotation.x=o(y)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(y){this.modelRotation.y=o(y)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(y){this.modelRotation.z=o(y)}}});c.exports=g},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(4703);p.register("mesh",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"vertices",[]),f=s(e,"uvs",[]),d=s(e,"indicies",[]),u=s(e,"containsZ",!1),v=s(e,"normals",[]),g=s(e,"colors",16777215),y=s(e,"alphas",1),m=new r(this.scene,0,0,l,i,h,f,d,u,v,g,y);return n!==void 0&&(e.add=n),a(this.scene,m,e),m})},9225:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4703),p=t(39429);p.register("mesh",function(o,s,r,e,n,l,i,h,f,d,u){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,f,d,u))})},29807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(48833),o=t(36488),c.exports={renderWebGL:p,renderCanvas:o}},48833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){var n=s.faces,l=n.length;if(l!==0){r.addToRenderList(s);var i=o.pipelines.set(s.pipeline,s),h=a(s,r,e).calc;o.pipelines.preBatch(s);for(var f=i.setGameObject(s),d=i.vertexViewF32,u=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,g=s.tintFill,y=[],m=s.debugCallback,T=h.a,S=h.b,E=h.c,C=h.d,w=h.e,A=h.f,P=s.viewPosition.z,M=s.hideCCW,R=r.roundPixels,I=r.alpha*s.alpha,D=0,Y=0;Y<l;Y++){var B=n[Y];B.isInView(r,M,P,I,T,S,E,C,w,A,R)&&(i.shouldFlush(3)&&(i.flush(),f=i.setGameObject(s),v=i.vertexCount*i.currentShader.vertexComponentCount-1),v=B.load(d,u,v,f,g),D++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,m&&y.push(B))}s.totalFrame+=D,m&&m.call(s,s,y),o.pipelines.postBatch(s)}};c.exports=p},28103:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(78023),r=t(39318),e=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,s],initialize:function(l,i,h,f,d,u,v,g,y,m,T){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=l.textures.getFrame(f,d);this.is3Slice=!m&&!T,S&&S.scale9&&(this.is3Slice=S.is3Slice);for(var E=this.is3Slice?18:54,C=0;C<E;C++)this.vertices.push(new r);this.setPosition(i,h),this.setTexture(f,d),this.setSlices(u,v,g,y,m,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,i,h,f,d,u){i===void 0&&(i=10),h===void 0&&(h=10),f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=!1);var v=this.frame,g=!1;if(this.is3Slice&&u&&f!==0&&d!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(v&&v.scale9&&!u){var y=v.data.scale9Borders,m=y.x,T=y.y;i=m,h=v.width-y.w-m,f=T,d=v.height-y.h-T,n===void 0&&(n=v.width),l===void 0&&(l=v.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=i,this.rightWidth=h,this.topHeight=f,this.bottomHeight=d,this.is3Slice&&(l=v.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,f=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/f,i/d),this.updateQuadUVs(6,n/f,0,1-l/f,i/d),this.updateQuadUVs(12,1-l/f,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,n/f,1-h/d),this.updateQuadUVs(24,n/f,i/d,1-l/f,1-h/d),this.updateQuadUVs(30,1-l/f,i/d,1,1-h/d),this.updateQuadUVs(36,0,1-h/d,n/f,1),this.updateQuadUVs(42,n/f,1-h/d,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-h/d,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,f=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-i/d),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-i/d),this.updateQuad(12,.5-l/f,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+n/f,-.5+h/d),this.updateQuad(24,-.5+n/f,.5-i/d,.5-l/f,-.5+h/d),this.updateQuad(30,.5-l/f,.5-i/d,.5,-.5+h/d),this.updateQuad(36,-.5,-.5+h/d,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+h/d,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+h/d,.5,-.5))},updateQuad:function(n,l,i,h,f){var d=this.width,u=this.height,v=this.originX,g=this.originY,y=this.vertices;y[n+0].resize(l,i,d,u,v,g),y[n+1].resize(l,f,d,u,v,g),y[n+2].resize(h,i,d,u,v,g),y[n+3].resize(l,f,d,u,v,g),y[n+4].resize(h,f,d,u,v,g),y[n+5].resize(h,i,d,u,v,g)},updateQuadUVs:function(n,l,i,h,f){var d=this.vertices,u=this.frame,v=u.u0,g=u.v0,y=u.u1,m=u.v1;if(v!==0||y!==1){var T=y-v;l=v+l*T,h=v+h*T}if(g!==0||m!==1){var S=m-g;i=g+i*S,f=g+f*S}d[n+0].setUVs(l,i),d[n+1].setUVs(l,f),d[n+2].setUVs(h,i),d[n+3].setUVs(l,f),d[n+4].setUVs(h,f),d[n+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(28103);p.register("nineslice",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"width",256),f=s(e,"height",256),d=s(e,"leftWidth",10),u=s(e,"rightWidth",10),v=s(e,"topHeight",0),g=s(e,"bottomHeight",0),y=new r(this.scene,0,0,l,i,h,f,d,u,v,g);return n!==void 0&&(e.add=n),a(this.scene,y,e),y})},47521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28103),p=t(39429);p.register("nineslice",function(o,s,r,e,n,l,i,h,f,d){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,f,d))})},78023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(52230),c.exports={renderWebGL:p,renderCanvas:o}},52230:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){var l=r.vertices,i=l.length;if(i!==0){e.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),f=a(r,e,n,!1).calc;s.pipelines.preBatch(r);var d=h.setGameObject(r),u=h.vertexViewF32,v=h.vertexViewU32,g=h.vertexCount*h.currentShader.vertexComponentCount-1,y=e.roundPixels,m=r.tintFill,T=e.alpha*r.alpha,S=p.getTintAppendFloatAlpha(r.tint,T),E=h.vertexAvailable(),C=-1;E<i&&(C=E);for(var w=0;w<i;w++){var A=l[w];w===C&&(h.flush(),d=h.setGameObject(r),g=0),u[++g]=f.getXRound(A.vx,A.vy,y),u[++g]=f.getYRound(A.vx,A.vy,y),u[++g]=A.u,u[++g]=A.v,u[++g]=d,u[++g]=m,v[++g]=S,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}s.pipelines.postBatch(r)}};c.exports=o},76472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(44777),o=t(37589),s=t(6113),r=t(91389),e=t(90664),n=new a({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,i=l,h=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),h=this.easedValueEmit,f=this.easeValueUpdate,i=l[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var d=0;d<l.length;d++){var u=e(l[d]);this.r.push(u.r),this.g.push(u.g),this.b.push(u.b)}}return this.onEmit=h,this.onUpdate=f,this.current=i,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,i,h){var f=this.ease(h),d=this.interpolation(this.r,f),u=this.interpolation(this.g,f),v=this.interpolation(this.b,f),g=o(d,u,v);return this.current=g,g}});c.exports=n},44777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(45319),o=t(83419),s=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),i=t(15994),h=new o({initialize:function(d,u,v){v===void 0&&(v=!1),this.propertyKey=d,this.propertyValue=u,this.defaultValue=u,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,d){f===void 0&&(f={}),d&&(this.propertyKey=d),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var d;switch(this.method){case 1:case 3:case 8:d=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(d=f);break;case 4:var u=(this.end-this.start)/this.steps;d=l(f,u),this.counter=d;break;case 5:case 6:case 7:d=p(f,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var d=typeof f;if(d==="number")return 1;if(Array.isArray(f))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,d=f,u=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:u=this.staticValueEmit;break;case 2:u=this.randomStaticValueEmit,d=f[0];break;case 3:this._onEmit=f,u=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,u=this.steppedEmit,d=this.start;break;case 5:this.start=f.start,this.end=f.end;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=r(g,f.easeParams),u=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,d=this.start;break;case 6:this.start=f.min,this.end=f.max,u=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var y=f.random;Array.isArray(y)&&(this.start=y[0],this.end=y[1]),u=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,u=this.proxyEmit,v=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=f.values;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=r(m,f.easeParams),this.interpolation=n(f.interpolation),u=this.easedValueEmit,v=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=u,this.onUpdate=v,this.current=d,this},has:function(f,d){return f.hasOwnProperty(d)},hasBoth:function(f,d,u){return f.hasOwnProperty(d)&&f.hasOwnProperty(u)},hasEither:function(f,d,u){return f.hasOwnProperty(d)||f.hasOwnProperty(u)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,d,u,v){return v},proxyEmit:function(f,d,u){var v=this._onEmit(f,d,u);return this.current=v,v},proxyUpdate:function(f,d,u,v){var g=this._onUpdate(f,d,u,v);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,d){var u=s(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=u,f.data[d].max=this.end),this.current=u,u},randomRangedIntEmit:function(f,d){var u=a(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=u,f.data[d].max=this.end),this.current=u,u},steppedEmit:function(){var f=this.counter,d=f,u=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(d+=u,d>=this.end&&(v=d-this.end,d=this.end-v,this.direction=1)):(d-=u,d<=this.start&&(v=this.start-d,d=this.start+v,this.direction=0)),this.counter=d}else this.counter=i(d+u,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,d){if(f&&f.data[d]){var u=f.data[d];u.min=this.start,u.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,d,u){var v=f.data[d],g,y=this.ease(u);return this.interpolation?g=this.interpolation(this.start,y):g=(v.max-v.min)*y+v.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=h},24502:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(20286),s=new a({Extends:o,initialize:function(e,n,l,i,h){if(typeof e=="object"){var f=e;e=p(f,"x",0),n=p(f,"y",0),l=p(f,"power",0),i=p(f,"epsilon",100),h=p(f,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=100),h===void 0&&(h=50);o.call(this,e,n,!0),this._gravity=h,this._power=l*h,this._epsilon=i*i},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,i=n*n+l*l;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var f=this._power*e/(i*h)*100;r.velocityX+=n*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});c.exports=s},56480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(45319),o=t(83419),s=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new o({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new r},emit:function(i,h,f,d,u,v){return this.emitter.emit(i,h,f,d,u,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var f=this.emitter,d=f.ops,u=f.getAnim();if(u?this.anims.play(u):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=h+d.y.onEmit(this,"y"):this.y+=h,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var v=d.speedX.onEmit(this,"speedX"),g=d.speedY.active?d.speedY.onEmit(this,"speedY"):v;if(f.radial){var y=s(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(y)*Math.abs(v),this.velocityY=Math.sin(y)*Math.abs(g)}else if(f.moveTo){var m=d.moveToX.onEmit(this,"moveToX"),T=d.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(m-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=v,this.velocityY=g;return f.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,h,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,u=d.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=u.x.onUpdate(this,"x",v,this.x),this.y=u.y.onUpdate(this,"y",v,this.y),d.moveTo){var g=u.moveToX.onUpdate(this,"moveToX",v,d.moveToX),y=u.moveToY.onUpdate(this,"moveToY",v,d.moveToY),m=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/m,this.velocityY=(y-this.y)/m}return this.computeVelocity(d,i,h,f,v),this.scaleX=u.scaleX.onUpdate(this,"scaleX",v,this.scaleX),u.scaleY.active?this.scaleY=u.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=u.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=s(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(u.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),u.color.active?this.tint=u.color.onUpdate(this,"color",v,this.tint):this.tint=u.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,f,d,u){var v=i.ops,g=this.velocityX,y=this.velocityY,m=v.accelerationX.onUpdate(this,"accelerationX",u,this.accelerationX),T=v.accelerationY.onUpdate(this,"accelerationY",u,this.accelerationY),S=v.maxVelocityX.onUpdate(this,"maxVelocityX",u,this.maxVelocityX),E=v.maxVelocityY.onUpdate(this,"maxVelocityY",u,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",u,this.bounce),g+=i.gravityX*f+m*f,y+=i.gravityY*f+T*f,g=p(g,-S,S),y=p(y,-E,E),this.velocityX=g,this.velocityY=y,this.x+=g*f,this.y+=y*f,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var C=0;C<d.length;C++){var w=d[C];w.active&&w.update(this,h,f,u)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,f=Math.abs(i.scaleY)*this.scaleY,d=this.x,u=this.y,v=this.rotation,g=this.frame.width*h/2,y=this.frame.height*f/2,m=this.bounds,T=new n(d-g,u-y),S=new n(d+g,u-y),E=new n(d-g,u+y),C=new n(d+g,u+y);return v!==0&&(e(T,d,u,v),e(S,d,u,v),e(E,d,u,v),e(C,d,u,v)),i.transformPoint(T.x,T.y,T),i.transformPoint(S.x,S.y,S),i.transformPoint(E.x,E.y,E),i.transformPoint(C.x,C.y,C),m.x=Math.min(T.x,S.x,E.x,C.x),m.y=Math.min(T.y,S.y,E.y,C.y),m.width=Math.max(T.x,S.x,E.x,C.x)-m.x,m.height=Math.max(T.y,S.y,E.y,C.y)-m.y,m},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(20286),o=t(87841),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,d,u){h===void 0&&(h=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),u===void 0&&(u=!0),p.call(this,e,n,!0),this.bounds=new o(e,n,l,i),this.collideLeft=h,this.collideRight=f,this.collideTop=d,this.collideBottom=u},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});c.exports=s},31600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(53774),s=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),i=t(20696),h=t(95643),f=t(95540),d=t(26546),u=t(24502),v=t(69036),g=t(1985),y=t(97022),m=t(86091),T=t(73162),S=t(20074),E=t(269),C=t(56480),w=t(69601),A=t(68875),P=t(87841),M=t(59996),R=t(72905),I=t(90668),D=t(19186),Y=t(61340),B=t(26099),O=t(15994),N=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],L=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],W=new a({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,I],initialize:function(U,Z,J,Q,k){h.call(this,U,"ParticleEmitter"),this.particleClass=C,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new B,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new Y,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Z,J),this.setTexture(Q),k&&this.setConfig(k)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(F){if(!F)return this;this.config=F;var U=0,Z="",J=this.ops;for(U=0;U<L.length;U++)Z=L[U],J[Z].loadConfig(F);for(U=0;U<N.length;U++)Z=N[U],y(F,Z)&&(this[Z]=f(F,Z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=v(F,["moveToX","moveToY"]),y(F,"speed")&&(J.speedX.loadConfig(F,"speed"),J.speedY.active=!1),(g(F,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(F,"scale")&&(J.scaleX.loadConfig(F,"scale"),J.scaleY.active=!1),y(F,"callbackScope")){var Q=f(F,"callbackScope",null);this.emitCallbackScope=Q,this.deathCallbackScope=Q}if(y(F,"emitZone")&&this.addEmitZone(F.emitZone),y(F,"deathZone")&&this.addDeathZone(F.deathZone),y(F,"bounds")){var k=this.addParticleBounds(F.bounds);k.collideLeft=f(F,"collideLeft",!0),k.collideRight=f(F,"collideRight",!0),k.collideTop=f(F,"collideTop",!0),k.collideBottom=f(F,"collideBottom",!0)}return y(F,"followOffset")&&this.followOffset.setFromObject(f(F,"followOffset",0)),y(F,"texture")&&this.setTexture(F.texture),y(F,"frame")?this.setEmitterFrame(F.frame):y(F,"anim")&&this.setAnim(F.anim),y(F,"reserve")&&this.reserve(F.reserve),y(F,"advance")&&this.fastForward(F.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(F){return F&&(this.config?this.setConfig(E(this.config,F)):this.setConfig(F)),this},toJSON:function(){var F=o(this),U=0,Z="";for(U=0;U<N.length;U++)Z=N[U],F[Z]=this[Z];var J=this.ops;for(U=0;U<L.length;U++)Z=L[U],J[Z]&&(F[Z]=J[Z].toJSON());return J.speedY.active||(delete F.speedX,F.speed=J.speedX.toJSON()),this.scaleX===this.scaleY&&(delete F.scaleX,delete F.scaleY,F.scale=J.scaleX.toJSON()),F},resetCounters:function(F,U){var Z=this.counters;Z.fill(0),Z[0]=F,U&&(Z[5]=1)},startFollow:function(F,U,Z,J){return U===void 0&&(U=0),Z===void 0&&(Z=0),J===void 0&&(J=!1),this.follow=F,this.followOffset.set(U,Z),this.trackVisible=J,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var F=this.frames,U=F.length,Z;return U===1?Z=F[0]:this.randomFrame?Z=d(F):(Z=F[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===U&&(this.currentFrame=0))),this.texture.get(Z)},setEmitterFrame:function(F,U,Z){U===void 0&&(U=!0),Z===void 0&&(Z=1),this.randomFrame=U,this.frameQuantity=Z,this.currentFrame=0;var J=typeof F;if(this.frames.length=0,Array.isArray(F))this.frames=this.frames.concat(F);else if(J==="string"||J==="number")this.frames.push(F);else if(J==="object"){var Q=F;F=f(Q,"frames",null),F&&(this.frames=this.frames.concat(F));var k=f(Q,"cycle",!1);this.randomFrame=!k,this.frameQuantity=f(Q,"quantity",Z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var F=this.anims,U=F.length;if(U===0)return null;if(U===1)return F[0];if(this.randomAnim)return d(F);var Z=F[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=O(this.currentAnim+1,0,U)),Z},setAnim:function(F,U,Z){U===void 0&&(U=!0),Z===void 0&&(Z=1),this.randomAnim=U,this.animQuantity=Z,this.currentAnim=0;var J=typeof F;if(this.anims.length=0,Array.isArray(F))this.anims=this.anims.concat(F);else if(J==="string")this.anims.push(F);else if(J==="object"){var Q=F;F=f(Q,"anims",null),F&&(this.anims=this.anims.concat(F));var k=f(Q,"cycle",!1);this.randomAnim=!k,this.animQuantity=f(Q,"quantity",Z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(F){return F===void 0&&(F=!0),this.radial=F,this},addParticleBounds:function(F,U,Z,J,Q,k,et,it){if(typeof F=="object"){var q=F;F=q.x,U=q.y,Z=y(q,"w")?q.w:q.width,J=y(q,"h")?q.h:q.height}return this.addParticleProcessor(new w(F,U,Z,J,Q,k,et,it))},setParticleSpeed:function(F,U){return U===void 0&&(U=F),this.ops.speedX.onChange(F),F===U?this.ops.speedY.active=!1:this.ops.speedY.onChange(U),this.radial=!0,this},setParticleScale:function(F,U){return F===void 0&&(F=1),U===void 0&&(U=F),this.ops.scaleX.onChange(F),this.ops.scaleY.onChange(U),this},setParticleGravity:function(F,U){return this.gravityX=F,this.gravityY=U,this},setParticleAlpha:function(F){return this.ops.alpha.onChange(F),this},setParticleTint:function(F){return this.ops.tint.onChange(F),this},setEmitterAngle:function(F){return this.ops.angle.onChange(F),this},setParticleLifespan:function(F){return this.ops.lifespan.onChange(F),this},setQuantity:function(F){return this.quantity=F,this},setFrequency:function(F,U){return this.frequency=F,this.flowCounter=F>0?F:0,U&&(this.quantity=U),this},addDeathZone:function(F){Array.isArray(F)||(F=[F]);for(var U,Z=[],J=0;J<F.length;J++)if(U=F[J],U instanceof r)Z.push(U);else if(typeof U.contains=="function")U=new r(U,!0),Z.push(U);else{var Q=f(U,"type","onEnter"),k=f(U,"source",null);if(k&&typeof k.contains=="function"){var et=Q==="onEnter";U=new r(k,et),Z.push(U)}}return this.deathZones=this.deathZones.concat(Z),Z},removeDeathZone:function(F){return R(this.deathZones,F),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(F){Array.isArray(F)||(F=[F]);for(var U,Z=[],J=0;J<F.length;J++)if(U=F[J],U instanceof A||U instanceof e)Z.push(U);else{var Q=f(U,"source",null);if(Q){var k=f(U,"type","random");if(k==="random"&&typeof Q.getRandomPoint=="function")U=new A(Q),Z.push(U);else if(k==="edge"&&typeof Q.getPoints=="function"){var et=f(U,"quantity",1),it=f(U,"stepRate",0),q=f(U,"yoyo",!1),tt=f(U,"seamless",!0),nt=f(U,"total",-1);U=new e(Q,et,it,q,tt,nt),Z.push(U)}}}return this.emitZones=this.emitZones.concat(Z),Z},removeEmitZone:function(F){return R(this.emitZones,F),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(F){var U=this.emitZones,Z=U.length;if(Z!==0){var J=U[this.zoneIndex];J.getPoint(F),J.total>-1&&(this.zoneTotal++,this.zoneTotal===J.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Z&&(this.zoneIndex=0)))}},getDeathZone:function(F){for(var U=this.deathZones,Z=0;Z<U.length;Z++){var J=U[Z];if(J.willKill(F))return this.emit(i.DEATH_ZONE,this,F,J),!0}return!1},setEmitZone:function(F){var U;return isFinite(F)?U=F:U=this.emitZones.indexOf(F),U>=0&&(this.zoneIndex=U),this},addParticleProcessor:function(F){return this.processors.exists(F)||(F.emitter&&F.emitter.removeParticleProcessor(F),this.processors.add(F),F.emitter=this),F},removeParticleProcessor:function(F){return this.processors.exists(F)&&(this.processors.remove(F,!0),F.emitter=null),F},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(F){return this.addParticleProcessor(new u(F))},reserve:function(F){var U=this.dead;if(this.maxParticles>0){var Z=this.getParticleCount();Z+F>this.maxParticles&&(F=this.maxParticles-(Z+F))}for(var J=0;J<F;J++)U.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(F,U){return F===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof F=="function"&&(this.emitCallback=F,U&&(this.emitCallbackScope=U)),this},onParticleDeath:function(F,U){return F===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof F=="function"&&(this.deathCallback=F,U&&(this.deathCallbackScope=U)),this},killAll:function(){for(var F=this.dead,U=this.alive;U.length>0;)F.push(U.pop());return this},forEachAlive:function(F,U){for(var Z=this.alive,J=Z.length,Q=0;Q<J;Q++)F.call(U,Z[Q],this);return this},forEachDead:function(F,U){for(var Z=this.dead,J=Z.length,Q=0;Q<J;Q++)F.call(U,Z[Q],this);return this},start:function(F,U){return F===void 0&&(F=0),this.emitting||(F>0&&this.fastForward(F),this.emitting=!0,this.resetCounters(this.frequency,!0),U!==void 0&&(this.duration=Math.abs(U)),this.emit(i.START,this)),this},stop:function(F){return F===void 0&&(F=!1),this.emitting&&(this.emitting=!1,F&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(F,U){return F===void 0&&(F=""),U===void 0&&(U=this.true),this.sortProperty=F,this.sortOrderAsc=U,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(F){return this.sortProperty!==""?F=this.depthSortCallback:F=null,this.sortCallback=F,this},depthSort:function(){return D(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(F,U){var Z=this.sortProperty;return this.sortOrderAsc?F[Z]-U[Z]:U[Z]-F[Z]},flow:function(F,U,Z){return U===void 0&&(U=1),this.emitting=!1,this.frequency=F,this.quantity=U,Z!==void 0&&(this.stopAfter=Z),this.start()},explode:function(F,U,Z){this.frequency=-1,this.resetCounters(-1,!0);var J=this.emitParticle(F,U,Z);return this.emit(i.EXPLODE,this,J),J},emitParticleAt:function(F,U,Z){return this.emitParticle(Z,F,U)},emitParticle:function(F,U,Z){if(!this.atLimit()){F===void 0&&(F=this.ops.quantity.onEmit());for(var J=this.dead,Q=this.stopAfter,k=this.follow?this.follow.x+this.followOffset.x:U,et=this.follow?this.follow.y+this.followOffset.y:Z,it=0;it<F;it++){var q=J.pop();if(q||(q=new this.particleClass(this)),q.fire(k,et)?(this.particleBringToTop?this.alive.push(q):this.alive.unshift(q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,q,this)):this.dead.push(q),Q>0&&(this.stopCounter++,this.stopCounter>=Q)||this.atLimit())break}return q}},fastForward:function(F,U){U===void 0&&(U=1e3/60);var Z=0;for(this.skipping=!0;Z<Math.abs(F);)this.preUpdate(0,U),Z+=U;return this.skipping=!1,this},preUpdate:function(F,U){U*=this.timeScale;var Z=U/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var J=this.getProcessors(),Q=this.alive,k=this.dead,et=0,it=[],q=Q.length;for(et=0;et<q;et++){var tt=Q[et];tt.update(U,Z,J)&&it.push({index:et,particle:tt})}if(q=it.length,q>0){var nt=this.deathCallback,ht=this.deathCallbackScope;for(et=q-1;et>=0;et--){var gt=it[et];Q.splice(gt.index,1),k.push(gt.particle),nt&&nt.call(ht,gt.particle),gt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Q.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=U;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=U,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(F){for(var U=this.getWorldTransformMatrix(),Z=this.alive,J=Z.length,Q=[],k=0;k<J;k++){var et=Z[k];M(F,et.getBounds(U))&&Q.push(et)}return Q},getBounds:function(F,U,Z,J){F===void 0&&(F=0),U===void 0&&(U=0),Z===void 0&&(Z=1e3/60),J===void 0&&(J=new P);var Q=this.getWorldTransformMatrix(),k,et,it=this.alive,q=!1;if(J.setTo(0,0,0,0),U>0){var tt=0;for(this.skipping=!0;tt<Math.abs(U);){for(this.preUpdate(0,Z),k=0;k<it.length;k++)et=it[k].getBounds(Q),q?S(J,et):(q=!0,s(et,J));tt+=Z}this.skipping=!1}else for(k=0;k<it.length;k++)et=it[k].getBounds(Q),q?S(J,et):(q=!0,s(et,J));return F>0&&m(J,F,F),J},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(F){this.ops.x.onChange(F)}},particleY:{get:function(){return this.ops.y.current},set:function(F){this.ops.y.onChange(F)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(F){this.ops.accelerationX.onChange(F)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(F){this.ops.accelerationY.onChange(F)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(F){this.ops.maxVelocityX.onChange(F)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(F){this.ops.maxVelocityY.onChange(F)}},speed:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F),this.ops.speedY.onChange(F)}},speedX:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F)}},speedY:{get:function(){return this.ops.speedY.current},set:function(F){this.ops.speedY.onChange(F)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(F){this.ops.moveToX.onChange(F)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(F){this.ops.moveToY.onChange(F)}},bounce:{get:function(){return this.ops.bounce.current},set:function(F){this.ops.bounce.onChange(F)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(F){this.ops.scaleX.onChange(F)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(F){this.ops.scaleY.onChange(F)}},particleColor:{get:function(){return this.ops.color.current},set:function(F){this.ops.color.onChange(F)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(F){this.ops.color.setEase(F)}},particleTint:{get:function(){return this.ops.tint.current},set:function(F){this.ops.tint.onChange(F)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(F){this.ops.alpha.onChange(F)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(F){this.ops.lifespan.onChange(F)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(F){this.ops.angle.onChange(F)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(F){this.ops.rotate.onChange(F)}},quantity:{get:function(){return this.ops.quantity.current},set:function(F){this.ops.quantity.onChange(F)}},delay:{get:function(){return this.ops.delay.current},set:function(F){this.ops.delay.onChange(F)}},hold:{get:function(){return this.ops.hold.current},set:function(F){this.ops.hold.onChange(F)}},flowCounter:{get:function(){return this.counters[0]},set:function(F){this.counters[0]=F}},frameCounter:{get:function(){return this.counters[1]},set:function(F){this.counters[1]=F}},animCounter:{get:function(){return this.counters[2]},set:function(F){this.counters[2]=F}},elapsed:{get:function(){return this.counters[3]},set:function(F){this.counters[3]=F}},stopCounter:{get:function(){return this.counters[4]},set:function(F){this.counters[4]=F}},completeFlag:{get:function(){return this.counters[5]},set:function(F){this.counters[5]=F}},zoneIndex:{get:function(){return this.counters[6]},set:function(F){this.counters[6]=F}},zoneTotal:{get:function(){return this.counters[7]},set:function(F){this.counters[7]=F}},currentFrame:{get:function(){return this.counters[8]},set:function(F){this.counters[8]=F}},currentAnim:{get:function(){return this.counters[9]},set:function(F){this.counters[9]=F}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var F,U=this.ops;for(F=0;F<L.length;F++){var Z=L[F];U[Z].destroy()}for(F=0;F<this.alive.length;F++)this.alive[F].destroy();for(F=0;F<this.dead.length;F++)this.dead[F].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=W},9871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),p=t(61340),o=new p,s=new p,r=new p,e=new p,n=function(l,i,h,f){var d=o,u=s,v=r,g=e;f?(g.loadIdentity(),g.multiply(f),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var y=l.currentContext,m=h.roundPixels,T=h.alpha,S=i.alpha,E=i.alive,C=E.length,w=i.viewBounds;if(!(!i.visible||C===0||w&&!a(w,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var A=i.scrollFactorX,P=i.scrollFactorY;y.save(),y.globalCompositeOperation=l.blendModes[i.blendMode];for(var M=0;M<C;M++){var R=E[M],I=R.alpha*S*T;if(!(I<=0||R.scaleX===0||R.scaleY===0)){v.applyITRS(R.x,R.y,R.rotation,R.scaleX,R.scaleY),d.copyFrom(h.matrix),d.multiplyWithOffset(g,-h.scrollX*A,-h.scrollY*P),v.e=R.x,v.f=R.y,d.multiply(v,u);var D=R.frame,Y=D.canvasData;if(Y.width>0&&Y.height>0){var B=-D.halfWidth,O=-D.halfHeight;y.globalAlpha=I,y.save(),u.setToContext(y),m&&(B=Math.round(B),O=Math.round(O)),y.imageSmoothingEnabled=!D.source.scaleMode,y.drawImage(D.source.image,Y.x,Y.y,Y.width,Y.height,B,O,Y.width,Y.height),y.restore()}}}y.restore()}};c.exports=n},92730:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(95540),r=t(31600);p.register("particles",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=s(e,"config",null),h=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),a(this.scene,h,e),i&&h.setConfig(i),h})},676:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(31600);a.register("particles",function(o,s,r,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,o,s,r,e))})},90668:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(21188),o=t(9871),c.exports={renderWebGL:p,renderCanvas:o}},21188:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),p=t(61340),o=t(70554),s=new p,r=new p,e=new p,n=new p,l=function(i,h,f,d){var u=i.pipelines.set(h.pipeline),v=s,g=r,y=e,m=n;d?(m.loadIdentity(),m.multiply(d),m.translate(h.x,h.y),m.rotate(h.rotation),m.scale(h.scaleX,h.scaleY)):m.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var T=o.getTintAppendFloatAlpha,S=f.alpha,E=h.alpha;i.pipelines.preBatch(h);var C=h.alive,w=C.length,A=h.viewBounds;if(!(w===0||A&&!a(A,f.worldView))){h.sortCallback&&h.depthSort(),f.addToRenderList(h),v.copyFrom(f.matrix),v.multiplyWithOffset(m,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,f),i.pipelines.set(h.pipeline));for(var P=h.tintFill,M,R,I=0;I<w;I++){var D=C[I],Y=D.alpha*E*S;if(!(Y<=0||D.scaleX===0||D.scaleY===0)){y.applyITRS(D.x,D.y,D.rotation,D.scaleX,D.scaleY),y.e=D.x,y.f=D.y,v.multiply(y,g);var B=D.frame;B.glTexture!==R&&(R=B.glTexture,M=u.setGameObject(h,B));var O=-B.halfWidth,N=-B.halfHeight,L=g.setQuad(O,N,O+B.width,N+B.height),W=T(D.tint,Y);u.shouldFlush(6)&&(u.flush(),M=u.setGameObject(h,B)),u.batchQuad(h,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],B.u0,B.v0,B.u1,B.v1,W,W,W,W,P,R,M)}}h.mask&&h.mask.postRenderWebGL(i,f),i.pipelines.postBatch(h)}};c.exports=l},20286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=p},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(o){var s=o.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});c.exports=p},19909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],s=this.points[this.points.length-1];o.x===s.x&&o.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(o.x=s.x,o.y=s.y)}});c.exports=p},68875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r){this.source=r,this._tempVec=new p,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});c.exports=o},21024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(68287),s=new a({Extends:o,Mixins:[p.PathFollower],initialize:function(e,n,l,i,h,f){o.call(this,e,l,i,h,f),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});c.exports=s},90145:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(1159);a.register("follower",function(o,s,r,e,n){var l=new p(this.scene,o,s,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(48803),s=t(90664),r=t(4703),e=t(45650),n=new p({Extends:r,initialize:function(i,h,f,d,u,v,g,y){d||(d="__DEFAULT"),r.call(this,i,h,f,d,u),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,g,y),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,i,h){l===void 0&&(l=8),i===void 0&&(i=8),h===void 0&&(h=!1);var f=!1;return h&&(f=!0),this.gridWidth=l,this.gridHeight=i,this.isTiled=h,this.clear(),o({mesh:this,widthSegments:l,heightSegments:i,isOrtho:!1,tile:h,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,f=this.gridHeight,d=this.vertices,u=i.u0,v=i.u1,g=i.v0,y=i.v1,m,T,S=0;if(this.isTiled)for(g=i.v1,y=i.v0,T=0;T<f;T++)for(m=0;m<h;m++)d[S++].setUVs(u,y),d[S++].setUVs(u,g),d[S++].setUVs(v,y),d[S++].setUVs(u,g),d[S++].setUVs(v,g),d[S++].setUVs(v,y);else{var E=h+1,C=f+1,w=v-u,A=y-g,P=[];for(T=0;T<C;T++)for(m=0;m<E;m++){var M=u+w*(m/h),R=g+A*(T/f);P.push(M,R)}for(T=0;T<f;T++)for(m=0;m<h;m++){var I=(m+E*T)*2,D=(m+E*(T+1))*2,Y=(m+1+E*(T+1))*2,B=(m+1+E*T)*2;d[S++].setUVs(P[I],P[I+1]),d[S++].setUVs(P[D],P[D+1]),d[S++].setUVs(P[B],P[B+1]),d[S++].setUVs(P[D],P[D+1]),d[S++].setUVs(P[Y],P[Y+1]),d[S++].setUVs(P[B],P[B+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(l,i,h,f,d){l===void 0&&(l=16777215),i===void 0&&(i=255),h===void 0&&(h=255),f===void 0&&(f=255),d===void 0&&(d=128);for(var u=s(l),v=s(i),g=[],y=0;y<16;y++)for(var m=0;m<16;m++)y<8&&m<8||y>7&&m>7?g.push(u.r,u.g,u.b,h):g.push(v.r,v.g,v.b,f);var T=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,i){return this.anims.play(l,i)},playReverse:function(l,i){return this.anims.playReverse(l,i)},playAfterDelay:function(l,i){return this.anims.playAfterDelay(l,i)},playAfterRepeat:function(l,i){return this.anims.playAfterRepeat(l,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,i){r.prototype.preUpdate.call(this,l,i),this.anims.update(l,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(35154),e=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var i=s(n,"key",null),h=s(n,"frame",null),f=r(n,"width",8),d=r(n,"height",8),u=r(n,"tile",!1),v=new e(this.scene,0,0,i,h,f,d,u);l!==void 0&&(n.add=l);var g=r(n,"checkerboard",null);if(g){var y=r(g,"color1",16777215),m=r(g,"color2",255),T=r(g,"alpha1",255),S=r(g,"alpha2",255),E=r(g,"height",128);v.createCheckerboard(y,m,T,S,E)}return a(this.scene,v,n),p(v,n),v})},30985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33663),p=t(39429);p.register("plane",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},80321:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(30100),r=t(36060),e=t(67277),n=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(i,h,f,d,u,v,g){d===void 0&&(d=16777215),u===void 0&&(u=128),v===void 0&&(v=1),g===void 0&&(g=.1),o.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,f),this.color=s(d),this.intensity=v,this.attenuation=g,this.width=u*2,this.height=u*2,this._radius=u},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(80321);p.register("pointlight",function(r,e){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),i=o(r,"intensity",1),h=o(r,"attenuation",.1),f=new s(this.scene,0,0,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},71255:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(80321);a.register("pointlight",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},67277:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(57787),c.exports={renderWebGL:p,renderCanvas:o}},57787:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){r.addToRenderList(s);var n=o.pipelines.set(s.pipeline),l=a(s,r,e).calc,i=s.width,h=s.height,f=-s._radius,d=-s._radius,u=f+i,v=d+h,g=l.getX(0,0),y=l.getY(0,0),m=l.getX(f,d),T=l.getY(f,d),S=l.getX(f,v),E=l.getY(f,v),C=l.getX(u,v),w=l.getY(u,v),A=l.getX(u,d),P=l.getY(u,d);o.pipelines.preBatch(s),n.batchPointLight(s,r,m,T,S,E,C,w,A,P,g,y),o.pipelines.postBatch(s)};c.exports=p},591:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(81320),o=t(88571),s=new a({Extends:o,initialize:function(e,n,l,i,h,f){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=32),h===void 0&&(h=32),f===void 0&&(f=!0);var d=new p(e.sys.textures,"",i,h,f);o.call(this,e,n,l,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e,n){return this.texture.setSize(r,e,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,i,h){return this.texture.fill(r,e,n,l,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,i){return this.texture.stamp(r,e,n,l,i),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,i){return this.texture.draw(r,e,n,l,i),this},drawFrame:function(r,e,n,l,i,h){return this.texture.drawFrame(r,e,n,l,i,h),this},repeat:function(r,e,n,l,i,h,f,d,u){return this.texture.repeat(r,e,n,l,i,h,f,d,u),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,i){return this.texture.batchDraw(r,e,n,l,i),this},batchDrawFrame:function(r,e,n,l,i,h){return this.texture.batchDrawFrame(r,e,n,l,i,h),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,i,h,f){return this.texture.snapshotArea(r,e,n,l,i,h,f),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=s},34495:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(591);p.register("renderTexture",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",32),h=o(r,"height",32),f=new s(this.scene,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},60505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(591);a.register("renderTexture",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},77757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new p({Extends:s,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(h,f,d,u,v,g,y,m,T){u===void 0&&(u="__DEFAULT"),g===void 0&&(g=2),y===void 0&&(y=!0),s.call(this,h,"Rope"),this.anims=new a(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=u==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(u,v),this.setPosition(f,d),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,m,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var f=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(i,h,f){return this.anims.play(i,h,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,f){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,f))},setVertical:function(i,h,f){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,f)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var f=this.points.length;if(f<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var u,v=0;if(h!==void 0)for(u=0;u<f;u++)v=u*2,d[v]=i,d[v+1]=h;else if(i.length===f)for(u=0;u<f;u++)v=u*2,d[v]=i[u],d[v+1]=i[u];else{var g=i[0];for(u=0;u<f;u++)v=u*2,i.length>v&&(g=i[v]),d[v]=g,i.length>v+1&&(g=i[v+1]),d[v+1]=g}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var f=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,u=0;if(i.length===h)for(d=0;d<h;d++)u=d*2,f[u]=i[d],f[u+1]=i[d];else{var v=i[0];for(d=0;d<h;d++)u=d*2,i.length>u&&(v=i[u]),f[u]=v,i.length>u+1&&(v=i[u+1]),f[u+1]=v}return this},setPoints:function(i,h,f){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var u,v,g;if(this.horizontal)for(g=-this.frame.halfWidth,v=this.frame.width/(d-1),u=0;u<d;u++)i.push({x:g+u*v,y:0});else for(g=-this.frame.halfHeight,v=this.frame.height/(d-1),u=0;u<d;u++)i.push({x:0,y:g+u*v})}var y=i.length,m=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(i.unshift({x:0,y:0}),y++),m!==y&&this.resizeArrays(y),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,f=this.frame.u0,d=this.frame.v0,u=this.frame.u1,v=this.frame.v1,g=(u-f)/(h-1),y=(v-d)/(h-1),m=0;m<h;m++){var T=m*4,S,E,C,w;this.horizontal?(this._flipX?(S=u-m*g,C=u-m*g):(S=f+m*g,C=f+m*g),this._flipY?(E=v,w=d):(E=d,w=v)):(this._flipX?(S=f,C=u):(S=u,C=f),this._flipY?(E=v-m*y,w=v-m*y):(E=d+m*y,w=d+m*y)),i[T+0]=S,i[T+1]=E,i[T+2]=C,i[T+3]=w}return this},resizeArrays:function(i){var h=this.colors,f=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),f=new Float32Array(i*2);for(var d=0;d<i*2;d++)h[d]=16777215,f[d]=1;return this.colors=h,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,f=this.vertices,d=h.length;if(this.dirty=!1,!(d<1)){for(var u,v=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<d;y++){var m=h[y],T=y*4;y<d-1?u=h[y+1]:u=m,i.x=u.y-v.y,i.y=-(u.x-v.x);var S=i.length();i.x/=S,i.y/=S,i.x*=g,i.y*=g,f[T]=m.x+i.x,f[T+1]=m.y+i.y,f[T+2]=m.x-i.x,f[T+3]=m.y-i.y,v=m}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,f){var d=i.debugGraphic,u=f[0],v=f[1],g=f[2],y=f[3];d.lineBetween(u,v,g,y);for(var m=4;m<h;m+=4){var T=f[m+0],S=f[m+1],E=f[m+2],C=f[m+3];d.lineBetween(u,v,T,S),d.lineBetween(g,y,E,C),d.lineBetween(g,y,T,S),d.lineBetween(T,S,E,C),u=T,v=S,g=E,y=C}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},26209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(77757);p.register("rope",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=o(e,"horizontal",!0),f=s(e,"points",void 0),d=s(e,"colors",void 0),u=s(e,"alphas",void 0),v=new r(this.scene,0,0,l,i,f,h,d,u);return n!==void 0&&(e.add=n),a(this.scene,v,e),v})},96819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(77757),p=t(39429);p.register("rope",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))})},38745:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(20439),o=t(95262),c.exports={renderWebGL:p,renderCanvas:o}},20439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),i=a(r,e,n).calc,h=r.vertices,f=r.uv,d=r.colors,u=r.alphas,v=r.alpha,g=p.getTintAppendFloatAlpha,y=e.roundPixels,m=h.length,T=Math.floor(m*.5);l.flush(),s.pipelines.preBatch(r);var S=l.setGameObject(r),E=l.vertexViewF32,C=l.vertexViewU32,w=l.vertexCount*l.currentShader.vertexComponentCount-1,A=0,P=r.tintFill;r.dirty&&r.updateVertices();for(var M=r.debugCallback,R=[],I=0;I<m;I+=2){var D=h[I+0],Y=h[I+1],B=D*i.a+Y*i.c+i.e,O=D*i.b+Y*i.d+i.f;y&&(B=Math.round(B),O=Math.round(O)),E[++w]=B,E[++w]=O,E[++w]=f[I+0],E[++w]=f[I+1],E[++w]=S,E[++w]=P,C[++w]=g(d[A],e.alpha*(u[A]*v)),A++,M&&(R[I+0]=B,R[I+1]=O)}M&&M.call(r,r,m,R),l.vertexCount+=T,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};c.exports=o},20071:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),i=t(95428),h=t(92503),f=new a({Extends:o,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,n],initialize:function(u,v,g,y,m,T,S,E){g===void 0&&(g=0),y===void 0&&(y=0),m===void 0&&(m=128),T===void 0&&(T=128),o.call(this,u,"Shader"),this.blendMode=-1,this.shader;var C=u.sys.renderer;this.renderer=C,this.gl=C.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=C.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=C.width,this._rendererHeight=C.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,y),this.setSize(m,T),this.setOrigin(.5,.5),this.setShader(v,S,E),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,u){if(!this.renderToTexture){var v=this.width,g=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,v,g,0),this.framebuffer=y.createFramebuffer(v,g,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(d,u,v){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:u,textureData:v},this;if(u===void 0&&(u=[]),typeof d=="string"){var g=this.scene.sys.cache.shader;if(!g.has(d))return console.warn("Shader missing: "+d),this;this.shader=g.get(d)}else this.shader=d;var y=this.gl,m=this.renderer;this.program&&m.deleteProgram(this.program);var T=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var S=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var C=0;C<4;C++)u[C]&&this.setSampler2D("iChannel"+C,u[C],C,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,u,v,g){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:u,bottom:v,top:g};return}var y=-1e3,m=1e3,T=1/(d-u),S=1/(v-g),E=1/(y-m),C=this.projectionMatrix;C[0]=-2*T,C[5]=-2*S,C[10]=2*E,C[12]=(d+u)*T,C[13]=(g+v)*S,C[14]=(m+y)*E;var w=this.program,A=this.gl,P=this.renderer;P.setProgram(w),A.uniformMatrix4fv(A.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=u,this._rendererHeight=v},initUniforms:function(){var d=this.renderer.glFuncMap,u=this.program;this._textureCount=0;for(var v in this.uniforms){var g=this.uniforms[v],y=g.type,m=d[y];g.uniformLocation=this.renderer.createUniformLocation(u,v),y!=="sampler2D"&&(g.glMatrix=m.matrix,g.glValueLength=m.length,g.glFunc=m.func)}},setSampler2DBuffer:function(d,u,v,g,y,m){y===void 0&&(y=0),m===void 0&&(m={});var T=this.uniforms[d];return T.value=u,m.width=v,m.height=g,T.textureData=m,this._textureCount=y,this.initSampler2D(T),this},setSampler2D:function(d,u,v,g){v===void 0&&(v=0);var y=this.scene.sys.textures;if(y.exists(u)){var m=y.getFrame(u);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,m.glTexture,m.width,m.height,v,g);var T=this.uniforms[d],S=m.source;T.textureKey=u,T.source=S.image,T.value=m.glTexture,S.isGLTexture&&(g||(g={}),g.width=S.width,g.height=S.height),g&&(T.textureData=g),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(d,u){return e(this.uniforms,d,u),this},getUniform:function(d){return s(this.uniforms,d,null)},setChannel0:function(d,u){return this.setSampler2D("iChannel0",d,0,u)},setChannel1:function(d,u){return this.setSampler2D("iChannel1",d,1,u)},setChannel2:function(d,u){return this.setSampler2D("iChannel2",d,2,u)},setChannel3:function(d,u){return this.setSampler2D("iChannel3",d,3,u)},initSampler2D:function(d){if(d.value){var u=d.textureData;if(u&&!d.value.isRenderTexture){var v=this.gl,g=d.value,y=v[s(u,"magFilter","linear").toUpperCase()],m=v[s(u,"minFilter","linear").toUpperCase()],T=v[s(u,"wrapS","repeat").toUpperCase()],S=v[s(u,"wrapT","repeat").toUpperCase()],E=v[s(u,"format","rgba").toUpperCase()],C=s(u,"flipY",!1),w=s(u,"width",g.width),A=s(u,"height",g.height),P=s(u,"source",g.pixels);u.repeat&&(T=v.REPEAT,S=v.REPEAT),u.width&&(P=null),g.update(P,w,A,C,T,S,m,y,E)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,u=this.uniforms,v,g,y,m,T,S=0;for(var E in u)v=u[E],y=v.glFunc,g=v.glValueLength,m=v.uniformLocation,T=v.value,T!==null&&(g===1?v.glMatrix?y.call(d,m.webGLUniformLocation,v.transpose,T):y.call(d,m.webGLUniformLocation,T):g===2?y.call(d,m.webGLUniformLocation,T.x,T.y):g===3?y.call(d,m.webGLUniformLocation,T.x,T.y,T.z):g===4?y.call(d,m.webGLUniformLocation,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+S),d.bindTexture(d.TEXTURE_2D,T.webGLTexture),d.uniform1i(m.webGLUniformLocation,S),S++))},load:function(d){var u=this.gl,v=this.width,g=this.height,y=this.renderer,m=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,E=-this._displayOriginY;T[0]=d[0],T[1]=d[1],T[4]=d[2],T[5]=d[3],T[8]=d[4],T[9]=d[5],T[12]=T[0]*S+T[4]*E,T[13]=T[1]*S+T[5]*E}u.useProgram(m.webGLProgram),u.uniformMatrix4fv(u.getUniformLocation(m.webGLProgram,"uViewMatrix"),!1,T),u.uniformMatrix4fv(u.getUniformLocation(m.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),u.uniform2f(u.getUniformLocation(m.webGLProgram,"uResolution"),this.width,this.height);var C=this.uniforms,w=C.resolution;w.value.x=v,w.value.y=g,C.time.value=y.game.loop.getDuration();var A=this.pointer;if(A){var P=C.mouse,M=A.x/v,R=1-A.y/g;P.value.x=M.toFixed(2),P.value.y=R.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,u=this.height,v=this.program,g=this.gl,y=this.vertexBuffer,m=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,y.webGLBuffer);var S=g.getAttribLocation(v.webGLProgram,"inPosition");S!==-1&&(g.enableVertexAttribArray(S),g.vertexAttribPointer(S,2,g.FLOAT,!1,T,0));var E=this.vertexViewF32;E[3]=u,E[4]=d,E[5]=u,E[8]=d,E[9]=u,E[10]=d;var C=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,C*T)),g.drawArrays(g.TRIANGLES,0,C),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,u=this._deferSetShader.textures,v=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,u,v)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,y=this._deferProjOrtho.right,m=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,y,m,T)}},preDestroy:function(){var d=this.renderer;d.off(h.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(u){d.deleteUniformLocation(u.uniformLocation),u.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},54935:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(20071);p.register("shader",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),i=o(r,"y",0),h=o(r,"width",128),f=o(r,"height",128),d=new s(this.scene,n,l,i,h,f);return e!==void 0&&(r.add=e),a(this.scene,d,r),d})},74177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20071),p=t(39429);p.register("shader",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},25479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(19257),o=t(80464),c.exports={renderWebGL:p,renderCanvas:o}},19257:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){if(s.shader){if(r.addToRenderList(s),o.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=a(s,r,e).calc;(o.width!==s._rendererWidth||o.height!==s._rendererHeight)&&s.projOrtho(0,o.width,o.height,0),s.load(n.matrix),s.flush()}o.pipelines.rebind()}};c.exports=p},10441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e,n,l){for(var i=a.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),h=r.pathData,f=r.pathIndexes,d=0;d<f.length;d+=3){var u=f[d]*2,v=f[d+1]*2,g=f[d+2]*2,y=h[u+0]-n,m=h[u+1]-l,T=h[v+0]-n,S=h[v+1]-l,E=h[g+0]-n,C=h[g+1]-l,w=s.getX(y,m),A=s.getY(y,m),P=s.getX(T,S),M=s.getY(T,S),R=s.getX(E,C),I=s.getY(E,C);o.batchTri(r,w,A,P,M,R,I,0,0,1,1,i,i,i,2)}};c.exports=p},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=p||a.fillColor,r=o||a.fillAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};c.exports=x},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=p||a.strokeColor,r=o||a.strokeAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=a.lineWidth};c.exports=x},17803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(23031),r=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(n,l,i){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=r},34682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e,n){var l=o.strokeTint,i=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=i,l.TR=i,l.BL=i,l.BR=i;var h=s.pathData,f=h.length-1,d=s.lineWidth,u=d/2,v=h[0]-e,g=h[1]-n;s.closePath||(f-=2);for(var y=2;y<f;y+=2){var m=h[y]-e,T=h[y+1]-n;o.batchLine(v,g,m,T,u,u,d,y-2,s.closePath?y===f-1:!1),v=m,g=T}};c.exports=p},23629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13609),p=t(83419),o=t(39506),s=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new p({Extends:n,Mixins:[a],initialize:function(h,f,d,u,v,g,y,m,T){f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=128),v===void 0&&(v=0),g===void 0&&(g=360),y===void 0&&(y=!1),n.call(this,h,"Arc",new r(0,0,u)),this._startAngle=v,this._endAngle=g,this._anticlockwise=y,this._iterations=.01,this.setPosition(f,d);var S=this.geom.radius*2;this.setSize(S,S),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,f=this.geom.radius,d=o(this._startAngle),u=o(this._endAngle),v=this._anticlockwise,g=f,y=f;u-=d,v?u<-e.PI2?u=-e.PI2:u>0&&(u=-e.PI2+u%e.PI2):u>e.PI2?u=e.PI2:u<0&&(u=e.PI2+u%e.PI2);for(var m=[g+Math.cos(d)*f,y+Math.sin(d)*f],T;h<1;)T=u*h+d,m.push(g+Math.cos(T)*f,y+Math.sin(T)*f),h+=i;return T=u+d,m.push(g+Math.cos(T)*f,y+Math.sin(T)*f),m.push(g+Math.cos(d)*f,y+Math.sin(d)*f),this.pathIndexes=s(m),this.pathData=m,this}});c.exports=l},42542:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),p=t(65960),o=t(75177),s=t(20926),r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(s(e,h,n,l,i)){var f=n.radius;h.beginPath(),h.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&h.closePath(),n.isFilled&&(p(h,n),h.fill()),n.isStroked&&(o(h,n),h.stroke()),h.restore()}};c.exports=r},42563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23629),p=t(39429);p.register("arc",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))}),p.register("circle",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,0,360,!1,e,n))})},13609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(41447),o=t(42542),c.exports={renderWebGL:p,renderCanvas:o}},41447:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(10441),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l),f=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,u=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&p(i,f,e,v,d,u),e.isStroked&&o(i,e,v,d,u),r.pipelines.postBatch(e)};c.exports=s},89:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(33141),o=t(94811),s=t(87841),r=t(17803),e=new a({Extends:r,Mixins:[p],initialize:function(l,i,h,f,d,u){i===void 0&&(i=0),h===void 0&&(h=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,h),d!==void 0&&this.setFillStyle(d,u),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(l),f=0;f<h.length;f++)i.push(h[f].x,h[f].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=e},3170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,d=e.pathData,u=d.length-1,v=d[0]-h,g=d[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(u-=2);for(var y=2;y<u;y+=2){var m=d[y]-h,T=d[y+1]-f;i.lineTo(m,T)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},40511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(89);a.register("curve",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},33141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(53987),o=t(3170),c.exports={renderWebGL:p,renderCanvas:o}},53987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,d,u),e.isStroked&&o(i,e,v,d,u),r.pipelines.postBatch(e)};c.exports=s},19921:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94811),o=t(54205),s=t(8497),r=t(17803),e=new a({Extends:r,Mixins:[o],initialize:function(l,i,h,f,d,u,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),d===void 0&&(d=128),r.call(this,l,"Ellipse",new s(f/2,d/2,f,d)),this._smoothness=64,this.setPosition(i,h),this.width=f,this.height=d,u!==void 0&&this.setFillStyle(u,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),i=0;i<l.length;i++)n.push(l[i].x,l[i].y);return n.push(l[0].x,l[0].y),this.pathIndexes=p(n),this.pathData=n,this}});c.exports=e},7930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,d=e.pathData,u=d.length-1,v=d[0]-h,g=d[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(u-=2);for(var y=2;y<u;y+=2){var m=d[y]-h,T=d[y+1]-f;i.lineTo(m,T)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},1543:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19921),p=t(39429);p.register("ellipse",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},54205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(19467),o=t(7930),c.exports={renderWebGL:p,renderCanvas:o}},19467:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,u=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,d,u),e.isStroked&&o(i,e,v,d,u),r.pipelines.postBatch(e)};c.exports=s},30479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(26015),s=new a({Extends:p,Mixins:[o],initialize:function(e,n,l,i,h,f,d,u,v,g,y){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=128),h===void 0&&(h=128),f===void 0&&(f=32),d===void 0&&(d=32),p.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(i,h),this.setFillStyle(u,v),g!==void 0&&this.setOutlineStyle(g,y),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=s},49912:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=-e._displayOriginX,f=-e._displayOriginY,d=n.alpha*e.alpha,u=e.width,v=e.height,g=e.cellWidth,y=e.cellHeight,m=Math.ceil(u/g),T=Math.ceil(v/y),S=g,E=y,C=g-(m*g-u),w=y-(T*y-v),A=e.showCells,P=e.showAltCells,M=e.showOutline,R=0,I=0,D=0,Y=0,B=0;if(M&&(S--,E--,C===g&&C--,w===y&&w--),A&&e.fillAlpha>0)for(a(i,e),I=0;I<T;I++)for(P&&(D=I%2),R=0;R<m;R++){if(P&&D){D=0;continue}D++,Y=R<m-1?S:C,B=I<T-1?E:w,i.fillRect(h+R*g,f+I*y,Y,B)}if(P&&e.altFillAlpha>0)for(a(i,e,e.altFillColor,e.altFillAlpha*d),I=0;I<T;I++)for(P&&(D=I%2),R=0;R<m;R++){if(P&&!D){D=1;continue}D=0,Y=R<m-1?S:C,B=I<T-1?E:w,i.fillRect(h+R*g,f+I*y,Y,B)}if(M&&e.outlineFillAlpha>0){for(p(i,e,e.outlineFillColor,e.outlineFillAlpha*d),R=1;R<m;R++){var O=R*g;i.beginPath(),i.moveTo(O+h,f),i.lineTo(O+h,v+f),i.stroke()}for(I=1;I<T;I++){var N=I*y;i.beginPath(),i.moveTo(h,N+f),i.lineTo(h+u,N+f),i.stroke()}}i.restore()}};c.exports=s},34137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(30479);a.register("grid",function(o,s,r,e,n,l,i,h,f,d){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,f,d))})},26015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(46161),o=t(49912),c.exports={renderWebGL:p,renderCanvas:o}},46161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc);h.translate(-r._displayOriginX,-r._displayOriginY);var f=e.alpha*r.alpha,d=r.width,u=r.height,v=r.cellWidth,g=r.cellHeight,y=Math.ceil(d/v),m=Math.ceil(u/g),T=v,S=g,E=v-(y*v-d),C=g-(m*g-u),w,A,P=r.showCells,M=r.showAltCells,R=r.showOutline,I=0,D=0,Y=0,B=0,O=0;if(R&&(T--,S--,E===v&&E--,C===g&&C--),s.pipelines.preBatch(r),P&&r.fillAlpha>0)for(w=l.fillTint,A=p.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),w.TL=A,w.TR=A,w.BL=A,w.BR=A,D=0;D<m;D++)for(M&&(Y=D%2),I=0;I<y;I++){if(M&&Y){Y=0;continue}Y++,B=I<y-1?T:E,O=D<m-1?S:C,l.batchFillRect(I*v,D*g,B,O)}if(M&&r.altFillAlpha>0)for(w=l.fillTint,A=p.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),w.TL=A,w.TR=A,w.BL=A,w.BR=A,D=0;D<m;D++)for(M&&(Y=D%2),I=0;I<y;I++){if(M&&!Y){Y=1;continue}Y=0,B=I<y-1?T:E,O=D<m-1?S:C,l.batchFillRect(I*v,D*g,B,O)}if(R&&r.outlineFillAlpha>0){var N=l.strokeTint,L=p.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(N.TL=L,N.TR=L,N.BL=L,N.BR=L,I=1;I<y;I++){var W=I*v;l.batchLine(W,0,W,u,r.lineWidth,r.lineWidth,1,0,!1)}for(D=1;D<m;D++){var F=D*g;l.batchLine(0,F,d,F,r.lineWidth,r.lineWidth,1,0,!1)}}s.pipelines.postBatch(r)};c.exports=o},61475:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99651),p=t(83419),o=t(17803),s=new p({Extends:o,Mixins:[a],initialize:function(e,n,l,i,h,f,d,u){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),f===void 0&&(f=15658734),d===void 0&&(d=10066329),u===void 0&&(u=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=u,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},11508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,f=i/2,d=i/r.projection;r.showTop&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-d-h),l.lineTo(f,-h),l.lineTo(f,-1),l.lineTo(0,d-1),l.lineTo(-f,-1),l.lineTo(-f,-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-h),l.lineTo(-f,-h),l.lineTo(-f,0),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-h),l.lineTo(f,-h),l.lineTo(f,0),l.fill()),l.restore()}};c.exports=o},3933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(61475);a.register("isobox",function(o,s,r,e,n,l,i){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i))})},99651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(68149),o=t(11508),c.exports={renderWebGL:p,renderCanvas:o}},68149:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),f=r.width,d=r.height,u=f/2,v=f/r.projection,g=e.alpha*r.alpha;if(r.isFilled){var y,m,T,S,E,C,w,A,P;s.pipelines.preBatch(r),r.showTop&&(y=p.getTintAppendFloatAlpha(r.fillTop,g),m=h.getX(-u,-d),T=h.getY(-u,-d),S=h.getX(0,-v-d),E=h.getY(0,-v-d),C=h.getX(u,-d),w=h.getY(u,-d),A=h.getX(0,v-d),P=h.getY(0,v-d),l.batchQuad(r,m,T,S,E,C,w,A,P,0,0,1,1,y,y,y,y,2)),r.showLeft&&(y=p.getTintAppendFloatAlpha(r.fillLeft,g),m=h.getX(-u,0),T=h.getY(-u,0),S=h.getX(0,v),E=h.getY(0,v),C=h.getX(0,v-d),w=h.getY(0,v-d),A=h.getX(-u,-d),P=h.getY(-u,-d),l.batchQuad(r,m,T,S,E,C,w,A,P,0,0,1,1,y,y,y,y,2)),r.showRight&&(y=p.getTintAppendFloatAlpha(r.fillRight,g),m=h.getX(u,0),T=h.getY(u,0),S=h.getX(0,v),E=h.getY(0,v),C=h.getX(0,v-d),w=h.getY(0,v-d),A=h.getX(u,-d),P=h.getY(u,-d),l.batchQuad(r,m,T,S,E,C,w,A,P,0,0,1,1,y,y,y,y,2)),s.pipelines.postBatch(r)}};c.exports=o},16933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(60561),o=t(17803),s=new a({Extends:o,Mixins:[p],initialize:function(e,n,l,i,h,f,d,u,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),f===void 0&&(f=!1),d===void 0&&(d=15658734),u===void 0&&(u=10066329),v===void 0&&(v=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=u,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},79590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,f=i/2,d=i/r.projection,u=r.isReversed;r.showTop&&u&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-d-h),l.lineTo(f,-h),l.lineTo(0,d-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),u?(l.moveTo(-f,-h),l.lineTo(0,d),l.lineTo(0,d-h)):(l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-h)),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),u?(l.moveTo(f,-h),l.lineTo(0,d),l.lineTo(0,d-h)):(l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-h)),l.fill()),l.restore()}};c.exports=o},49803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(16933);a.register("isotriangle",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},60561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(51503),o=t(79590),c.exports={renderWebGL:p,renderCanvas:o}},51503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),f=r.width,d=r.height,u=f/2,v=f/r.projection,g=r.isReversed,y=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var m,T,S,E,C,w,A;if(r.showTop&&g){m=p.getTintAppendFloatAlpha(r.fillTop,y),T=h.getX(-u,-d),S=h.getY(-u,-d),E=h.getX(0,-v-d),C=h.getY(0,-v-d),w=h.getX(u,-d),A=h.getY(u,-d);var P=h.getX(0,v-d),M=h.getY(0,v-d);l.batchQuad(r,T,S,E,C,w,A,P,M,0,0,1,1,m,m,m,m,2)}r.showLeft&&(m=p.getTintAppendFloatAlpha(r.fillLeft,y),g?(T=h.getX(-u,-d),S=h.getY(-u,-d),E=h.getX(0,v),C=h.getY(0,v),w=h.getX(0,v-d),A=h.getY(0,v-d)):(T=h.getX(-u,0),S=h.getY(-u,0),E=h.getX(0,v),C=h.getY(0,v),w=h.getX(0,v-d),A=h.getY(0,v-d)),l.batchTri(r,T,S,E,C,w,A,0,0,1,1,m,m,m,2)),r.showRight&&(m=p.getTintAppendFloatAlpha(r.fillRight,y),g?(T=h.getX(u,-d),S=h.getY(u,-d),E=h.getX(0,v),C=h.getY(0,v),w=h.getX(0,v-d),A=h.getY(0,v-d)):(T=h.getX(u,0),S=h.getY(u,0),E=h.getX(0,v),C=h.getY(0,v),w=h.getX(0,v-d),A=h.getY(0,v-d)),l.batchTri(r,T,S,E,C,w,A,0,0,1,1,m,m,m,2)),s.pipelines.postBatch(r)}};c.exports=o},57847:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(23031),s=t(36823),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,f,d,u,v,g){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=128),u===void 0&&(u=0),p.call(this,n,"Line",new o(h,f,d,u));var y=Math.max(1,this.geom.right-this.geom.left),m=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,i),this.setSize(y,m),v!==void 0&&this.setStrokeStyle(1,v,g),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,i){return this.geom.setTo(e,n,l,i),this}});c.exports=r},17440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75177),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)){var i=r._displayOriginX,h=r._displayOriginY;r.isStroked&&(a(l,r),l.beginPath(),l.moveTo(r.geom.x1-i,r.geom.y1-h),l.lineTo(r.geom.x2-i,r.geom.y2-h),l.stroke()),l.restore()}};c.exports=o},2481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(57847);a.register("line",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},36823:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(77385),o=t(17440),c.exports={renderWebGL:p,renderCanvas:o}},77385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n);l.calcMatrix.copyFrom(i.calc);var h=r._displayOriginX,f=r._displayOriginY,d=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var u=l.strokeTint,v=p.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*d);u.TL=v,u.TR=v,u.BL=v,u.BR=v,l.batchLine(r.geom.x1-h,r.geom.y1-f,r.geom.x2-h,r.geom.y2-f,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};c.exports=o},24949:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90273),p=t(83419),o=t(94811),s=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new p({Extends:e,Mixins:[a],initialize:function(h,f,d,u,v,g){f===void 0&&(f=0),d===void 0&&(d=0),e.call(this,h,"Polygon",new r(u));var y=s(this.geom);this.setPosition(f,d),this.setSize(y.width,y.height),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=s(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,f=0;f<h.length;f++)i.push(h[f].x,h[f].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=l},38710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,d=e.pathData,u=d.length-1,v=d[0]-h,g=d[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(u-=2);for(var y=2;y<u;y+=2){var m=d[y]-h,T=d[y+1]-f;i.lineTo(m,T)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},64827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(24949);a.register("polygon",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},90273:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(73695),o=t(38710),c.exports={renderWebGL:p,renderCanvas:o}},73695:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,u=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,d,u),e.isStroked&&o(i,e,v,d,u),r.pipelines.postBatch(e)};c.exports=s},74561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94811),o=t(87841),s=t(17803),r=t(95597),e=new a({Extends:s,Mixins:[r],initialize:function(l,i,h,f,d,u,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),d===void 0&&(d=128),s.call(this,l,"Rectangle",new o(0,0,f,d)),this.radius=20,this.isRounded=!1,this.setPosition(i,h),this.setSize(f,d),u!==void 0&&this.setFillStyle(u,v),this.updateDisplayOrigin(),this.updateData()},setRounded:function(n){return n===void 0&&(n=16),this.radius=n,this.isRounded=n>0,this.updateRoundedData()},setSize:function(n,l){this.width=n,this.height=l,this.geom.setSize(n,l),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=n,i.hitArea.height=l),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var n=[],l=this.geom,i=this._tempLine;return l.getLineA(i),n.push(i.x1,i.y1,i.x2,i.y2),l.getLineB(i),n.push(i.x2,i.y2),l.getLineC(i),n.push(i.x2,i.y2),l.getLineD(i),n.push(i.x2,i.y2),this.pathData=n,this},updateRoundedData:function(){var n=[],l=this.width/2,i=this.height/2,h=Math.min(l,i),f=Math.min(this.radius,h),d=l,u=i,v=Math.max(1,Math.floor(f/5));return this.arcTo(n,d-l+f,u-i+f,f,Math.PI,Math.PI*1.5,v),n.push(d+l-f,u-i),this.arcTo(n,d+l-f,u-i+f,f,Math.PI*1.5,Math.PI*2,v),n.push(d+l,u+i-f),this.arcTo(n,d+l-f,u+i-f,f,0,Math.PI*.5,v),n.push(d-l+f,u+i),this.arcTo(n,d-l+f,u+i-f,f,Math.PI*.5,Math.PI,v),n.push(d-l,u-i+f),this.pathIndexes=p(n),this.pathData=n,this},arcTo:function(n,l,i,h,f,d,u){for(var v=(d-f)/u,g=0;g<=u;g++){var y=f+v*g;n.push(l+Math.cos(y)*h,i+Math.sin(y)*h)}}});c.exports=e},48682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(e,n,l,i,h,f){var d=Math.min(i/2,h/2),u=Math.min(f,d);if(u===0){e.rect(n,l,i,h);return}e.moveTo(n+u,l),e.lineTo(n+i-u,l),e.arcTo(n+i,l,n+i,l+u,u),e.lineTo(n+i,l+h-u),e.arcTo(n+i,l+h,n+i-u,l+h,u),e.lineTo(n+u,l+h),e.arcTo(n,l+h,n,l+h-u,u),e.lineTo(n,l+u),e.arcTo(n,l,n+u,l,u),e.closePath()},r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(o(e,h,n,l,i)){var f=n._displayOriginX,d=n._displayOriginY;n.isFilled&&(a(h,n),n.isRounded?(h.beginPath(),s(h,-f,-d,n.width,n.height,n.radius),h.fill()):h.fillRect(-f,-d,n.width,n.height)),n.isStroked&&(p(h,n),h.beginPath(),n.isRounded?s(h,-f,-d,n.width,n.height,n.radius):h.rect(-f,-d,n.width,n.height),h.stroke()),h.restore()}};c.exports=r},87959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(74561);a.register("rectangle",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},95597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(52059),o=t(48682),c.exports={renderWebGL:p,renderCanvas:o}},52059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=t(70554),r=function(e,n,l,i){l.addToRenderList(n);var h=e.pipelines.set(n.pipeline),f=p(n,l,i);h.calcMatrix.copyFrom(f.calc);var d=n._displayOriginX,u=n._displayOriginY,v=l.alpha*n.alpha;if(e.pipelines.preBatch(n),n.isRounded&&n.isFilled)a(h,f.calc,n,v,d,u);else if(n.isFilled){var g=h.fillTint,y=s.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y,h.batchFillRect(-d,-u,n.width,n.height)}n.isStroked&&o(h,n,v,d,u),e.pipelines.postBatch(n)};c.exports=r},55911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81991),p=t(83419),o=t(94811),s=t(17803),r=new p({Extends:s,Mixins:[a],initialize:function(n,l,i,h,f,d,u,v){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=5),f===void 0&&(f=32),d===void 0&&(d=64),s.call(this,n,"Star",null),this._points=h,this._innerRadius=f,this._outerRadius=d,this.setPosition(l,i),this.setSize(d*2,d*2),u!==void 0&&this.setFillStyle(u,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,f=Math.PI/n,d=i,u=i;e.push(d,u+-i);for(var v=0;v<n;v++)e.push(d+Math.cos(h)*i,u+Math.sin(h)*i),h+=f,e.push(d+Math.cos(h)*l,u+Math.sin(h)*l),h+=f;return e.push(d,u+-i),this.pathIndexes=o(e),this.pathData=e,this}});c.exports=r},64272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,d=e.pathData,u=d.length-1,v=d[0]-h,g=d[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(u-=2);for(var y=2;y<u;y+=2){var m=d[y]-h,T=d[y+1]-f;i.lineTo(m,T)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},93697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55911),p=t(39429);p.register("star",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},81991:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(57017),o=t(64272),c.exports={renderWebGL:p,renderCanvas:o}},57017:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,u=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,d,u),e.isStroked&&o(i,e,v,d,u),r.pipelines.postBatch(e)};c.exports=s},36931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(16483),s=t(96195),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,f,d,u,v,g,y,m){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),d===void 0&&(d=64),u===void 0&&(u=0),v===void 0&&(v=128),g===void 0&&(g=128),p.call(this,n,"Triangle",new o(h,f,d,u,v,g));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(l,i),this.setSize(T,S),y!==void 0&&this.setFillStyle(y,m),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,i,h,f){return this.geom.setTo(e,n,l,i,h,f),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},85172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,d=e.geom.x1-h,u=e.geom.y1-f,v=e.geom.x2-h,g=e.geom.y2-f,y=e.geom.x3-h,m=e.geom.y3-f;i.beginPath(),i.moveTo(d,u),i.lineTo(v,g),i.lineTo(y,m),i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},45245:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(36931);a.register("triangle",function(o,s,r,e,n,l,i,h,f,d){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,f,d))})},96195:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(83253),o=t(85172),c.exports={renderWebGL:p,renderCanvas:o}},83253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,d=e._displayOriginY,u=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,g=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*u);v.TL=g,v.TR=g,v.BL=g,v.BR=g;var y=e.geom.x1-f,m=e.geom.y1-d,T=e.geom.x2-f,S=e.geom.y2-d,E=e.geom.x3-f,C=e.geom.y3-d;i.batchFillTriangle(y,m,T,S,E,C,h.sprite,h.camera)}e.isStroked&&p(i,e,u,f,d),r.pipelines.postBatch(e)};c.exports=s},68287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(92751),e=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,i,h,f,d){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(f,d),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},15567:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(68287);o.register("sprite",function(e,n){e===void 0&&(e={});var l=s(e,"key",null),i=s(e,"frame",null),h=new r(this.scene,0,0,l,i);return n!==void 0&&(e.add=n),a(this.scene,h,e),p(h,e),h})},46409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(68287);a.register("sprite",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},92751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(9409),o=t(76552),c.exports={renderWebGL:p,renderCanvas:o}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),a.pipeline.batchSprite(a,p,o)};c.exports=x},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.canvas,s=t.context,r=t.style,e=[],n=0,l=p.length;r.maxLines>0&&r.maxLines<p.length&&(l=r.maxLines),r.syncFont(o,s);for(var i=t.letterSpacing,h=0;h<l;h++){var f=r.strokeThickness;if(i===0)f+=s.measureText(p[h]).width;else{for(var d=p[h],u=0;u<d.length;u++)f+=s.measureText(d[u]).width;d.length>1&&(f+=i*(d.length-1))}r.wordWrap&&(f-=s.measureText(" ").width),e[h]=Math.ceil(f),n=Math.max(n,e[h])}var v=a.fontSize+r.strokeThickness,g=v*l,y=t.lineSpacing;return l>1&&(g+=y*(l-1)),{width:n,height:g,lines:l,lineWidths:e,lineSpacing:y,lineHeight:v}};c.exports=x},79557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=function(o){var s=a.create(this),r=s.getContext("2d",{willReadFrequently:!0});o.syncFont(s,r);var e=r.measureText(o.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return a.remove(s),{ascent:n,descent:l,fontSize:n+l}}var i=Math.ceil(e.width*o.baselineX),h=i,f=2*h;h=h*o.baselineY|0,s.width=i,s.height=f,r.fillStyle="#f00",r.fillRect(0,0,i,f),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,h);var d={ascent:0,descent:0,fontSize:0},u=r.getImageData(0,0,i,f);if(!u)return d.ascent=h,d.descent=h+6,d.fontSize=d.ascent+d.descent,a.remove(s),d;var v=u.data,g=v.length,y=i*4,m,T,S=0,E=!1;for(m=0;m<h;m++){for(T=0;T<y;T+=4)if(v[S+T]!==255){E=!0;break}if(!E)S+=y;else break}for(d.ascent=h-m,S=g-y,E=!1,m=f;m>h;m--){for(T=0;T<y;T+=4)if(v[S+T]!==255){E=!0;break}if(!E)S-=y;else break}return d.descent=m-h,d.fontSize=d.ascent+d.descent,a.remove(s),d};c.exports=p},50171:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=t(27919),o=t(83419),s=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),i=t(61771),h=t(35762),f=t(45650),d=new o({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(v,g,y,m,T){g===void 0&&(g=0),y===void 0&&(y=0),r.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(g,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new h(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(m),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing),T&&T.letterSpacing&&this.setLetterSpacing(T.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(u){var v=this.style;if(v.wordWrapCallback){var g=v.wordWrapCallback.call(v.wordWrapCallbackScope,u,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return v.wordWrapWidth?v.wordWrapUseAdvanced?this.advancedWordWrap(u,this.context,this.style.wordWrapWidth):this.basicWordWrap(u,this.context,this.style.wordWrapWidth):u},advancedWordWrap:function(u,v,g){for(var y="",m=u.replace(/ +/gi," ").split(this.splitRegExp),T=m.length,S=0;S<T;S++){var E=m[S],C="";E=E.replace(/^ *|\s*$/gi,"");var w=E.length*this.letterSpacing,A=v.measureText(E).width+w;if(A<g){y+=E+`
`;continue}for(var P=g,M=E.split(" "),R=0;R<M.length;R++){var I=M[R],D=I+" ",Y=D.length*this.letterSpacing,B=v.measureText(D).width+Y;if(B>P){if(R===0){for(var O=D;O.length;){O=O.slice(0,-1);var N=O.length*this.letterSpacing;if(B=v.measureText(O).width+N,B<=P)break}if(!O.length)throw new Error("wordWrapWidth < a single character");var L=I.substr(O.length);M[R]=L,C+=O}var W=M[R].length?R:R+1,F=M.slice(W).join(" ").replace(/[ \n]*$/gi,"");m.splice(S+1,0,F),T=m.length;break}else C+=D,P-=B}y+=C.replace(/[ \n]*$/gi,"")+`
`}return y=y.replace(/[\s|\n]*$/gi,""),y},basicWordWrap:function(u,v,g){for(var y="",m=u.split(this.splitRegExp),T=m.length-1,S=v.measureText(" ").width,E=0;E<=T;E++){for(var C=g,w=m[E].split(" "),A=w.length-1,P=0;P<=A;P++){var M=w[P],R=M.length*this.letterSpacing,I=v.measureText(M).width+R,D=I;P<A&&(D+=S),D>C&&P>0&&(y+=`
`,C=g),y+=M,P<A?(y+=" ",C-=D):C-=I}E<T&&(y+=`
`)}return y},getWrappedText:function(u){u===void 0&&(u=this._text),this.style.syncFont(this.canvas,this.context);var v=this.runWordWrap(u);return v.split(this.splitRegExp)},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this._text&&(this._text=u.toString(),this.updateText()),this},appendText:function(u,v){v===void 0&&(v=!0),!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u=u.toString();var g=this._text.concat(v?`
`+u:u);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(u){return this.style.setStyle(u)},setFont:function(u){return this.style.setFont(u)},setFontFamily:function(u){return this.style.setFontFamily(u)},setFontSize:function(u){return this.style.setFontSize(u)},setFontStyle:function(u){return this.style.setFontStyle(u)},setFixedSize:function(u,v){return this.style.setFixedSize(u,v)},setBackgroundColor:function(u){return this.style.setBackgroundColor(u)},setFill:function(u){return this.style.setFill(u)},setColor:function(u){return this.style.setColor(u)},setStroke:function(u,v){return this.style.setStroke(u,v)},setShadow:function(u,v,g,y,m,T){return this.style.setShadow(u,v,g,y,m,T)},setShadowOffset:function(u,v){return this.style.setShadowOffset(u,v)},setShadowColor:function(u){return this.style.setShadowColor(u)},setShadowBlur:function(u){return this.style.setShadowBlur(u)},setShadowStroke:function(u){return this.style.setShadowStroke(u)},setShadowFill:function(u){return this.style.setShadowFill(u)},setWordWrapWidth:function(u,v){return this.style.setWordWrapWidth(u,v)},setWordWrapCallback:function(u,v){return this.style.setWordWrapCallback(u,v)},setAlign:function(u){return this.style.setAlign(u)},setResolution:function(u){return this.style.setResolution(u)},setLineSpacing:function(u){return this.lineSpacing=u,this.updateText()},setLetterSpacing:function(u){return this.letterSpacing=u,this.updateText()},setPadding:function(u,v,g,y){if(typeof u=="object"){var m=u,T=n(m,"x",null);T!==null?(u=T,g=T):(u=n(m,"left",0),g=n(m,"right",u));var S=n(m,"y",null);S!==null?(v=S,y=S):(v=n(m,"top",0),y=n(m,"bottom",v))}else u===void 0&&(u=0),v===void 0&&(v=u),g===void 0&&(g=u),y===void 0&&(y=v);return this.padding.left=u,this.padding.top=v,this.padding.right=g,this.padding.bottom=y,this.updateText()},setMaxLines:function(u){return this.style.setMaxLines(u)},setRTL:function(u){u===void 0&&(u=!0);var v=this.style;return v.rtl===u?this:(v.rtl=u,u?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),v.align==="left"?v.align="right":v.align==="right"&&(v.align="left"),this)},updateText:function(){var u=this.canvas,v=this.context,g=this.style,y=g.resolution,m=g.metrics;g.syncFont(u,v);var T=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(T=this.runWordWrap(this._text));var S=T.split(this.splitRegExp),E=e(this,m,S),C=this.padding,w;g.fixedWidth===0?(this.width=E.width+C.left+C.right,w=E.width):(this.width=g.fixedWidth,w=this.width-C.left-C.right,w<E.width&&(w=E.width)),g.fixedHeight===0?this.height=E.height+C.top+C.bottom:this.height=g.fixedHeight;var A=this.width,P=this.height;this.updateDisplayOrigin(),A*=y,P*=y,A=Math.max(A,1),P=Math.max(P,1),u.width!==A||u.height!==P?(u.width=A,u.height=P,this.frame.setSize(A,P),g.syncFont(u,v),g.rtl&&(v.direction="rtl")):v.clearRect(0,0,A,P),v.save(),v.scale(y,y),g.backgroundColor&&(v.fillStyle=g.backgroundColor,v.fillRect(0,0,A,P)),g.syncStyle(u,v),v.translate(C.left,C.top);for(var M,R,I=0;I<E.lines;I++){if(M=g.strokeThickness/2,R=g.strokeThickness/2+I*E.lineHeight+m.ascent,I>0&&(R+=E.lineSpacing*I),g.rtl)M=A-M-C.left-C.right;else if(g.align==="right")M+=w-E.lineWidths[I];else if(g.align==="center")M+=(w-E.lineWidths[I])/2;else if(g.align==="justify"){var D=.85;if(E.lineWidths[I]/E.width>=D){var Y=E.width-E.lineWidths[I],B=v.measureText(" ").width,O=S[I].trim(),N=O.split(" ");Y+=(S[I].length-O.length)*B;for(var L=Math.floor(Y/B),W=0;L>0;)N[W]+=" ",W=(W+1)%(N.length-1||1),--L;S[I]=N.join(" ")}}this.autoRound&&(M=Math.round(M),R=Math.round(R));var F=this.letterSpacing;if(g.strokeThickness&&F===0&&(g.syncShadow(v,g.shadowStroke),v.strokeText(S[I],M,R)),g.color)if(g.syncShadow(v,g.shadowFill),F!==0)for(var U=0,Z=S[I].split(""),J=0;J<Z.length;J++)g.strokeThickness&&(g.syncShadow(v,g.shadowStroke),v.strokeText(Z[J],M+U,R),g.syncShadow(v,g.shadowFill)),v.fillText(Z[J],M+U,R),U+=v.measureText(Z[J]).width+F;else v.fillText(S[I],M,R)}v.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(u){this.setText(u)}},toJSON:function(){var u=s.ToJSON(this),v={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return u.data=v,u},preDestroy:function(){l(this.canvas),p.remove(this.canvas);var u=this.texture;u&&u.destroy()}});c.exports=d},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.width===0||a.height===0||(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};c.exports=x},71259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(50171);p.register("text",function(r,e){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),i=o(r,"padding",null);i!==null&&(l.padding=i);var h=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,h,r),h.autoRound=o(r,"autoRound",!0),h.resolution=o(r,"resolution",1),h})},68005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50171),p=t(39429);p.register("text",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},61771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(34397),o=t(79724),c.exports={renderWebGL:p,renderCanvas:o}},35762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23568),o=t(35154),s=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new a({initialize:function(l,i){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,l,i){l===void 0&&(l=!0),i===void 0&&(i=!1);for(var h in r){var f=i?r[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=o(n,r[h][0],f):n&&h==="fontSize"&&typeof n.fontSize=="number"?this[h]=n.fontSize.toString()+"px":this[h]=p(n,r[h][0],f)}var d=o(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=o(n,"fill",null);u!==null&&(this.color=u);var v=o(n,"metrics",!1);return v?this.metrics={ascent:o(v,"ascent",0),descent:o(v,"descent",0),fontSize:o(v,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var i=n,h="",f="";if(typeof n!="string")i=o(n,"fontFamily","Courier"),h=o(n,"fontSize","16px"),f=o(n,"fontStyle","");else{var d=n.split(" "),u=0;f=d.length>2?d[u++]:"",h=d[u++]||"16px",i=d[u++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,i,h,f,d){return n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i="#000"),h===void 0&&(h=0),f===void 0&&(f=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=f,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,l=n.width,i=n.height,h=a.getTintAppendFloatAlpha,f=o.pipelines.set(s.pipeline,s),d=f.setTexture2D(n.glTexture,s);f.batchTexture(s,n.glTexture,l,i,s.x,s.y,l/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,i,h(s.tintTopLeft,r.alpha*s._alphaTL),h(s.tintTopRight,r.alpha*s._alphaTR),h(s.tintBottomLeft,r.alpha*s._alphaBL),h(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,d)}};c.exports=p},20839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(83419),o=t(31401),s=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),i=t(26099),h=8,f=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(u,v,g,y,m,T,S){var E=u.sys.renderer;s.call(this,u,"TileSprite");var C=u.sys.textures.get(T),w=C.get(S);w.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),C=u.sys.textures.get("__MISSING"),w=C.get()),C.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),C=u.sys.textures.get("__MISSING"),w=C.get()),!y||!m?(y=y||w.width,m=m||w.height):(y=Math.floor(y),m=Math.floor(m)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=E,this.canvas=a.create(this,y,m),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=C,this.displayFrame=w,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=u.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(w.width),this.potHeight=r(w.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(v,g),this.setSize(y,m),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,u){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(u)},setFrame:function(d){var u=this.displayTexture.get(d);return this.potWidth=r(u.width),this.potHeight=r(u.height),this.canvas.width=0,!u.cutWidth||!u.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=u,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,u){return d!==void 0&&(this.tilePositionX=d),u!==void 0&&(this.tilePositionY=u),this},setTileScale:function(d,u){return d===void 0&&(d=this.tileScaleX),u===void 0&&(u=d),this.tileScaleX=d,this.tileScaleY=u,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var u=this.fillContext,v=this.fillCanvas,g=this.potWidth,y=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=d.cutWidth,y=d.cutHeight),u.clearRect(0,0,g,y),v.width=g,v.height=y,u.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,g,y),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=u.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var u=this.context;this.scene.sys.game.config.antialias||e.disable(u);var v=this._tileScale.x,g=this._tileScale.y,y=this._tilePosition.x,m=this._tilePosition.y;u.clearRect(0,0,this.width,this.height),u.save(),u.scale(v,g),u.translate(-y,-m),u.fillStyle=this.fillPattern,u.fillRect(y,m,this.width/v,this.height/g),u.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.updateCanvas(),p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},14167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(20839);p.register("tileSprite",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",512),h=o(r,"height",512),f=o(r,"key",""),d=o(r,"frame",""),u=new s(this.scene,n,l,i,h,f,d);return e!==void 0&&(r.add=e),a(this.scene,u,r),u})},91681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20839),p=t(39429);p.register("tileSprite",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},56295:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(18553),o=t(46992),c.exports={renderWebGL:p,renderCanvas:o}},18553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e){s.updateCanvas();var n=s.width,l=s.height;if(!(n===0||l===0)){r.addToRenderList(s);var i=a.getTintAppendFloatAlpha,h=o.pipelines.set(s.pipeline,s),f=h.setTexture2D(s.fillPattern,s);h.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*l,0,0,n,l,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,f)}};c.exports=p},18471:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(31401),s=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),i=t(45650),h=t(10247),f=new p({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,h],initialize:function(u,v,g,y){e.call(this,u,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var m=u.sys.game;this._device=m.device.video,this.setPosition(v,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),m.events.on(r.PAUSE,this.globalPause,this),m.events.on(r.RESUME,this.globalResume,this);var T=u.sys.sound;T&&T.on(l.GLOBAL_MUTE,this.globalMute,this),y&&this.load(y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var u=this.scene.sys.cache.video.get(d);return u?(this.cacheKey=d,this.loadHandler(u.url,u.noAudio,u.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,u,v,g,y){u===void 0&&(u=!0),v===void 0&&(v=!1),this.cacheKey!==d&&(this.load(d),u&&this.play(v,g,y))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,u,v){u===void 0&&(u=!1);var g=this._device.getVideoURL(d);return g?(this.cacheKey="",this.loadHandler(g.url,u,v)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,u,v){return this.loadHandler(null,u,v,d)},loadHandler:function(d,u,v,g){u||(u=!1);var y=this.video;if(y?(this.removeLoadEventHandlers(),this.stop()):(y=document.createElement("video"),y.controls=!1,y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.setAttribute("disablePictureInPicture","true")),u?(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")):(y.muted=!1,y.defaultMuted=!1,y.removeAttribute("autoplay")),v?y.setAttribute("crossorigin",v):y.removeAttribute("crossorigin"),g)if("srcObject"in y)try{y.srcObject=g}catch(T){if(T.name!=="TypeError")throw T;y.src=URL.createObjectURL(g)}else y.src=URL.createObjectURL(g);else y.src=d;this.retry=0,this.video=y,this._playCalled=!1,y.load(),this.addLoadEventHandlers();var m=this.scene.sys.textures.get(this._key);return this.setTexture(m),this},requestVideoFrame:function(d,u){var v=this.video;if(v){var g=u.width,y=u.height,m=this.videoTexture,T=this.videoTextureSource,S=!m||T.source!==v;S?(this._codePaused=v.paused,this._codeMuted=v.muted,m?(T.source=v,T.width=g,T.height=y,m.get().setSize(g,y)):(m=this.scene.sys.textures.create(this._key,v,g,y),m.add("__BASE",0,0,0,g,y),this.setTexture(m),this.videoTexture=m,this.videoTextureSource=m.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,m)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=u;var E=u.mediaTime;S&&(this._lastUpdate=E,this.emit(s.VIDEO_CREATED,this,g,y),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=E,this._getFrame?(this.removeEventHandlers(),v.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,u,v){u===void 0&&(u=-1),v===void 0&&(v=n.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(d===void 0&&(d=g.loop),g.loop=d,this._markerIn=u,this._markerOut=v,this._playingMarker=u>-1&&v>u&&v<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var u=this._callbacks;for(var v in u)d.addEventListener(v,u[v])}},removeEventHandlers:function(){var d=this.video;if(d){var u=this._callbacks;for(var v in u)d.removeEventListener(v,u[v])}},createPlayPromise:function(d){d===void 0&&(d=!0);var u=this.video,v=u.play();if(v!==void 0){var g=this.playSuccess.bind(this),y=this.playError.bind(this);if(!d){var m=this;y=function(){m.failedPlayAttempts++}}v.then(g).catch(y)}else u.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,u,v){return!isNaN(u)&&u>=0&&!isNaN(v)&&v>u&&(this.markers[d]=[u,v]),this},playMarker:function(d,u){var v=this.markers[d];return v&&this.play(u,v[0],v[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,u){return d===void 0&&(d=this.width),u===void 0&&(u=this.height),this.snapshotArea(0,0,this.width,this.height,d,u)},snapshotArea:function(d,u,v,g,y,m){d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=this.width),g===void 0&&(g=this.height),y===void 0&&(y=v),m===void 0&&(m=g);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(y,m),T&&S.context.drawImage(T,d,u,v,g,0,0,y,m)):(S=this.scene.sys.textures.createCanvas(i(),y,m),this.snapshotTexture=S,T&&S.context.drawImage(T,d,u,v,g,0,0,y,m)),S.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var u=d.name;u==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):u==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(s.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(s.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(d,u){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=u,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var u=this.video;if(u){var v=u.duration;if(v!==1/0&&!isNaN(v)){var g=v*d;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var u=this.video;if(u){if(typeof d=="string"){var v=d[0],g=parseFloat(d.substr(1));v==="+"?d=u.currentTime+g:v==="-"&&(d=u.currentTime-g)}u.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var u=d.duration;if(u!==1/0&&!isNaN(u))return d.currentTime/u}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var u=this.video;return u&&(u.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,u){this._systemMuted=u;var v=this.video;v&&(v.muted=this._codeMuted?!0:u)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var u=this.video;return this._codePaused=d,u&&!u.ended&&(d?u.paused||(this.removeEventHandlers(),u.pause()):d||(this._playCalled?u.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=a(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,u){return u===void 0&&(u=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(u)),this._key=d,this.flipY=u,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var u=this.video;return u&&(this.removeEventHandlers(),u.cancelVideoFrameCallback(this._rfvCallbackId),u.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(r.PAUSE,this.globalPause,this),d.off(r.RESUME,this.globalResume,this);var u=this.scene.sys.sound;u&&u.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};c.exports=x},11511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(18471);p.register("video",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=new s(this.scene,0,0,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},89025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18471),p=t(39429);p.register("video",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},10247:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(29849),o=t(58352),c.exports={renderWebGL:p,renderCanvas:o}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),a.pipeline.batchSprite(a,p,o))};c.exports=x},41481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(96503),o=t(87902),s=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),i=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,d,u,v,g){v===void 0&&(v=1),g===void 0&&(g=v),e.call(this,f,"Zone"),this.setPosition(d,u),this.width=v,this.height=g,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,f,d){d===void 0&&(d=!0),this.width=h,this.height=f,this.updateDisplayOrigin();var u=this.input;return d&&u&&!u.customHitArea&&(u.hitArea.width=h,u.hitArea.height=f),this},setDisplaySize:function(h,f){return this.displayWidth=h,this.displayHeight=f,this},setCircleDropZone:function(h){return this.setDropZone(new p(0,0,h),o)},setRectangleDropZone:function(h,f){return this.setDropZone(new n(0,0,h,f),l)},setDropZone:function(h,f){return this.input||this.setInteractive(h,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,f,d){d.addToRenderList(f)},renderWebGL:function(h,f,d){d.addToRenderList(f)}});c.exports=i},95261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(23568),o=t(41481);a.register("zone",function(s){var r=p(s,"x",0),e=p(s,"y",0),n=p(s,"width",1),l=p(s,"height",n);return new o(this.scene,r,e,n,l)})},84175:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41481),p=t(39429);p.register("zone",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=x},96503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(87902),o=t(26241),s=t(79124),r=t(23777),e=t(28176),n=new a({initialize:function(i,h,f){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=i,this.y=h,this._radius=f,this._diameter=f*2},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h){return this.x=l,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=n},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(Math.PI*t.radius)};c.exports=x},92110:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x+o.radius*Math.cos(s),r.y=o.y+o.radius*Math.sin(s),r};c.exports=p},42250:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=function(o){return new a(o.x,o.y,o.radius)};c.exports=p},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(t.radius>0&&a>=t.left&&a<=t.right&&p>=t.top&&p<=t.bottom){var o=(t.x-a)*(t.x-a),s=(t.y-p)*(t.y-p);return o+s<=t.radius*t.radius}else return!1};c.exports=x},5698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},70588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=p},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.radius)};c.exports=x},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};c.exports=x},2074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.diameter,s.height=o.diameter,s};c.exports=p},26241:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92110),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};c.exports=r},79124:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71562),p=t(92110),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var f=o(h/n,0,s.PI2);i.push(p(e,f))}return i};c.exports=r},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},28176:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),i=n*Math.sin(r);return s.x=o.x+l*o.radius,s.y=o.y+i*o.radius,s};c.exports=p},88911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),c.exports=a},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=x},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=x},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.width/2,p=t.height/2,o=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*o/(10+Math.sqrt(4-3*o)))};c.exports=x},79522:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.width/2,n=o.height/2;return r.x=o.x+e*Math.cos(s),r.y=o.y+n*Math.sin(s),r};c.exports=p},58102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497),p=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=p},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(t.width<=0||t.height<=0)return!1;var o=(a-t.x)/t.width,s=(p-t.y)/t.height;return o*=o,s*=s,o+s<.25};c.exports=x},46662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},1632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=p},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},8497:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(81154),o=t(90549),s=t(48320),r=t(23777),e=t(24820),n=new a({initialize:function(i,h,f,d){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=r.ELLIPSE,this.x=i,this.y=h,this.width=f,this.height=d},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h,f){return this.x=l,this.y=i,this.width=h,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},setSize:function(l,i){return i===void 0&&(i=l),this.width=l,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=n},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},23694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.width,s.height=o.height,s};c.exports=p},90549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79522),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};c.exports=r},48320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92990),p=t(79522),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var f=o(h/n,0,s.PI2);i.push(p(e,f))}return i};c.exports=r},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},24820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=o.x+e*Math.cos(r)*o.width/2,s.y=o.y+e*Math.sin(r)*o.height/2,s};c.exports=p},49203:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),c.exports=a},55738:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23777),p=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=p(!1,o,a),c.exports=o},2044:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20339),p=function(o,s){return a(o.x,o.y,s.x,s.y)<=o.radius+s.radius};c.exports=p},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=a.width/2,o=a.height/2,s=Math.abs(t.x-a.x-p),r=Math.abs(t.y-a.y-o),e=p+t.radius,n=o+t.radius;if(s>e||r>n)return!1;if(s<=p||r<=o)return!0;var l=s-p,i=r-o,h=l*l,f=i*i,d=t.radius*t.radius;return h+f<=d};c.exports=x},63376:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(2044),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x,l=s.y,i=s.radius,h=r.x,f=r.y,d=r.radius,u,v,g,y,m;if(l===f)m=(d*d-i*i-h*h+n*n)/(2*(n-h)),u=1,v=-2*f,g=h*h+m*m-2*h*m+f*f-d*d,y=v*v-4*u*g,y===0?e.push(new a(m,-v/(2*u))):y>0&&(e.push(new a(m,(-v+Math.sqrt(y))/(2*u))),e.push(new a(m,(-v-Math.sqrt(y))/(2*u))));else{var T=(n-h)/(l-f),S=(d*d-i*i-h*h+n*n-f*f+l*l)/(2*(l-f));u=T*T+1,v=2*l*T-2*S*T-2*n,g=n*n+l*l+S*S-i*i-2*l*S,y=v*v-4*u*g,y===0?(m=-v/(2*u),e.push(new a(m,S-m*T))):y>0&&(m=(-v+Math.sqrt(y))/(2*u),e.push(new a(m,S-m*T)),m=(-v-Math.sqrt(y))/(2*u),e.push(new a(m,S-m*T)))}}return e};c.exports=o},97439:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),p=t(81491),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=r.getLineD();a(n,s,e),a(l,s,e),a(i,s,e),a(h,s,e)}return e};c.exports=o},4042:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(80462),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x1,l=s.y1,i=s.x2,h=s.y2,f=r.x,d=r.y,u=r.radius,v=i-n,g=h-l,y=n-f,m=l-d,T=v*v+g*g,S=2*(v*y+g*m),E=y*y+m*m-u*u,C=S*S-4*T*E,w,A;if(C===0){var P=-S/(2*T);w=n+P*v,A=l+P*g,P>=0&&P<=1&&e.push(new a(w,A))}else if(C>0){var M=(-S-Math.sqrt(C))/(2*T);w=n+M*v,A=l+M*g,M>=0&&M<=1&&e.push(new a(w,A));var R=(-S+Math.sqrt(C))/(2*T);w=n+R*v,A=l+R*g,R>=0&&R<=1&&e.push(new a(w,A))}}return e};c.exports=o},36100:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=function(o,s,r,e){r===void 0&&(r=!1);var n=o.x1,l=o.y1,i=o.x2,h=o.y2,f=s.x1,d=s.y1,u=s.x2,v=s.y2,g=i-n,y=h-l,m=u-f,T=v-d,S=g*T-y*m;if(S===0)return null;var E,C,w;if(r){if(E=(g*(d-l)+y*(n-f))/(m*y-T*g),g!==0)C=(f+m*E-n)/g;else if(y!==0)C=(d+T*E-l)/y;else return null;if(C<0||E<0||E>1)return null;w=C}else{if(E=((f-n)*T-(d-l)*m)/S,C=((l-d)*g-(n-f)*y)/S,E<0||E>1||C<0||C>1)return null;w=E}return e===void 0&&(e=new a),e.set(n+g*w,l+y*w,w)};c.exports=p},3073:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36100),p=t(23031),o=t(25836),s=new p,r=new o,e=function(n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=new o);var f=!1;h.set(),r.set();for(var d=l[l.length-1],u=0;u<l.length;u++){var v=l[u];s.setTo(d.x,d.y,v.x,v.y),d=v,a(n,s,i,r)&&(!f||r.z<h.z)&&(h.copy(r),f=!0)}return f?h:null};c.exports=e},56362:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=t(61369),o=t(3073),s=new a,r=function(e,n,l,i){i===void 0&&(i=new p),Array.isArray(n)||(n=[n]);var h=!1;i.set(),s.set();for(var f=0;f<n.length;f++)o(e,n[f].points,l,s)&&(!h||s.z<i.z)&&(i.set(s.x,s.y,s.z,f),h=!0);return h?i:null};c.exports=r},60646:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(76112),o=t(92773),s=function(r,e,n){if(n===void 0&&(n=[]),o(r,e))for(var l=e.getLineA(),i=e.getLineB(),h=e.getLineC(),f=e.getLineD(),d=[new a,new a,new a,new a],u=[p(l,r,d[0]),p(i,r,d[1]),p(h,r,d[2]),p(f,r,d[3])],v=0;v<4;v++)u[v]&&n.push(d[v]);return n};c.exports=s},71147:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61369),p=t(56362),o=t(23031),s=new o;function r(l,i,h,f,d){var u=Math.cos(l),v=Math.sin(l);s.setTo(i,h,i+u,h+v);var g=p(s,f,!0);g&&d.push(new a(g.x,g.y,l,g.w))}function e(l,i){return l.z-i.z}var n=function(l,i,h){Array.isArray(h)||(h=[h]);for(var f=[],d=[],u=0;u<h.length;u++)for(var v=h[u].points,g=0;g<v.length;g++){var y=Math.atan2(v[g].y-i,v[g].x-l);d.indexOf(y)===-1&&(r(y,l,i,h,f),r(y-1e-5,l,i,h,f),r(y+1e-5,l,i,h,f),d.push(y))}return f.sort(e)};c.exports=n},68389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};c.exports=o},52784:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60646),p=t(59996),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC(),h=s.getLineD();a(n,r,e),a(l,r,e),a(i,r,e),a(h,r,e)}return e};c.exports=o},26341:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89265),p=t(60646),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(n,s,e),p(l,s,e),p(i,s,e)}return e};c.exports=o},38720:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),p=t(67636),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();a(n,r,e),a(l,r,e),a(i,r,e)}return e};c.exports=o},13882:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(2822),o=t(76112),s=function(r,e,n){if(n===void 0&&(n=[]),p(r,e))for(var l=r.getLineA(),i=r.getLineB(),h=r.getLineC(),f=[new a,new a,new a],d=[o(l,e,f[0]),o(i,e,f[1]),o(h,e,f[2])],u=0;u<3;u++)d[u]&&n.push(f[u]);return n};c.exports=s},75636:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82944),p=t(13882),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(s,n,e),p(s,l,e),p(s,i,e)}return e};c.exports=o},80462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=t(2141),o=new p,s=function(r,e,n){if(n===void 0&&(n=o),a(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(a(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,i=r.y2-r.y1,h=e.x-r.x1,f=e.y-r.y1,d=l*l+i*i,u=l,v=i;if(d>0){var g=(h*l+f*i)/d;u*=g,v*=g}n.x=r.x1+u,n.y=r.y1+v;var y=u*u+v*v;return y<=d&&u*l+v*i>=0&&a(e,n.x,n.y)};c.exports=s},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.x1,s=t.y1,r=t.x2,e=t.y2,n=a.x1,l=a.y1,i=a.x2,h=a.y2;if(o===r&&s===e||n===i&&l===h)return!1;var f=(h-l)*(r-o)-(i-n)*(e-s);if(f===0)return!1;var d=((i-n)*(s-l)-(h-l)*(o-n))/f,u=((r-o)*(s-l)-(e-s)*(o-n))/f;return d<0||d>1||u<0||u>1?!1:(p&&(p.x=o+d*(r-o),p.y=s+d*(e-s)),!0)};c.exports=x},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=a.x,n=a.y,l=a.right,i=a.bottom,h=0;if(p>=e&&p<=l&&o>=n&&o<=i||s>=e&&s<=l&&r>=n&&r<=i)return!0;if(p<e&&s>=e){if(h=o+(r-o)*(e-p)/(s-p),h>n&&h<=i)return!0}else if(p>l&&s<=l&&(h=o+(r-o)*(l-p)/(s-p),h>=n&&h<=i))return!0;if(o<n&&r>=n){if(h=p+(s-p)*(n-o)/(r-o),h>=e&&h<=l)return!0}else if(o>i&&r<=i&&(h=p+(s-p)*(i-o)/(r-o),h>=e&&h<=l))return!0;return!1};c.exports=x},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=1);var o=a.x1,s=a.y1,r=a.x2,e=a.y2,n=t.x,l=t.y,i=(r-o)*(r-o)+(e-s)*(e-s);if(i===0)return!1;var h=((n-o)*(r-o)+(l-s)*(e-s))/i;if(h<0)return Math.sqrt((o-n)*(o-n)+(s-l)*(s-l))<=p;if(h>=0&&h<=1){var f=((s-l)*(r-o)-(o-n)*(e-s))/i;return Math.abs(f)*Math.sqrt(i)<=p}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=p};c.exports=x},14199:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16204),p=function(o,s){if(!a(o,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return o.x>=r&&o.x<=e&&o.y>=n&&o.y<=l};c.exports=p},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};c.exports=x},89265:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),p=t(37303),o=t(48653),s=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),i=n.getLineB(),h=n.getLineC();if(p(e,l.x1,l.y1)||p(e,l.x2,l.y2)||p(e,i.x1,i.y1)||p(e,i.x2,i.y2)||p(e,h.x1,h.y1)||p(e,h.x2,h.y2))return!0;var f=e.getLineA(),d=e.getLineB(),u=e.getLineC(),v=e.getLineD();if(a(l,f)||a(l,d)||a(l,u)||a(l,v)||a(i,f)||a(i,d)||a(i,u)||a(i,v)||a(h,f)||a(h,d)||a(h,u)||a(h,v))return!0;var g=s(e),y=o(n,g,!0);return y.length>0};c.exports=r},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){return r===void 0&&(r=0),!(a>t.right+r||p<t.left-r||o>t.bottom+r||s<t.top-r)};c.exports=x},67636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80462),p=t(10690),o=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(p(s,r.x,r.y)||a(s.getLineA(),r)||a(s.getLineB(),r)||a(s.getLineC(),r))};c.exports=o},2822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),p=function(o,s){return!!(o.contains(s.x1,s.y1)||o.contains(s.x2,s.y2)||a(o.getLineA(),s)||a(o.getLineB(),s)||a(o.getLineC(),s))};c.exports=p},82944:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48653),p=t(71694),o=t(76112),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=e.getLineA(),f=e.getLineB(),d=e.getLineC();if(o(n,h)||o(n,f)||o(n,d)||o(l,h)||o(l,f)||o(l,d)||o(i,h)||o(i,f)||o(i,d))return!0;var u=p(r),v=a(e,u,!0);return v.length>0||(u=p(e),v=a(r,u,!0),v.length>0)};c.exports=s},91865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=x},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=1),p===void 0&&(p=[]);var o=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(e-s),i=o<r?1:-1,h=s<e?1:-1,f=n-l;p.push({x:o,y:s});for(var d=1;!(o===r&&s===e);){var u=f<<1;u>-l&&(f-=l,o+=i),u<n&&(f+=n,s+=h),d%a===0&&p.push({x:o,y:s}),d++}return p};c.exports=x},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a-(t.x1+t.x2)/2,s=p-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=s,t.x2+=o,t.y2+=s,t};c.exports=x},31116:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2)};c.exports=p},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=x},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};c.exports=x},78177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=function(o,s,r){r===void 0&&(r=s);var e=a(o),n=o.x2-o.x1,l=o.y2-o.y1;return s&&(o.x1=o.x1-n/e*s,o.y1=o.y1-l/e*s),r&&(o.x2=o.x2+n/e*r,o.y2=o.y2+l/e*r),o};c.exports=p},26708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(52816),p=t(6113),o=t(2141),s=function(r,e,n,l,i){l===void 0&&(l=0),i===void 0&&(i=[]);var h=[],f=r.x1,d=r.y1,u=r.x2-f,v=r.y2-d,g=p(e,i),y,m,T=n-1;for(y=0;y<T;y++)m=g(y/T),h.push(new o(f+u*m,d+v*m));if(m=g(1),h.push(new o(f+u*m,d+v*m)),l>0){var S=h[0],E=[S];for(y=1;y<h.length-1;y++){var C=h[y];a(S,C)>=l&&(E.push(C),S=C)}var w=h[h.length-1];return a(S,w)<l&&E.pop(),E.push(w),E}else return h};c.exports=s},32125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2)/2,s.y=(o.y1+o.y2)/2,s};c.exports=p},99569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x1,n=o.y1,l=o.x2,i=o.y2,h=(l-e)*(l-e)+(i-n)*(i-n);if(h===0)return r;var f=((s.x-e)*(l-e)+(s.y-n)*(i-n))/h;return r.x=e+f*(l-e),r.y=n+f*(i-n),r};c.exports=p},34638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=t(2141),s=function(r,e){e===void 0&&(e=new o);var n=p(r)-a.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};c.exports=s},13151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x1+(o.x2-o.x1)*s,r.y=o.y1+(o.y2-o.y1)*s,r};c.exports=p},15258:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=a(s)/e);for(var l=s.x1,i=s.y1,h=s.x2,f=s.y2,d=0;d<r;d++){var u=d/r,v=l+(h-l)*u,g=i+(f-i)*u;n.push(new p(v,g))}return n};c.exports=o},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=(s-p)*(s-p)+(r-o)*(r-o);if(e===0)return!1;var n=((o-a.y)*(s-p)-(p-a.x)*(r-o))/e;return Math.abs(n)*Math.sqrt(e)};c.exports=x},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.y1-t.y2)};c.exports=x},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=x},23031:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(13151),o=t(15258),s=t(23777),r=t(65822),e=t(26099),n=new a({initialize:function(i,h,f,d){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=s.LINE,this.x1=i,this.y1=h,this.x2=f,this.y2=d},getPoint:function(l,i){return p(this,l,i)},getPoints:function(l,i,h){return o(this,l,i,h)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,i,h,f){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),this.x1=l,this.y1=i,this.x2=h,this.y2=f,this},setFromObjects:function(l,i){return this.x1=l.x,this.y1=l.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=n},64795:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(15994),o=t(91938),s=function(r){var e=o(r)-a.TAU;return p(e,-Math.PI,Math.PI)};c.exports=s},52616:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=function(s){return Math.cos(p(s)-a.TAU)};c.exports=o},87231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=function(s){return Math.sin(p(s)-a.TAU)};c.exports=o},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t};c.exports=x},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=x},65822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random();return s.x=o.x1+r*(o.x2-o.x1),s.y=o.y1+r*(o.y2-o.y1),s};c.exports=p},69777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91938),p=t(64795),o=function(s,r){return 2*p(r)-Math.PI-a(s)};c.exports=o},39706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),p=function(o,s){var r=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return a(o,r,e,s)};c.exports=p},82585:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),p=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=p},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,t};c.exports=x},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return t.x1=a,t.y1=p,t.x2=a+Math.cos(o)*s,t.y2=p+Math.sin(o)*s,t};c.exports=x},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=x},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.x1-t.x2)};c.exports=x},2529:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),c.exports=a},83997:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(87841),o=t(26099);function s(e,n,l,i){var h=e-l,f=n-i,d=h*h+f*f;return Math.sqrt(d)}var r=new a({initialize:function(n,l,i){this.vertex1=n,this.vertex2=l,this.vertex3=i,this.bounds=new p,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,i=this.vertex3,h,f,d,u,v,g;e?(h=n.x,f=n.y,d=l.x,u=l.y,v=i.x,g=i.y):(h=n.vx,f=n.vy,d=l.vx,u=l.vy,v=i.vx,g=i.vy);var y=s(v,g,d,u),m=s(h,f,v,g),T=s(d,u,h,f),S=y+m+T;return this._inCenter.set((h*y+d*m+v*T)/S,(f*y+u*m+g*T)/S)},contains:function(e,n,l){var i=this.vertex1,h=this.vertex2,f=this.vertex3,d=i.vx,u=i.vy,v=h.vx,g=h.vy,y=f.vx,m=f.vy;if(l){var T=l.a,S=l.b,E=l.c,C=l.d,w=l.e,A=l.f;d=i.vx*T+i.vy*E+w,u=i.vx*S+i.vy*C+A,v=h.vx*T+h.vy*E+w,g=h.vx*S+h.vy*C+A,y=f.vx*T+f.vy*E+w,m=f.vx*S+f.vy*C+A}var P=y-d,M=m-u,R=v-d,I=g-u,D=e-d,Y=n-u,B=P*P+M*M,O=P*R+M*I,N=P*D+M*Y,L=R*R+I*I,W=R*D+I*Y,F=B*L-O*O,U=F===0?0:1/F,Z=(L*N-O*W)*U,J=(B*W-O*N)*U;return Z>=0&&J>=0&&Z+J<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,i=this.vertex3,h=(l.vx-n.vx)*(i.vy-n.vy)-(l.vy-n.vy)*(i.vx-n.vx);return e<=0?h>=0:h<0},load:function(e,n,l,i,h){return l=this.vertex1.load(e,n,l,i,h),l=this.vertex2.load(e,n,l,i,h),l=this.vertex3.load(e,n,l,i,h),l},transformCoordinatesLocal:function(e,n,l,i){return this.vertex1.transformCoordinatesLocal(e,n,l,i),this.vertex2.transformCoordinatesLocal(e,n,l,i),this.vertex3.transformCoordinatesLocal(e,n,l,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,l.vx),i.y=Math.min(e.vy,n.vy,l.vy),i.width=Math.max(e.vx,n.vx,l.vx)-i.x,i.height=Math.max(e.vy,n.vy,l.vy)-i.y,this},isInView:function(e,n,l,i,h,f,d,u,v,g,y){this.update(i,h,f,d,u,v,g,y);var m=this.vertex1,T=this.vertex2,S=this.vertex3;if(m.ta<=0&&T.ta<=0&&S.ta<=0||n&&!this.isCounterClockwise(l))return!1;var E=this.bounds;E.x=Math.min(m.tx,T.tx,S.tx),E.y=Math.min(m.ty,T.ty,S.ty),E.width=Math.max(m.tx,T.tx,S.tx)-E.x,E.height=Math.max(m.ty,T.ty,S.ty)-E.y;var C=e.x+e.width,w=e.y+e.height;return E.width<=0||E.height<=0||e.width<=0||e.height<=0?!1:!(E.right<e.x||E.bottom<e.y||E.x>C||E.y>w)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,i,h,f,d,u){return this.vertex1.update(n,l,i,h,f,d,u,e),this.vertex2.update(n,l,i,h,f,d,u,e),this.vertex3.update(n,l,i,h,f,d,u,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,i=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=n,i.x+=e,i.y+=n,h.x+=e,h.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=r},48803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(95540),o=t(37867),s=t(25836),r=t(39318),e=new s,n=new s,l=new o,i=function(h){var f=p(h,"mesh"),d=p(h,"texture",null),u=p(h,"frame"),v=p(h,"width",1),g=p(h,"height",v),y=p(h,"widthSegments",1),m=p(h,"heightSegments",y),T=p(h,"x",0),S=p(h,"y",0),E=p(h,"z",0),C=p(h,"rotateX",0),w=p(h,"rotateY",0),A=p(h,"rotateZ",0),P=p(h,"zIsUp",!0),M=p(h,"isOrtho",f?f.dirtyCache[11]:!1),R=p(h,"colors",[16777215]),I=p(h,"alphas",[1]),D=p(h,"tile",!1),Y=p(h,"flipY",!1),B=p(h,"width",null),O={faces:[],verts:[]};e.set(T,S,E),n.set(C,w,A),l.fromRotationXYTranslation(n,e,P);var N;if(!d&&f)d=f.texture,u||(N=f.frame);else if(f&&typeof d=="string")d=f.scene.sys.textures.get(d);else if(!d)return O;N||(N=d.get(u)),!B&&M&&d&&f&&(v=N.width/f.height,g=N.height/f.height);var L=v/2,W=g/2,F=Math.floor(y),U=Math.floor(m),Z=F+1,J=U+1,Q=v/F,k=g/U,et=[],it=[],q,tt,nt=0,ht=1,gt=0,mt=1;N&&(nt=N.u0,ht=N.u1,Y?(gt=N.v1,mt=N.v0):(gt=N.v0,mt=N.v1));var at=ht-nt,ft=mt-gt;for(tt=0;tt<J;tt++){var xt=tt*k-W;for(q=0;q<Z;q++){var vt=q*Q-L;it.push(vt,-xt);var Pt=nt+at*(q/F),H=gt+ft*(tt/U);et.push(Pt,H)}}Array.isArray(R)||(R=[R]),Array.isArray(I)||(I=[I]);var K=0,$=0;for(tt=0;tt<U;tt++)for(q=0;q<F;q++){var _=(q+Z*tt)*2,st=(q+Z*(tt+1))*2,dt=(q+1+Z*(tt+1))*2,pt=(q+1+Z*tt)*2,ot=R[$],ct=I[K],Ct=new r(it[_],it[_+1],0,et[_],et[_+1],ot,ct).transformMat4(l),Mt=new r(it[st],it[st+1],0,et[st],et[st+1],ot,ct).transformMat4(l),Rt=new r(it[pt],it[pt+1],0,et[pt],et[pt+1],ot,ct).transformMat4(l),bt=new r(it[st],it[st+1],0,et[st],et[st+1],ot,ct).transformMat4(l),zt=new r(it[dt],it[dt+1],0,et[dt],et[dt+1],ot,ct).transformMat4(l),Wt=new r(it[pt],it[pt+1],0,et[pt],et[pt+1],ot,ct).transformMat4(l);D&&(Ct.setUVs(nt,mt),Mt.setUVs(nt,gt),Rt.setUVs(ht,mt),bt.setUVs(nt,gt),zt.setUVs(ht,gt),Wt.setUVs(ht,mt)),$++,$===R.length&&($=0),K++,K===I.length&&(K=0),O.verts.push(Ct,Mt,Rt,bt,zt,Wt),O.faces.push(new a(Ct,Mt,Rt),new a(bt,zt,Wt))}return f&&(f.faces=f.faces.concat(O.faces),f.vertices=f.vertices.concat(O.verts)),O};c.exports=i},34684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(37867),o=t(25836),s=t(39318),r=new o,e=new o,n=new p,l=function(i,h,f,d,u,v,g,y,m,T){f===void 0&&(f=1),d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),m===void 0&&(m=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},E=i.materials;r.set(d,u,v),e.set(g,y,m),n.fromRotationXYTranslation(e,r,T);for(var C=0;C<i.models.length;C++)for(var w=i.models[C],A=w.vertices,P=w.textureCoords,M=w.faces,R=0;R<M.length;R++){var I=M[R],D=I.vertices[0],Y=I.vertices[1],B=I.vertices[2],O=A[D.vertexIndex],N=A[Y.vertexIndex],L=A[B.vertexIndex],W=D.textureCoordsIndex,F=Y.textureCoordsIndex,U=B.textureCoordsIndex,Z=W===-1?{u:0,v:1}:P[W],J=F===-1?{u:0,v:0}:P[F],Q=U===-1?{u:1,v:1}:P[U],k=16777215;I.material!==""&&E[I.material]&&(k=E[I.material]);var et=new s(O.x*f,O.y*f,O.z*f,Z.u,Z.v,k).transformMat4(n),it=new s(N.x*f,N.y*f,N.z*f,J.u,J.v,k).transformMat4(n),q=new s(L.x*f,L.y*f,L.z*f,Q.u,Q.v,k).transformMat4(n);S.verts.push(et,it,q),S.faces.push(new a(et,it,q))}return h&&(h.faces=h.faces.concat(S.faces),h.vertices=h.vertices.concat(S.verts)),S};c.exports=l},92515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(39318),o=function(s,r,e,n,l,i,h,f){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),f===void 0&&(f=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},u,v,g,y,m,T,S,E,C,w,A,P=n?3:2,M=Array.isArray(i),R=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(u=0;u<e.length;u++){var I=e[u],D=e[u]*2,Y=e[u]*P;v=s[Y],g=s[Y+1],y=n?s[Y+2]:0,m=r[D],T=r[D+1],f&&(T=1-T),S=M?i[I]:i,E=R?h[I]:h,C=0,w=0,A=0,l&&(C=l[Y],w=l[Y+1],A=n?l[Y+2]:0),d.vertices.push(new p(v,g,y,m,T,S,E,C,w,A))}else{var B=0,O=0;for(u=0;u<s.length;u+=P)v=s[u],g=s[u+1],y=n?s[u+2]:0,m=r[B],T=r[B+1],S=M?i[O]:i,E=R?h[O]:h,C=0,w=0,A=0,l&&(C=l[u],w=l[u+1],A=n?l[u+2]:0),d.vertices.push(new p(v,g,y,m,T,S,E,C,w,A)),B+=2,O++}for(u=0;u<d.vertices.length;u+=3){var N=d.vertices[u],L=d.vertices[u+1],W=d.vertices[u+2];d.faces.push(new a(N,L,W))}return d};c.exports=o},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,t="untitled",a="",p="";function o(v){var g=v.indexOf("#");return g>-1?v.substring(0,g):v}function s(v){return v.models.length===0&&v.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",v.models[v.models.length-1]}function r(v,g){var y=v.length>=2?v[1]:t;g.models.push({faces:[],name:y,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function e(v){v.length===2&&(a=v[1])}function n(v,g){var y=v.length,m=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;s(g).vertices.push({x:m,y:T,z:S})}function l(v,g){var y=v.length,m=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;isNaN(m)&&(m=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),x&&(T=1-T),s(g).textureCoords.push({u:m,v:T,w:S})}function i(v,g){var y=v.length,m=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;s(g).vertexNormals.push({x:m,y:T,z:S})}function h(v,g){var y=v.length-1;if(!(y<3)){for(var m={group:a,material:p,vertices:[]},T=0;T<y;T++){var S=v[T+1],E=S.split("/"),C=E.length;if(!(C<1||C>3)){var w=0,A=0,P=0;w=parseInt(E[0],10),C>1&&E[1]!==""&&(A=parseInt(E[1],10)),C>2&&(P=parseInt(E[2],10)),w!==0&&(w<0&&(w=s(g).vertices.length+1+w),A-=1,w-=1,P-=1,m.vertices.push({textureCoordsIndex:A,vertexIndex:w,vertexNormalIndex:P}))}}s(g).faces.push(m)}}function f(v,g){v.length>=2&&g.materialLibraries.push(v[1])}function d(v){v.length>=2&&(p=v[1])}var u=function(v,g){g===void 0&&(g=!0),x=g;var y={materials:{},materialLibraries:[],models:[]};a="",p="";for(var m=v.split(`
`),T=0;T<m.length;T++){var S=o(m[T]),E=S.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":r(E,y);break;case"g":e(E);break;case"v":n(E,y);break;case"vt":l(E,y);break;case"vn":i(E,y);break;case"f":h(E,y);break;case"mtllib":f(E,y);break;case"usemtl":d(E);break}}return y};c.exports=u},61485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),p=function(o){for(var s={},r=o.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var i=l.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),f=i.length>=2?Math.floor(i[2]*255):h,d=i.length>=3?Math.floor(i[3]*255):h;s[e]=a(h,f,d);break}}}}return s};c.exports=p},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s,r;if(p===void 0&&o===void 0){var e=t.getInCenter();s=e.x,r=e.y}var n=Math.cos(a),l=Math.sin(a),i=t.vertex1,h=t.vertex2,f=t.vertex3,d=i.x-s,u=i.y-r;i.set(d*n-u*l+s,d*l+u*n+r),d=h.x-s,u=h.y-r,h.set(d*n-u*l+s,d*l+u*n+r),d=f.x-s,u=f.y-r,f.set(d*n-u*l+s,d*l+u*n+r)};c.exports=x},39318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(70554),o=t(25836),s=new a({Extends:o,initialize:function(e,n,l,i,h,f,d,u,v,g){f===void 0&&(f=16777215),d===void 0&&(d=1),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),o.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=u,this.ny=v,this.nz=g,this.u=i,this.v=h,this.color=f,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var i=this.x,h=this.y,f=this.z,d=r.val,u=i*d[0]+h*d[4]+f*d[8]+d[12],v=i*d[1]+h*d[5]+f*d[9]+d[13],g=i*d[2]+h*d[6]+f*d[10]+d[14],y=i*d[3]+h*d[7]+f*d[11]+d[15];this.vx=u/y*e,this.vy=-(v/y)*n,l<=0?this.vz=g/y:this.vz=-(g/y)},resize:function(r,e,n,l,i,h){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(r,e,n,l,i,h,f,d){var u=this.vx*r+this.vy*n+i,v=this.vx*e+this.vy*l+h;return f&&(u=Math.round(u),v=Math.round(v)),this.tx=u,this.ty=v,this.ta=this.alpha*d,this},load:function(r,e,n,l,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=i,e[++n]=p.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=s},73090:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=a},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=x},99706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o){return new a(o.x,o.y)};c.exports=p},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y)};c.exports=x},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y};c.exports=x},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=x},87555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){if(s===void 0&&(s=new a),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=o[0].x,s.y=o[0].y;else{for(var e=0;e<r;e++)s.x+=o[e].x,s.y+=o[e].y;s.x/=r,s.y/=r}return s};c.exports=p},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=x},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x*t.x+t.y*t.y};c.exports=x},20873:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=0;i<o.length;i++){var h=o[i];h.x>r&&(r=h.x),h.x<e&&(e=h.x),h.y>n&&(n=h.y),h.y<l&&(l=h.y)}return s.x=e,s.y=l,s.width=r-e,s.height=n-l,s};c.exports=p},26152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new a),e.x=o.x+(s.x-o.x)*r,e.y=o.y+(s.y-o.y)*r,e};c.exports=p},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(t.y,t.x)};c.exports=x},79432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.setTo(-o.x,-o.y)};c.exports=p},2141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23777),o=new a({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=p.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});c.exports=o},72930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(44405),o=function(s,r,e){e===void 0&&(e=new a);var n=s.x*r.x+s.y*r.y,l=n/p(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};c.exports=o},62880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x*s.x+o.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};c.exports=p},15093:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28793),p=function(o,s){if(o.x!==0||o.y!==0){var r=a(o);o.x/=r,o.y/=r}return o.x*=s,o.y*=s,o};c.exports=p},43711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),c.exports=a},12306:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717),p=function(o){return new a(o.points)};c.exports=p},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,n=t.points[s].y,l=t.points[r].x,i=t.points[r].y;(n<=p&&p<i||i<=p&&p<n)&&a<(l-e)*(p-n)/(i-n)+e&&(o=!o)}return o};c.exports=x},99338:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63814),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(O,N,L){L=L||2;var W=N&&N.length,F=W?N[0]*L:O.length,U=t(O,0,F,L,!0),Z=[];if(!U||U.next===U.prev)return Z;var J,Q,k,et,it,q,tt;if(W&&(U=n(O,N,U,L)),O.length>80*L){J=k=O[0],Q=et=O[1];for(var nt=L;nt<F;nt+=L)it=O[nt],q=O[nt+1],it<J&&(J=it),q<Q&&(Q=q),it>k&&(k=it),q>et&&(et=q);tt=Math.max(k-J,et-Q),tt=tt!==0?32767/tt:0}return p(U,Z,L,J,Q,tt,0),Z}function t(O,N,L,W,F){var U,Z;if(F===B(O,N,L,W)>0)for(U=N;U<L;U+=W)Z=I(U,O[U],O[U+1],Z);else for(U=L-W;U>=N;U-=W)Z=I(U,O[U],O[U+1],Z);return Z&&S(Z,Z.next)&&(D(Z),Z=Z.next),Z}function a(O,N){if(!O)return O;N||(N=O);var L=O,W;do if(W=!1,!L.steiner&&(S(L,L.next)||T(L.prev,L,L.next)===0)){if(D(L),L=N=L.prev,L===L.next)break;W=!0}else L=L.next;while(W||L!==N);return N}function p(O,N,L,W,F,U,Z){if(O){!Z&&U&&d(O,W,F,U);for(var J=O,Q,k;O.prev!==O.next;){if(Q=O.prev,k=O.next,U?s(O,W,F,U):o(O)){N.push(Q.i/L|0),N.push(O.i/L|0),N.push(k.i/L|0),D(O),O=k.next,J=k.next;continue}if(O=k,O===J){Z?Z===1?(O=r(a(O),N,L),p(O,N,L,W,F,U,2)):Z===2&&e(O,N,L,W,F,U):p(a(O),N,L,W,F,U,1);break}}}}function o(O){var N=O.prev,L=O,W=O.next;if(T(N,L,W)>=0)return!1;for(var F=N.x,U=L.x,Z=W.x,J=N.y,Q=L.y,k=W.y,et=F<U?F<Z?F:Z:U<Z?U:Z,it=J<Q?J<k?J:k:Q<k?Q:k,q=F>U?F>Z?F:Z:U>Z?U:Z,tt=J>Q?J>k?J:k:Q>k?Q:k,nt=W.next;nt!==N;){if(nt.x>=et&&nt.x<=q&&nt.y>=it&&nt.y<=tt&&y(F,J,U,Q,Z,k,nt.x,nt.y)&&T(nt.prev,nt,nt.next)>=0)return!1;nt=nt.next}return!0}function s(O,N,L,W){var F=O.prev,U=O,Z=O.next;if(T(F,U,Z)>=0)return!1;for(var J=F.x,Q=U.x,k=Z.x,et=F.y,it=U.y,q=Z.y,tt=J<Q?J<k?J:k:Q<k?Q:k,nt=et<it?et<q?et:q:it<q?it:q,ht=J>Q?J>k?J:k:Q>k?Q:k,gt=et>it?et>q?et:q:it>q?it:q,mt=v(tt,nt,N,L,W),at=v(ht,gt,N,L,W),ft=O.prevZ,xt=O.nextZ;ft&&ft.z>=mt&&xt&&xt.z<=at;){if(ft.x>=tt&&ft.x<=ht&&ft.y>=nt&&ft.y<=gt&&ft!==F&&ft!==Z&&y(J,et,Q,it,k,q,ft.x,ft.y)&&T(ft.prev,ft,ft.next)>=0||(ft=ft.prevZ,xt.x>=tt&&xt.x<=ht&&xt.y>=nt&&xt.y<=gt&&xt!==F&&xt!==Z&&y(J,et,Q,it,k,q,xt.x,xt.y)&&T(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;ft&&ft.z>=mt;){if(ft.x>=tt&&ft.x<=ht&&ft.y>=nt&&ft.y<=gt&&ft!==F&&ft!==Z&&y(J,et,Q,it,k,q,ft.x,ft.y)&&T(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;xt&&xt.z<=at;){if(xt.x>=tt&&xt.x<=ht&&xt.y>=nt&&xt.y<=gt&&xt!==F&&xt!==Z&&y(J,et,Q,it,k,q,xt.x,xt.y)&&T(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function r(O,N,L){var W=O;do{var F=W.prev,U=W.next.next;!S(F,U)&&E(F,W,W.next,U)&&P(F,U)&&P(U,F)&&(N.push(F.i/L|0),N.push(W.i/L|0),N.push(U.i/L|0),D(W),D(W.next),W=O=U),W=W.next}while(W!==O);return a(W)}function e(O,N,L,W,F,U){var Z=O;do{for(var J=Z.next.next;J!==Z.prev;){if(Z.i!==J.i&&m(Z,J)){var Q=R(Z,J);Z=a(Z,Z.next),Q=a(Q,Q.next),p(Z,N,L,W,F,U,0),p(Q,N,L,W,F,U,0);return}J=J.next}Z=Z.next}while(Z!==O)}function n(O,N,L,W){var F=[],U,Z,J,Q,k;for(U=0,Z=N.length;U<Z;U++)J=N[U]*W,Q=U<Z-1?N[U+1]*W:O.length,k=t(O,J,Q,W,!1),k===k.next&&(k.steiner=!0),F.push(g(k));for(F.sort(l),U=0;U<F.length;U++)L=i(F[U],L);return L}function l(O,N){return O.x-N.x}function i(O,N){var L=h(O,N);if(!L)return N;var W=R(L,O);return a(W,W.next),a(L,L.next)}function h(O,N){var L=N,W=O.x,F=O.y,U=-1/0,Z;do{if(F<=L.y&&F>=L.next.y&&L.next.y!==L.y){var J=L.x+(F-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if(J<=W&&J>U&&(U=J,Z=L.x<L.next.x?L:L.next,J===W))return Z}L=L.next}while(L!==N);if(!Z)return null;var Q=Z,k=Z.x,et=Z.y,it=1/0,q;L=Z;do W>=L.x&&L.x>=k&&W!==L.x&&y(F<et?W:U,F,k,et,F<et?U:W,F,L.x,L.y)&&(q=Math.abs(F-L.y)/(W-L.x),P(L,O)&&(q<it||q===it&&(L.x>Z.x||L.x===Z.x&&f(Z,L)))&&(Z=L,it=q)),L=L.next;while(L!==Q);return Z}function f(O,N){return T(O.prev,O,N.prev)<0&&T(N.next,O,O.next)<0}function d(O,N,L,W){var F=O;do F.z===0&&(F.z=v(F.x,F.y,N,L,W)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==O);F.prevZ.nextZ=null,F.prevZ=null,u(F)}function u(O){var N,L,W,F,U,Z,J,Q,k=1;do{for(L=O,O=null,U=null,Z=0;L;){for(Z++,W=L,J=0,N=0;N<k&&(J++,W=W.nextZ,!!W);N++);for(Q=k;J>0||Q>0&&W;)J!==0&&(Q===0||!W||L.z<=W.z)?(F=L,L=L.nextZ,J--):(F=W,W=W.nextZ,Q--),U?U.nextZ=F:O=F,F.prevZ=U,U=F;L=W}U.nextZ=null,k*=2}while(Z>1);return O}function v(O,N,L,W,F){return O=(O-L)*F|0,N=(N-W)*F|0,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,O|N<<1}function g(O){var N=O,L=O;do(N.x<L.x||N.x===L.x&&N.y<L.y)&&(L=N),N=N.next;while(N!==O);return L}function y(O,N,L,W,F,U,Z,J){return(F-Z)*(N-J)>=(O-Z)*(U-J)&&(O-Z)*(W-J)>=(L-Z)*(N-J)&&(L-Z)*(U-J)>=(F-Z)*(W-J)}function m(O,N){return O.next.i!==N.i&&O.prev.i!==N.i&&!A(O,N)&&(P(O,N)&&P(N,O)&&M(O,N)&&(T(O.prev,O,N.prev)||T(O,N.prev,N))||S(O,N)&&T(O.prev,O,O.next)>0&&T(N.prev,N,N.next)>0)}function T(O,N,L){return(N.y-O.y)*(L.x-N.x)-(N.x-O.x)*(L.y-N.y)}function S(O,N){return O.x===N.x&&O.y===N.y}function E(O,N,L,W){var F=w(T(O,N,L)),U=w(T(O,N,W)),Z=w(T(L,W,O)),J=w(T(L,W,N));return!!(F!==U&&Z!==J||F===0&&C(O,L,N)||U===0&&C(O,W,N)||Z===0&&C(L,O,W)||J===0&&C(L,N,W))}function C(O,N,L){return N.x<=Math.max(O.x,L.x)&&N.x>=Math.min(O.x,L.x)&&N.y<=Math.max(O.y,L.y)&&N.y>=Math.min(O.y,L.y)}function w(O){return O>0?1:O<0?-1:0}function A(O,N){var L=O;do{if(L.i!==O.i&&L.next.i!==O.i&&L.i!==N.i&&L.next.i!==N.i&&E(L,L.next,O,N))return!0;L=L.next}while(L!==O);return!1}function P(O,N){return T(O.prev,O,O.next)<0?T(O,N,O.next)>=0&&T(O,O.prev,N)>=0:T(O,N,O.prev)<0||T(O,O.next,N)<0}function M(O,N){var L=O,W=!1,F=(O.x+N.x)/2,U=(O.y+N.y)/2;do L.y>U!=L.next.y>U&&L.next.y!==L.y&&F<(L.next.x-L.x)*(U-L.y)/(L.next.y-L.y)+L.x&&(W=!W),L=L.next;while(L!==O);return W}function R(O,N){var L=new Y(O.i,O.x,O.y),W=new Y(N.i,N.x,N.y),F=O.next,U=N.prev;return O.next=N,N.prev=O,L.next=F,F.prev=L,W.next=L,L.prev=W,U.next=W,W.prev=U,W}function I(O,N,L,W){var F=new Y(O,N,L);return W?(F.next=W.next,F.prev=W,W.next.prev=F,W.next=F):(F.prev=F,F.next=F),F}function D(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function Y(O,N,L){this.i=O,this.x=N,this.y=L,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(O,N,L,W){var F=N&&N.length,U=F?N[0]*L:O.length,Z=Math.abs(B(O,0,U,L));if(F)for(var J=0,Q=N.length;J<Q;J++){var k=N[J]*L,et=J<Q-1?N[J+1]*L:O.length;Z-=Math.abs(B(O,k,et,L))}var it=0;for(J=0;J<W.length;J+=3){var q=W[J]*L,tt=W[J+1]*L,nt=W[J+2]*L;it+=Math.abs((O[q]-O[nt])*(O[tt+1]-O[q+1])-(O[q]-O[tt])*(O[nt+1]-O[q+1]))}return Z===0&&it===0?0:Math.abs((it-Z)/Z)};function B(O,N,L,W){for(var F=0,U=N,Z=L-W;U<L;U+=W)F+=(O[Z]-O[U])*(O[U+1]+O[Z+1]),Z=U;return F}x.flatten=function(O){for(var N=O[0][0].length,L={vertices:[],holes:[],dimensions:N},W=0,F=0;F<O.length;F++){for(var U=0;U<O[F].length;U++)for(var Z=0;Z<N;Z++)L.vertices.push(O[F][U][Z]);F>0&&(W+=O[F-1].length,L.holes.push(W))}return L},c.exports=x},13829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=1/0,e=1/0,n=-r,l=-e,i,h=0;h<o.points.length;h++)i=o.points[h],r=Math.min(r,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),l=Math.max(l,i.y);return s.x=r,s.y=e,s.width=n-r,s.height=l-e,s};c.exports=p},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.points.length;p++)a.push(t.points[p].x),a.push(t.points[p].y);return a};c.exports=x},9564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(23031),o=t(30052),s=function(r,e,n,l){l===void 0&&(l=[]);var i=r.points,h=o(r);!e&&n>0&&(e=h/n);for(var f=0;f<e;f++)for(var d=h*(f/e),u=0,v=0;v<i.length;v++){var g=i[v],y=i[(v+1)%i.length],m=new p(g.x,g.y,y.x,y.y),T=a(m);if(d<u||d>u+T){u+=T;continue}var S=m.getPoint((d-u)/T);l.push(S);break}return l};c.exports=s},30052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(23031),o=function(s){for(var r=s.points,e=0,n=0;n<r.length;n++){var l=r[n],i=r[(n+1)%r.length],h=new p(l.x,l.y,i.x,i.y);e+=a(h)}return e};c.exports=o},25717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(63814),o=t(9564),s=t(23777),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return p(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,i=0;i<this.points.length-1;i++)n=this.points[i],l=this.points[i+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return o(this,e,n,l)}});c.exports=r},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.points.reverse(),t};c.exports=x},29524:c=>{function x(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,i=e.y,h=n.x-l,f=n.y-i;if(h!==0||f!==0){var d=((r.x-l)*h+(r.y-i)*f)/(h*h+f*f);d>1?(l=n.x,i=n.y):d>0&&(l+=h*d,i+=f*d)}return h=r.x-l,f=r.y-i,h*h+f*f}function a(r,e){for(var n=r[0],l=[n],i,h=1,f=r.length;h<f;h++)i=r[h],x(i,n)>e&&(l.push(i),n=i);return n!==i&&l.push(i),l}function p(r,e,n,l,i){for(var h=l,f,d=e+1;d<n;d++){var u=t(r[d],r[e],r[n]);u>h&&(f=d,h=u)}h>l&&(f-e>1&&p(r,e,f,l,i),i.push(r[f]),n-f>1&&p(r,f,n,l,i))}function o(r,e){var n=r.length-1,l=[r[0]];return p(r,0,n,e,l),l.push(r[n]),l}var s=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var i=e*e;n||(l=a(l,i)),r.setTo(o(l,i))}return r};c.exports=s},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,p){return a[0]=p[0],a[1]=p[1],a},t=function(a){var p,o=[],s=a.points;for(p=0;p<s.length;p++)o.push([s[p].x,s[p].y]);var r=[];for(o.length>0&&r.push(x([0,0],o[0])),p=0;p<o.length-1;p++){var e=o[p],n=o[p+1],l=e[0],i=e[1],h=n[0],f=n[1];r.push([.85*l+.15*h,.85*i+.15*f]),r.push([.15*l+.85*h,.15*i+.85*f])}return o.length>1&&r.push(x([0,0],o[o.length-1])),a.setTo(r)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=t.points,s=0;s<o.length;s++)o[s].x+=a,o[s].y+=p;return t};c.exports=x},58423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),c.exports=a},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.height};c.exports=x},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=x},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=x},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x=a-t.width/2,t.y=p-t.height/2,t};c.exports=x},65085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=p},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=p&&t.y+t.height>=p};c.exports=x},96553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37303),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};c.exports=x},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};c.exports=x},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},53751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),p=function(o,s){var r=a(o);return r<a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=p},16088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),p=function(o,s){var r=a(o);return r>a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=p},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=x},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=x},19217:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(36383),o=function(s,r){if(r===void 0&&(r=new a),s.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,h,f,d,u=0;u<s.length;u++)h=s[u],Array.isArray(h)?(f=h[0],d=h[1]):(f=h.x,d=h.y),e=Math.min(e,f),n=Math.min(n,d),l=Math.max(l,f),i=Math.max(i,d);return r.x=e,r.y=n,r.width=l-e,r.height=i-n,r};c.exports=o},9477:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s,r,e,n){return n===void 0&&(n=new a),n.setTo(Math.min(o,r),Math.min(s,e),Math.abs(o-r),Math.abs(s-e))};c.exports=p},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height===0?NaN:t.width/t.height};c.exports=x},27165:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.centerX,s.y=o.centerY,s};c.exports=p},20812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),p=t(2141),o=function(s,r,e){if(e===void 0&&(e=new p),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var n=a(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(e.x=s.right-n,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(n-s.width))):n<=s.width?(e.x=s.x+n,e.y=s.y):(e.x=s.right,e.y=s.y+(n-s.width)),e};c.exports=o},34819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20812),p=t(13019),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=p(s)/e);for(var l=0;l<r;l++){var i=l/r;n.push(a(s,i))}return n};c.exports=o},51313:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.width,s.y=o.height,s};c.exports=p},86091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67502),p=function(o,s,r){var e=o.centerX,n=o.centerY;return o.setSize(o.width+s*2,o.height+r*2),a(o,e,n)};c.exports=p},53951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};c.exports=o},14649:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),p=t(2141),o=function(s,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(a(s)/r):r=a(s)/e;for(var l=s.x,i=s.y,h=0,f=0;f<e;f++)switch(n.push(new p(l,i)),h){case 0:l+=r,l>=s.right&&(h=1,i+=l-s.right,l=s.right);break;case 1:i+=r,i>=s.bottom&&(h=2,l-=i-s.bottom,i=s.bottom);break;case 2:l-=r,l<=s.left&&(h=3,i-=s.left-l,l=s.left);break;case 3:i-=r,i<=s.top&&(h=0,i=s.top);break}return n};c.exports=o},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=t.x,o=t.right,s=t.y,r=t.bottom,e=0;e<a.length;e++)p=Math.min(p,a[e].x),o=Math.max(o,a[e].x),s=Math.min(s,a[e].y),r=Math.max(r,a[e].y);return t.x=p,t.y=s,t.width=o-p,t.height=r-s,t};c.exports=x},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=Math.min(t.x,a.x),o=Math.max(t.right,a.right);t.x=p,t.width=o-p;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t};c.exports=x},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=Math.min(t.x,a),s=Math.max(t.right,a);t.x=o,t.width=s-o;var r=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=r,t.height=e-r,t};c.exports=x},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};c.exports=x},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(t.width+t.height)};c.exports=x},85133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(39506),o=function(s,r,e){e===void 0&&(e=new a),r=p(r);var n=Math.sin(r),l=Math.cos(r),i=l>0?s.width/2:s.width/-2,h=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(h*l)?h=i*n/l:i=h*l/n,e.x=i+s.centerX,e.y=h+s.centerY,e};c.exports=o},26597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.x+Math.random()*o.width,s.y=o.y+Math.random()*o.height,s};c.exports=p},86470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(70273),o=t(2141),s=function(r,e,n){if(n===void 0&&(n=new o),p(r,e))switch(a(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};c.exports=s},87841:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37303),o=t(20812),s=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new a({initialize:function(h,f,d,u){h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=0),this.type=r.RECTANGLE,this.x=h,this.y=f,this.width=d,this.height=u},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,f){return s(this,i,h,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,f,d){return this.x=i,this.y=h,this.width=f,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width===a.width&&t.height===a.height};c.exports=x},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=a),t.width*=a,t.height*=p,t};c.exports=x},36899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s,r){r===void 0&&(r=new a);var e=Math.min(o.x,s.x),n=Math.min(o.y,s.y),l=Math.max(o.right,s.right)-e,i=Math.max(o.bottom,s.bottom)-n;return r.setTo(e,n,l,i)};c.exports=p},93232:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),c.exports=a},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.x1,p=t.y1,o=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-a)*(s-p)-(o-a)*(e-p))/2)};c.exports=x},39208:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o,s,r){var e=r*(Math.sqrt(3)/2),n=o,l=s,i=o+r/2,h=s+e,f=o-r/2,d=s+e;return new a(n,l,i,h,f,d)};c.exports=p},39545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(94811),p=t(16483),o=function(s,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var i=a(s,r),h,f,d,u,v,g,y,m,T,S=0;S<i.length;S+=3)h=i[S],f=i[S+1],d=i[S+2],u=s[h*2]*e,v=s[h*2+1]*n,g=s[f*2]*e,y=s[f*2+1]*n,m=s[d*2]*e,T=s[d*2+1]*n,l.push(new p(u,v,g,y,m,T));return l};c.exports=o},90301:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o,s,r,e){e===void 0&&(e=r);var n=o,l=s,i=o,h=s-e,f=o+r,d=s;return new a(n,l,i,h,f,d)};c.exports=p},23707:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97523),p=t(13584),o=function(s,r,e,n){n===void 0&&(n=a);var l=n(s),i=r-l.x,h=e-l.y;return p(s,i,h)};c.exports=o},97523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2+o.x3)/3,s.y=(o.y1+o.y2+o.y3)/3,s};c.exports=p},24951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099);function p(s,r,e,n){return s*n-r*e}var o=function(s,r){r===void 0&&(r=new a);var e=s.x3,n=s.y3,l=s.x1-e,i=s.y1-n,h=s.x2-e,f=s.y2-n,d=2*p(l,i,h,f),u=p(i,l*l+i*i,f,h*h+f*f),v=p(l,l*l+i*i,h,h*h+f*f);return r.x=e-u/d,r.y=n+v/d,r};c.exports=o},85614:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=function(o,s){s===void 0&&(s=new a);var r=o.x1,e=o.y1,n=o.x2,l=o.y2,i=o.x3,h=o.y3,f=n-r,d=l-e,u=i-r,v=h-e,g=f*(r+n)+d*(e+l),y=u*(r+i)+v*(e+h),m=2*(f*(h-l)-d*(i-n)),T,S;if(Math.abs(m)<1e-6){var E=Math.min(r,n,i),C=Math.min(e,l,h);T=(Math.max(r,n,i)-E)*.5,S=(Math.max(e,l,h)-C)*.5,s.x=E+T,s.y=C+S,s.radius=Math.sqrt(T*T+S*S)}else s.x=(v*g-d*y)/m,s.y=(f*y-u*g)/m,T=s.x-r,S=s.y-e,s.radius=Math.sqrt(T*T+S*S);return s};c.exports=p},74422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};c.exports=p},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=a-t.x1,l=p-t.y1,i=o*o+s*s,h=o*r+s*e,f=o*n+s*l,d=r*r+e*e,u=r*n+e*l,v=i*d-h*h,g=v===0?0:1/v,y=(d*f-h*u)*g,m=(i*u-h*f)*g;return y>=0&&m>=0&&y+m<1};c.exports=x},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=!1),o===void 0&&(o=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=s*s+r*r,i=s*e+r*n,h=e*e+n*n,f=l*h-i*i,d=f===0?0:1/f,u,v,g,y,m,T,S=t.x1,E=t.y1,C=0;C<a.length&&(g=a[C].x-S,y=a[C].y-E,m=s*g+r*y,T=e*g+n*y,u=(h*m-i*T)*d,v=(l*T-i*m)*d,!(u>=0&&v>=0&&u+v<1&&(o.push({x:a[C].x,y:a[C].y}),p)));C++);return o};c.exports=x},96006:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10690),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=x},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};c.exports=x},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};c.exports=x},20437:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(35001),o=function(s,r,e){e===void 0&&(e=new a);var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var h=p(n),f=p(l),d=p(i),u=h+f+d,v=u*r,g=0;return v<h?(g=v/h,e.x=n.x1+(n.x2-n.x1)*g,e.y=n.y1+(n.y2-n.y1)*g):v>h+f?(v-=h+f,g=v/d,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(v-=h,g=v/f,e.x=l.x1+(l.x2-l.x1)*g,e.y=l.y1+(l.y2-l.y1)*g),e};c.exports=o},80672:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]);var l=s.getLineA(),i=s.getLineB(),h=s.getLineC(),f=a(l),d=a(i),u=a(h),v=f+d+u;!r&&e>0&&(r=v/e);for(var g=0;g<r;g++){var y=v*(g/r),m=0,T=new p;y<f?(m=y/f,T.x=l.x1+(l.x2-l.x1)*m,T.y=l.y1+(l.y2-l.y1)*m):y>f+d?(y-=f+d,m=y/u,T.x=h.x1+(h.x2-h.x1)*m,T.y=h.y1+(h.y2-h.y1)*m):(y-=f,m=y/d,T.x=i.x1+(i.x2-i.x1)*m,T.y=i.y1+(i.y2-i.y1)*m),n.push(T)}return n};c.exports=o},39757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);function p(s,r,e,n){var l=s-e,i=r-n,h=l*l+i*i;return Math.sqrt(h)}var o=function(s,r){r===void 0&&(r=new a);var e=s.x1,n=s.y1,l=s.x2,i=s.y2,h=s.x3,f=s.y3,d=p(h,f,l,i),u=p(e,n,h,f),v=p(l,i,e,n),g=d+u+v;return r.x=(e*d+l*u+h*v)/g,r.y=(n*d+i*u+f*v)/g,r};c.exports=o},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t.x3+=a,t.y3+=p,t};c.exports=x},1376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=function(o){var s=o.getLineA(),r=o.getLineB(),e=o.getLineC();return a(s)+a(r)+a(e)};c.exports=p},90260:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=o.x2-o.x1,e=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),s.x=o.x1+(r*i+n*h),s.y=o.y1+(e*i+l*h),s};c.exports=p},52172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),p=t(39757),o=function(s,r){var e=p(s);return a(s,e.x,e.y,r)};c.exports=o},49907:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),p=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=p},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,e=t.x3-a,n=t.y3-p,t.x3=e*s-n*r+a,t.y3=e*r+n*s+p,t};c.exports=x},16483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(10690),o=t(20437),s=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new a({initialize:function(h,f,d,u,v,g){h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=r.TRIANGLE,this.x1=h,this.y1=f,this.x2=d,this.y2=u,this.x3=v,this.y3=g},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,f){return s(this,i,h,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,f,d,u,v){return i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=0),v===void 0&&(v=0),this.x1=i,this.y1=h,this.x2=f,this.y2=d,this.x3=u,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});c.exports=l},84435:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),c.exports=a},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};c.exports=x},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return function(p,o,s,r){var e=t.getPixelAlpha(o,s,r.texture.key,r.frame.name);return e&&e>=a}};c.exports=x},7003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(93301),o=t(50792),s=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),i=t(36210),h=t(61340),f=t(85955),d=new a({initialize:function(v,g){this.game=v,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new n(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var y=0;y<=this.pointersTotal;y++){var m=new l(this,y);m.smoothFactor=g.inputSmoothFactor,this.pointers.push(m)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(r.BOOT,this.boot,this)},boot:function(){var u=this.game,v=u.events;this.canvas=u.canvas,this.scaleManager=u.scale,this.events.emit(s.MANAGER_BOOT),v.on(r.PRE_RENDER,this.preRender,this),v.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(u){this.isOver=!0,this.events.emit(s.GAME_OVER,u)},setCanvasOut:function(u){this.isOver=!1,this.events.emit(s.GAME_OUT,u)},preRender:function(){var u=this.game.loop.now,v=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=u,this.events.emit(s.MANAGER_UPDATE);for(var y=0;y<g.length;y++){var m=g[y];if(m.sys.input&&m.sys.input.updatePoll(u,v)&&this.globalTopOnly)return}},setDefaultCursor:function(u){this.defaultCursor=u,this.canvas.style.cursor!==u&&(this.canvas.style.cursor=u)},setCursor:function(u){u.cursor&&(this.canvas.style.cursor=u.cursor)},resetCursor:function(u,v){(v||u&&u.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(u){u===void 0&&(u=1);var v=[];this.pointersTotal+u>10&&(u=10-this.pointersTotal);for(var g=0;g<u;g++){var y=this.pointers.length,m=new l(this,y);m.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(m),this.pointersTotal++,v.push(m)}return v},updateInputPlugins:function(u,v){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var y=0;y<g.length;y++){var m=g[y];if(m.sys.input){var T=m.sys.input.update(u,v);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(u){for(var v=this.pointers,g=[],y=0;y<u.changedTouches.length;y++)for(var m=u.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(!S.active){S.touchstart(m,u),this.activePointer=S,g.push(S);break}}this.updateInputPlugins(p.TOUCH_START,g)},onTouchMove:function(u){for(var v=this.pointers,g=[],y=0;y<u.changedTouches.length;y++)for(var m=u.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===m.identifier){var E=document.elementFromPoint(m.clientX,m.clientY),C=E===this.canvas;!this.isOver&&C?this.setCanvasOver(u):this.isOver&&!C&&this.setCanvasOut(u),this.isOver&&(S.touchmove(m,u),this.activePointer=S,g.push(S));break}}this.updateInputPlugins(p.TOUCH_MOVE,g)},onTouchEnd:function(u){for(var v=this.pointers,g=[],y=0;y<u.changedTouches.length;y++)for(var m=u.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===m.identifier){S.touchend(m,u),g.push(S);break}}this.updateInputPlugins(p.TOUCH_END,g)},onTouchCancel:function(u){for(var v=this.pointers,g=[],y=0;y<u.changedTouches.length;y++)for(var m=u.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===m.identifier){S.touchcancel(m,u),g.push(S);break}}this.updateInputPlugins(p.TOUCH_CANCEL,g)},onMouseDown:function(u){var v=this.mousePointer;v.down(u),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(u){var v=this.mousePointer;v.move(u),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(u){var v=this.mousePointer;v.up(u),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(u){var v=this.mousePointer;v.wheel(u),this.activePointer=v,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(u){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(s.POINTERLOCK_CHANGE,u,v)},inputCandidate:function(u,v){var g=u.input;if(!g||!g.enabled||!u.willRender(v))return!1;var y=!0,m=u.parentContainer;if(m)do{if(!m.willRender(v)){y=!1;break}m=m.parentContainer}while(m);return y},hitTest:function(u,v,g,y){y===void 0&&(y=this._tempHitTest);var m=this._tempPoint,T=g.scrollX,S=g.scrollY;y.length=0;var E=u.x,C=u.y;g.getWorldPoint(E,C,m),u.worldX=m.x,u.worldY=m.y;for(var w={x:0,y:0},A=this._tempMatrix,P=this._tempMatrix2,M=0;M<v.length;M++){var R=v[M];if(this.inputCandidate(R,g)){var I=m.x+T*R.scrollFactorX-T,D=m.y+S*R.scrollFactorY-S;R.parentContainer?(R.getWorldTransformMatrix(A,P),A.applyInverse(I,D,w)):f(I,D,R.x,R.y,R.rotation,R.scaleX,R.scaleY,w),this.pointWithinHitArea(R,w.x,w.y)&&y.push(R)}}return y},pointWithinHitArea:function(u,v,g){v+=u.displayOriginX,g+=u.displayOriginY;var y=u.input;return y&&y.hitAreaCallback(y.hitArea,v,g,u)?(y.localX=v,y.localY=g,!0):!1},pointWithinInteractiveObject:function(u,v,g){return u.hitArea?(v+=u.gameObject.displayOriginX,g+=u.gameObject.displayOriginY,u.localX=v,u.localY=g,u.hitAreaCallback(u.hitArea,v,g,u)):!1},transformPointer:function(u,v,g,y){var m=u.position,T=u.prevPosition;T.x=m.x,T.y=m.y;var S=this.scaleManager.transformX(v),E=this.scaleManager.transformY(g),C=u.smoothFactor;!y||C===0?(m.x=S,m.y=E):(m.x=S*C+T.x*(1-C),m.y=E*C+T.y*(1-C))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var u=0;u<this.pointers.length;u++)this.pointers[u].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=d},48205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=t(87902),o=t(83419),s=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),i=t(81154),h=t(8214),f=t(50792),d=t(95540),u=t(23777),v=t(89639),g=t(41212),y=t(37277),m=t(87841),T=t(37303),S=t(44594),E=t(16483),C=t(10690),w=new o({Extends:f,initialize:function(P){f.call(this),this.scene=P,this.systems=P.sys,this.settings=P.sys.settings,this.manager=P.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var M={cancelled:!1};this._eventContainer={stopPropagation:function(){M.cancelled=!0}},this._eventData=M,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,P.sys.events.once(S.BOOT,this.boot,this),P.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var A=this.systems.events;A.on(S.TRANSITION_START,this.transitionIn,this),A.on(S.TRANSITION_OUT,this.transitionOut,this),A.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(S.PRE_UPDATE,this.preUpdate,this),A.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(A){this.isActive()&&this.emit(h.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(h.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var A=this._pendingRemoval,P=this._pendingInsertion,M=A.length,R=P.length;if(!(M===0&&R===0)){for(var I=this._list,D=0;D<M;D++){var Y=A[D],B=I.indexOf(Y);B>-1&&(I.splice(B,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=I.concat(P.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(A){this.manager&&this.manager.setCursor(A)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(A,P){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,A,P),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var M,R=this.manager,I=R.pointers;for(M=0;M<I.length;M++)I[M].updateMotion();if(this._list.length===0)return!1;var D=this.pollRate;if(D===-1)return!1;if(D>0)if(this._pollTimer-=P,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(M=0;M<I.length;M++){var B=0,O=I[M];this._tempZones=[],this._temp=this.hitTestPointer(O),this.sortGameObjects(this._temp,O),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B+=this.processOverOutEvents(O),this.getDragState(O)===2&&this.processDragThresholdEvent(O,A),B>0&&(Y=!0)}return Y},update:function(A,P){if(!this.isActive())return!1;for(var M=!1,R=0;R<P.length;R++){var I=0,D=P[R];switch(this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case s.MOUSE_DOWN:I+=this.processDragDownEvent(D),I+=this.processDownEvents(D),I+=this.processOverOutEvents(D);break;case s.MOUSE_UP:I+=this.processDragUpEvent(D),I+=this.processUpEvents(D),I+=this.processOverOutEvents(D);break;case s.TOUCH_START:I+=this.processDragDownEvent(D),I+=this.processDownEvents(D),I+=this.processOverEvents(D);break;case s.TOUCH_END:case s.TOUCH_CANCEL:I+=this.processDragUpEvent(D),I+=this.processUpEvents(D),I+=this.processOutEvents(D);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:I+=this.processDragMoveEvent(D),I+=this.processMoveEvents(D),I+=this.processOverOutEvents(D);break;case s.MOUSE_WHEEL:I+=this.processWheelEvent(D);break}I>0&&(M=!0)}return this._updatedThisFrame=!0,M},clear:function(A,P){P===void 0&&(P=!1),this.disable(A);var M=A.input;M&&(this.removeDebug(A),this.manager.resetCursor(M),M.gameObject=void 0,M.target=void 0,M.hitArea=void 0,M.hitAreaCallback=void 0,M.callbackContext=void 0,A.input=null),P||this.queueForRemoval(A);var R=this._draggable.indexOf(A);return R>-1&&this._draggable.splice(R,1),A},disable:function(A,P){P===void 0&&(P=!1);var M=A.input;M&&(M.enabled=!1,M.dragState=0);for(var R=this._drag,I=this._over,D=this.manager,Y=0,B;Y<D.pointers.length;Y++)B=R[Y].indexOf(A),B>-1&&R[Y].splice(B,1),B=I[Y].indexOf(A),B>-1&&I[Y].splice(B,1);return P&&this.resetCursor(),this},enable:function(A,P,M,R){return R===void 0&&(R=!1),A.input?A.input.enabled=!0:this.setHitArea(A,P,M),A.input&&R&&!A.input.dropZone&&(A.input.dropZone=R),this},hitTestPointer:function(A){for(var P=this.cameras.getCamerasBelowPointer(A),M=0;M<P.length;M++){for(var R=P[M],I=this.manager.hitTest(A,this._list,R),D=0;D<I.length;D++){var Y=I[D];Y.input.dropZone&&this._tempZones.push(Y)}if(I.length>0)return A.camera=R,I}return A.camera=P[0],[]},processDownEvents:function(A){var P=0,M=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var D=0;D<M.length;D++){var Y=M[D];if(!(!Y.input||!Y.input.enabled)&&(P++,Y.emit(h.GAMEOBJECT_POINTER_DOWN,A,Y.input.localX,Y.input.localY,I),R.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(h.GAMEOBJECT_DOWN,A,Y,I),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&(A.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,A,M):this.emit(h.POINTER_DOWN_OUTSIDE,A)),P},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,P){this._dragState[A.id]=P},processDragThresholdEvent:function(A,P){var M=!1,R=this.dragTimeThreshold,I=this.dragDistanceThreshold;if((I>0&&n(A.x,A.y,A.downX,A.downY)>=I||R>0&&P>=A.downTime+R)&&(M=!0),M)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;var P=this._drag[A.id];P.length>1&&(P=P.slice(0));for(var M=0;M<P.length;M++){var R=P[M],I=R.input;I.dragState=2,I.dragStartX=R.x,I.dragStartY=R.y,I.dragStartXGlobal=A.worldX,I.dragStartYGlobal=A.worldY,I.dragStartCamera=A.camera,I.dragX=I.dragStartXGlobal-I.dragStartX,I.dragY=I.dragStartYGlobal-I.dragStartY,R.emit(h.GAMEOBJECT_DRAG_START,A,I.dragX,I.dragY),this.emit(h.DRAG_START,A,R)}return this.setDragState(A,4),P.length},processDragDownEvent:function(A){var P=this._temp;if(this._draggable.length===0||P.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var M=[],R=0;R<P.length;R++){var I=P[R];I.input.draggable&&I.input.dragState===0&&M.push(I)}return M.length===0?(this.setDragState(A,0),0):(M.length>1&&(this.sortGameObjects(M,A),this.topOnly&&M.splice(1)),this._drag[A.id]=M,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;var P=this._tempZones,M=this._drag[A.id];M.length>1&&(M=M.slice(0));for(var R=0;R<M.length;R++){var I=M[R],D=I.input,Y=D.target;if(Y){var B=P.indexOf(Y);B===0?(I.emit(h.GAMEOBJECT_DRAG_OVER,A,Y),this.emit(h.DRAG_OVER,A,I,Y)):B>0?(I.emit(h.GAMEOBJECT_DRAG_LEAVE,A,Y),this.emit(h.DRAG_LEAVE,A,I,Y),D.target=P[0],Y=D.target,I.emit(h.GAMEOBJECT_DRAG_ENTER,A,Y),this.emit(h.DRAG_ENTER,A,I,Y)):(I.emit(h.GAMEOBJECT_DRAG_LEAVE,A,Y),this.emit(h.DRAG_LEAVE,A,I,Y),P[0]?(D.target=P[0],Y=D.target,I.emit(h.GAMEOBJECT_DRAG_ENTER,A,Y),this.emit(h.DRAG_ENTER,A,I,Y)):D.target=null)}else!Y&&P[0]&&(D.target=P[0],Y=D.target,I.emit(h.GAMEOBJECT_DRAG_ENTER,A,Y),this.emit(h.DRAG_ENTER,A,I,Y));var O,N,L=A.positionToCamera(D.dragStartCamera);if(!I.parentContainer)O=L.x-D.dragX,N=L.y-D.dragY;else{var W=L.x-D.dragStartXGlobal,F=L.y-D.dragStartYGlobal,U=I.getParentRotation(),Z=W*Math.cos(U)+F*Math.sin(U),J=F*Math.cos(U)-W*Math.sin(U);Z*=1/I.parentContainer.scaleX,J*=1/I.parentContainer.scaleY,O=Z+D.dragStartX,N=J+D.dragStartY}I.emit(h.GAMEOBJECT_DRAG,A,O,N),this.emit(h.DRAG,A,I,O,N)}return M.length},processDragUpEvent:function(A){var P=this._drag[A.id];P.length>1&&(P=P.slice(0));for(var M=0;M<P.length;M++){var R=P[M],I=R.input;if(I&&I.dragState===2){I.dragState=0,I.dragX=I.localX-R.displayOriginX,I.dragY=I.localY-R.displayOriginY,I.dragStartCamera=null;var D=!1,Y=I.target;Y&&(R.emit(h.GAMEOBJECT_DROP,A,Y),this.emit(h.DROP,A,R,Y),I.target=null,D=!0),R.input&&R.input.enabled&&(R.emit(h.GAMEOBJECT_DRAG_END,A,I.dragX,I.dragY,D),this.emit(h.DRAG_END,A,R,D))}}return this.setDragState(A,0),P.splice(0),0},processMoveEvents:function(A){var P=0,M=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var D=0;D<M.length;D++){var Y=M[D];if(!(!Y.input||!Y.input.enabled)&&(P++,Y.emit(h.GAMEOBJECT_POINTER_MOVE,A,Y.input.localX,Y.input.localY,I),R.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(h.GAMEOBJECT_MOVE,A,Y,I),R.cancelled||!this.isActive()||this.topOnly)))break}return!R.cancelled&&this.isActive()&&this.emit(h.POINTER_MOVE,A,M),P},processWheelEvent:function(A){var P=0,M=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var D=A.deltaX,Y=A.deltaY,B=A.deltaZ,O=0;O<M.length;O++){var N=M[O];if(!(!N.input||!N.input.enabled)&&(P++,N.emit(h.GAMEOBJECT_POINTER_WHEEL,A,D,Y,B,I),R.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(h.GAMEOBJECT_WHEEL,A,N,D,Y,B,I),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&this.emit(h.POINTER_WHEEL,A,M,D,Y,B),P},processOverEvents:function(A){var P=this._temp,M=0,R=P.length,I=[];if(R>0){var D=this.manager,Y=this._eventData,B=this._eventContainer;Y.cancelled=!1;for(var O=0;O<R;O++){var N=P[O];if(!(!N.input||!N.input.enabled)&&(I.push(N),D.setCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OVER,A,N.input.localX,N.input.localY,B),M++,Y.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,A,N,B),Y.cancelled||!this.isActive())))break}!Y.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,A,I)}return this._over[A.id]=I,M},processOutEvents:function(A){var P=this._over[A.id],M=0,R=P.length;if(R>0){var I=this.manager,D=this._eventData,Y=this._eventContainer;D.cancelled=!1,this.sortGameObjects(P,A);for(var B=0;B<R;B++){var O=P[B];if(O=P[B],!(!O.input||!O.input.enabled)&&(I.resetCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OUT,A,Y),M++,D.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,A,O,Y),D.cancelled||!this.isActive())))break}!D.cancelled&&this.isActive()&&this.emit(h.POINTER_OUT,A,P),this._over[A.id]=[]}return M},processOverOutEvents:function(A){var P=this._temp,M,R,I=[],D=[],Y=[],B=this._over[A.id],O=this._drag[A.id],N=this.manager;for(M=0;M<B.length;M++)R=B[M],P.indexOf(R)===-1&&O.indexOf(R)===-1?I.push(R):Y.push(R);for(M=0;M<P.length;M++)R=P[M],B.indexOf(R)===-1&&D.push(R);var L=I.length,W=0,F=this._eventData,U=this._eventContainer;if(F.cancelled=!1,L>0){for(this.sortGameObjects(I,A),M=0;M<L&&(R=I[M],!(!(!R.input||!R.input.enabled)&&(N.resetCursor(R.input),R.emit(h.GAMEOBJECT_POINTER_OUT,A,U),W++,F.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,A,R,U),F.cancelled||!this.isActive()))));M++);(!F.cancelled||this.isActive())&&this.emit(h.POINTER_OUT,A,I)}if(L=D.length,F.cancelled=!1,L>0){for(this.sortGameObjects(D,A),M=0;M<L&&(R=D[M],!(!(!R.input||!R.input.enabled)&&(N.setCursor(R.input),R.emit(h.GAMEOBJECT_POINTER_OVER,A,R.input.localX,R.input.localY,U),W++,F.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,A,R,U),F.cancelled||!this.isActive()))));M++);!F.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,A,D)}return B=Y.concat(D),this._over[A.id]=this.sortGameObjects(B,A),W},processUpEvents:function(A){var P=this._temp,M=this._eventData,R=this._eventContainer;M.cancelled=!1;for(var I=0;I<P.length;I++){var D=P[I];if(!(!D.input||!D.input.enabled)&&(D.emit(h.GAMEOBJECT_POINTER_UP,A,D.input.localX,D.input.localY,R),M.cancelled||!this.isActive()||D.input&&D.input.enabled&&(this.emit(h.GAMEOBJECT_UP,A,D,R),M.cancelled||!this.isActive())))break}return!M.cancelled&&this.isActive()&&(A.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,A,P):this.emit(h.POINTER_UP_OUTSIDE,A)),P.length},forceDownState:function(A,P){this.forceState(A,P,h.GAMEOBJECT_POINTER_DOWN,h.GAMEOBJECT_DOWN,!1)},forceUpState:function(A,P){this.forceState(A,P,h.GAMEOBJECT_POINTER_UP,h.GAMEOBJECT_UP,!1)},forceOverState:function(A,P){this.forceState(A,P,h.GAMEOBJECT_POINTER_OVER,h.GAMEOBJECT_OVER,!0)},forceOutState:function(A,P){this.forceState(A,P,h.GAMEOBJECT_POINTER_OUT,h.GAMEOBJECT_OUT,!1)},forceState:function(A,P,M,R,I){var D=this._eventData,Y=this._eventContainer;D.cancelled=!1,P.input&&P.input.enabled&&(P.emit(M,A,P.input.localX,P.input.localY,Y),I&&this.setCursor(P.input),!D.cancelled&&this.isActive()&&P.input&&P.input.enabled&&this.emit(R,A,P,Y))},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,P){P===void 0&&(P=!0),Array.isArray(A)||(A=[A]);for(var M=0;M<A.length;M++){var R=A[M];R.input.draggable=P;var I=this._draggable.indexOf(R);P&&I===-1?this._draggable.push(R):!P&&I>-1&&this._draggable.splice(I,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var P=this.systems.textures;return e(P,A)},setHitArea:function(A,P,M){if(P===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var R=!1,I=!1,D=!1,Y=!1,B=!1,O=!0;if(g(P)&&Object.keys(P).length){var N=P,L=A.some(function(J){return J.hasOwnProperty("faces")});if(!L){P=d(N,"hitArea",null),M=d(N,"hitAreaCallback",null),B=d(N,"pixelPerfect",!1);var W=d(N,"alphaTolerance",1);B&&(P={},M=this.makePixelPerfect(W))}R=d(N,"draggable",!1),I=d(N,"dropZone",!1),D=d(N,"cursor",!1),Y=d(N,"useHandCursor",!1),(!P||!M)&&(this.setHitAreaFromTexture(A),O=!1)}else typeof P=="function"&&!M&&(M=P,P={});for(var F=0;F<A.length;F++){var U=A[F];if(B&&U.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Z=U.input?U.input:r(U,P,M);Z.customHitArea=O,Z.dropZone=I,Z.cursor=Y?"pointer":D,U.input=Z,R&&this.setDraggable(U),this.queueForInsertion(U)}return this},setHitAreaCircle:function(A,P,M,R,I){I===void 0&&(I=p);var D=new a(P,M,R);return this.setHitArea(A,D,I)},setHitAreaEllipse:function(A,P,M,R,I,D){D===void 0&&(D=i);var Y=new l(P,M,R,I);return this.setHitArea(A,Y,D)},setHitAreaFromTexture:function(A,P){P===void 0&&(P=T),Array.isArray(A)||(A=[A]);for(var M=0;M<A.length;M++){var R=A[M],I=R.frame,D=0,Y=0;if(R.width?(D=R.width,Y=R.height):I&&(D=I.realWidth,Y=I.realHeight),R.type==="Container"&&(D===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}D!==0&&Y!==0&&(R.input=r(R,new m(0,0,D,Y),P),this.queueForInsertion(R))}return this},setHitAreaRectangle:function(A,P,M,R,I,D){D===void 0&&(D=T);var Y=new m(P,M,R,I);return this.setHitArea(A,Y,D)},setHitAreaTriangle:function(A,P,M,R,I,D,Y,B){B===void 0&&(B=C);var O=new E(P,M,R,I,D,Y);return this.setHitArea(A,O,B)},enableDebug:function(A,P){P===void 0&&(P=65280);var M=A.input;if(!M||!M.hitArea)return this;var R=M.hitArea,I=R.type,D=M.hitAreaDebug,Y=this.systems.add,B=this.systems.updateList;D&&(B.remove(D),D.destroy(),D=null);var O=0,N=0;switch(I){case u.CIRCLE:D=Y.arc(0,0,R.radius),O=R.x-R.radius,N=R.y-R.radius;break;case u.ELLIPSE:D=Y.ellipse(0,0,R.width,R.height),O=R.x-R.width/2,N=R.y-R.height/2;break;case u.LINE:D=Y.line(0,0,R.x1,R.y1,R.x2,R.y2);break;case u.POLYGON:D=Y.polygon(0,0,R.points);break;case u.RECTANGLE:D=Y.rectangle(0,0,R.width,R.height),O=R.x,N=R.y;break;case u.TRIANGLE:D=Y.triangle(0,0,R.x1,R.y1,R.x2,R.y2,R.x3,R.y3);break}return D&&(D.isFilled=!1,D.strokeColor=P,D.preUpdate=function(){D.setVisible(A.visible),D.setStrokeStyle(1/A.scale,D.strokeColor),D.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var L=A.x,W=A.y,F=A.rotation,U=A.scaleX,Z=A.scaleY;if(A.parentContainer){var J=A.getWorldTransformMatrix();L=J.tx,W=J.ty,F=J.rotation,U=J.scaleX,Z=J.scaleY}D.setRotation(F),D.setScale(U,Z),D.setPosition(L+O*U,W+N*Z),D.setScrollFactor(A.scrollFactorX,A.scrollFactorY),D.setDepth(A.depth)},B.add(D),M.hitAreaDebug=D),this},removeDebug:function(A){var P=A.input;if(P&&P.hitAreaDebug){var M=P.hitAreaDebug;M.destroy(),P.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A,P){if(A.length<2||!P.camera)return A;var M=P.camera.renderList;return A.sort(function(R,I){var D=Math.max(M.indexOf(R),0),Y=Math.max(M.indexOf(I),0);return Y-D})},sortDropZones:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(A,P){if(!A.parentContainer&&!P.parentContainer)return this.displayList.getIndex(P)-this.displayList.getIndex(A);if(A.parentContainer===P.parentContainer)return P.parentContainer.getIndex(P)-A.parentContainer.getIndex(A);if(A.parentContainer===P)return-1;if(P.parentContainer===A)return 1;for(var M=A.getIndexList(),R=P.getIndexList(),I=Math.min(M.length,R.length),D=0;D<I;D++){var Y=M[D],B=R[D];if(Y!==B)return B-Y}return R.length-M.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var P=this.manager;P.canvas.style.cursor=P.defaultCursor;var M=this.systems.events;M.off(S.TRANSITION_START,this.transitionIn,this),M.off(S.TRANSITION_OUT,this.transitionOut,this),M.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),M.off(S.PRE_UPDATE,this.preUpdate,this),P.events.off(h.GAME_OUT,this.onGameOut,this),P.events.off(h.GAME_OVER,this.onGameOver,this),M.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,P=0;P<A.length;P++)A[P].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",w,"input"),c.exports=w},89639:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p={},o={};o.register=function(s,r,e,n,l){p[s]={plugin:r,mapping:e,settingsKey:n,configKey:l}},o.getPlugin=function(s){return p[s]},o.install=function(s){var r=s.scene.sys,e=r.settings.input,n=r.game.config;for(var l in p){var i=p[l].plugin,h=p[l].mapping,f=p[l].settingsKey,d=p[l].configKey;a(e,f,n[d])&&(s[h]=new i(s))}},o.remove=function(s){p.hasOwnProperty(s)&&delete p[s]},c.exports=o},42515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31040),p=t(83419),o=t(20339),s=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new p({initialize:function(h,f){this.manager=h,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,f=this.midPoint.x,d=this.midPoint.y;if(!(i===f&&h===d)){var u=r(this.motionFactor,f,i),v=r(this.motionFactor,d,h);s(u,i,.1)&&(u=i),s(v,h,.1)&&(v=h),this.midPoint.set(u,v);var g=i-u,y=h-v;this.velocity.set(g,y),this.angle=a(u,v,i,h),this.distance=Math.sqrt(g*g+y*y)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var f=this.prevPosition.x,d=this.prevPosition.y,u=this.position.x,v=this.position.y,g=0;g<i;g++){var y=1/i*g;h[g]={x:r(y,f,u),y:r(y,d,v)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=x},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=p},28884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92734),o=new a({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=o},99125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97421),p=t(28884),o=t(83419),s=t(50792),r=t(26099),e=new o({Extends:s,initialize:function(l,i){s.call(this),this.manager=l,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],f=0;f<i.buttons.length;f++)h.push(new p(this,f));this.buttons=h;var d=[];for(f=0;f<i.axes.length;f++)d.push(new a(this,f));this.axes=d,this.vibration=i.vibrationActuator;var u={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:u,this._LCRight=h[15]?h[15]:u,this._LCTop=h[12]?h[12]:u,this._LCBottom=h[13]?h[13]:u,this._RCLeft=h[2]?h[2]:u,this._RCRight=h[1]?h[1]:u,this._RCTop=h[3]?h[3]:u,this._RCBottom=h[0]?h[0]:u,this._FBLeftTop=h[4]?h[4]:u,this._FBLeftBottom=h[6]?h[6]:u,this._FBRightTop=h[5]?h[5]:u,this._FBRightBottom=h[7]?h[7]:u;var v={value:0};this._HAxisLeft=d[0]?d[0]:v,this._VAxisLeft=d[1]?d[1]:v,this._HAxisRight=d[2]?d[2]:v,this._VAxisRight=d[3]?d[3]:v,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,i=this.buttons,h=n.buttons,f=i.length;for(l=0;l<f;l++)i[l].update(h[l].value);var d=this.axes,u=n.axes;for(f=d.length,l=0;l<f;l++)d[l].update(u[l]);f>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),f>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(92734),s=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new a({Extends:p,initialize:function(h){p.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(n.BOOT,this.boot,this),h.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,f=i.config;this.enabled=r(h,"gamepad",f.inputGamepad)&&i.device.input.gamepads,this.target=r(h,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,f=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=f,h.addEventListener("gamepadconnected",f,!1),h.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,f=0;f<i.length;f++){var d=i[f];if(d){var u=d.id,v=d.index,g=h[v];if(g)g.id!==u?(g.destroy(),h[v]=new s(this,d)):g.update(d);else{var y=new s(this,d);h[v]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var i=[],h=this.gamepads,f=0;f<h.length;f++)h[f]&&i.push(h[f]);return i},getPad:function(i){for(var h=this.gamepads,f=0;f<h.length;f++)if(h[f]&&h[f].index===i)return h[f]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),f=0;f<i;f++){var d=h[f],u=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(o.CONNECTED,u,d):d.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,u,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93301),p=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=p(!1,o,a),c.exports=o},78970:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(83419),o=t(8443),s=t(8214),r=t(46032),e=t(29747),n=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),i.indexOf(f)===-1&&i.push(f)}this.preventDefault=i.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=r[f.toUpperCase()]),a(i,f)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(95922),s=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),i=t(46032),h=t(87960),f=t(74600),d=t(44594),u=t(56583),v=new a({Extends:p,initialize:function(y){p.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(e.BOOT,this.boot,this),y.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=r(g,"keyboard",!0);var y=r(g,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,y,m){y===void 0&&(y=!0),m===void 0&&(m=!1);var T={};if(typeof g=="string"){g=g.split(",");for(var S=0;S<g.length;S++){var E=g[S].trim();E&&(T[E]=this.addKey(E,y,m))}}else for(var C in g)T[C]=this.addKey(g[C],y,m);return T},addKey:function(g,y,m){y===void 0&&(y=!0),m===void 0&&(m=!1);var T=this.keys;if(g instanceof l){var S=T.indexOf(g);return S>-1?T[S]=g:T[g.keyCode]=g,y&&this.addCapture(g.keyCode),g.setEmitOnRepeat(m),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),T[g]||(T[g]=new l(this,g),y&&this.addCapture(g),T[g].setEmitOnRepeat(m)),T[g]},removeKey:function(g,y,m){y===void 0&&(y=!1),m===void 0&&(m=!1);var T=this.keys,S;if(g instanceof l){var E=T.indexOf(g);E>-1&&(S=this.keys[E],this.keys[E]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return T[g]&&(S=T[g],T[g]=void 0),S&&(S.plugin=null,m&&this.removeCapture(S.keyCode),y&&S.destroy()),this},removeAllKeys:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);for(var m=this.keys,T=0;T<m.length;T++){var S=m[T];S&&(m[T]=void 0,y&&this.removeCapture(S.keyCode),g&&S.destroy())}return this},createCombo:function(g,y){return new h(this,g,y)},checkDown:function(g,y){if(y===void 0&&(y=0),this.enabled&&g.isDown){var m=u(this.time-g.timeDown,y);if(m>g._tick)return g._tick=m,!0}return!1},update:function(){var g=this.manager.queue,y=g.length;if(!(!this.isActive()||y===0))for(var m=this.keys,T=0;T<y;T++){var S=g[T],E=S.keyCode,C=m[E],w=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(E===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=E,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(C&&(w=C.isDown,C.onDown(S)),!S.cancelled&&(!C||!w)&&(f[E]&&this.emit(o.KEY_DOWN+f[E],S),S.cancelled||this.emit(o.ANY_KEY_DOWN,S))):(C&&C.onUp(S),S.cancelled||(f[E]&&this.emit(o.KEY_UP+f[E],S),S.cancelled||this.emit(o.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),c.exports=v},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};c.exports=x},87960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95922),o=t(95540),s=t(68769),r=t(92803),e=new a({initialize:function(l,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<i.length;f++){var d=i[f];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(h,"resetOnWrongKey",!0),this.maxKeyDelay=o(h,"maxKeyDelay",0),this.resetOnMatch=o(h,"resetOnMatch",!1),this.deleteOnMatch=o(h,"deleteOnMatch",!1);var u=this,v=function(g){if(!(u.matched||!u.enabled)){var y=s(g,u);y&&(u.manager.emit(p.COMBO_MATCH,u,g),u.resetOnMatch?r(u):u.deleteOnMatch&&u.destroy())}};this.onKeyDown=v,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66970),p=function(o,s){if(s.matched)return!0;var r=!1,e=!1;if(o.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;o.timeStamp<=n&&(e=!0,r=a(o,s))}else e=!0,r=a(o,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=o.timeStamp,s.matched=!0,s.timeMatched=o.timeStamp),r};c.exports=p},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=x},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<a};c.exports=x},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=x},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=x},30472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(95922),s=new a({Extends:p,initialize:function(e,n){p.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=s},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=x},74600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(46032),p={};for(var o in a)p[a[o]]=o;c.exports=p},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<a};c.exports=x},85098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89357),o=t(8214),s=t(29747),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,i=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){h&&window.focus(),!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(d),n.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==i&&l.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(d),n.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==i&&l.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(d),n.preventDefaultWheel&&d.target===i&&d.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(d){var u=n.target;n.locked=document.pointerLockElement===u||document.mozPointerLockElement===u||document.webkitPointerLockElement===u,l.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},87078:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8214),o=t(29747),s=new a({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(u),e.capture&&u.cancelable&&u.preventDefault())},this.onTouchStart=function(u){i&&window.focus(),!u.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(u),e.capture&&u.cancelable&&u.target===l&&u.preventDefault())},this.onTouchStartWindow=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&u.target!==l&&n.onTouchStart(u)},this.onTouchEnd=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(u),e.capture&&u.cancelable&&u.target===l&&u.preventDefault())},this.onTouchEndWindow=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&u.target!==l&&n.onTouchEnd(u)},this.onTouchCancel=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(u),e.capture&&u.preventDefault())},this.onTouchCancelWindow=function(u){!u.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(u)};var h=this.capture,f={passive:!0},d={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,h?d:f),r.addEventListener("touchmove",this.onTouchMove,h?d:f),r.addEventListener("touchend",this.onTouchEnd,h?d:f),r.addEventListener("touchcancel",this.onTouchCancel,h?d:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=s},95618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(54899),s=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),i=new a({initialize:function(f,d){if(this.loader=f,this.cache=s(d,"cache",!1),this.type=s(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(d,"key",!1);var u=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+u),!this.key)throw new Error("Invalid File key: "+this.key);var v=s(d,"url");v===void 0?v=f.path+u+"."+s(d,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=f.path+v),this.url=v,this.src="",this.xhrSettings=l(s(d,"responseType",void 0)),s(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof v=="string"&&v.indexOf("data:")===0,this.retryAttempts=s(d,"maxRetries",f.maxRetries)},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(h,f){var d=h.responseURL&&this.loader.localSchemes.some(function(g){return h.responseURL.indexOf(g)===0}),u=d&&f.target.status===0,v=!(f.target&&f.target.status!==200)||u;h.readyState===4&&h.status>=400&&h.status<=599&&(v=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onBase64Load:function(h){this.xhrLoader=h,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==p.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var f=this.key,d=this.type;this.loader.emit(o.FILE_COMPLETE,f,d,h),this.loader.emit(o.FILE_KEY_COMPLETE+d+"-"+f,f,d,h),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,f,d){if(typeof URL=="function")h.src=URL.createObjectURL(f);else{var u=new FileReader;u.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(f.type||d)+";base64,"+u.result.split(",")[1]},u.onerror=h.onerror,u.readAsDataURL(f)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},c.exports=i},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={install:function(a){for(var p in x)a[p]=x[p]},register:function(a,p){x[a]=p},destroy:function(){x={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};c.exports=x},74261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(35072),s=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),i=t(41212),h=t(37277),f=t(44594),d=t(92638),u=new a({Extends:s,initialize:function(g){s.call(this);var y=g.sys.game.config,m=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(m,"baseURL",y.loaderBaseURL)),this.setPath(n(m,"path",y.loaderPath)),this.setPrefix(n(m,"prefix",y.loaderPrefix)),this.maxParallelDownloads=n(m,"maxParallelDownloads",y.loaderMaxParallelDownloads),this.xhr=d(n(m,"responseType",y.loaderResponseType),n(m,"async",y.loaderAsync),n(m,"user",y.loaderUser),n(m,"password",y.loaderPassword),n(m,"timeout",y.loaderTimeout),n(m,"withCredentials",y.loaderWithCredentials)),this.crossOrigin=n(m,"crossOrigin",y.loaderCrossOrigin),this.imageLoadType=n(m,"imageLoadType",y.loaderImageLoadType),this.localSchemes=n(m,"localScheme",y.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(m,"maxRetries",y.loaderMaxRetries),g.sys.events.once(f.BOOT,this.boot,this),g.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var y=v[g];this.keyExists(y)||(this.list.set(y),this.emit(r.ADD,y.key,y.type,this,y),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var g=v.hasCacheConflict();return g||this.list.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),this.queue.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1})),g},addPack:function(v,g){if(typeof g=="string"){var y=l(v,g);y&&(v={packKey:y})}var m=0,T=this.baseURL,S=this.path,E=this.prefix;for(var C in v)if(Object.prototype.hasOwnProperty.call(v,C)){var w=v[C],A=n(w,"baseURL",T),P=n(w,"path",S),M=n(w,"prefix",E),R=n(w,"files",null),I=n(w,"defaultType","void");if(Array.isArray(R)){this.setBaseURL(A),this.setPath(P),this.setPrefix(M);for(var D=0;D<R.length;D++){var Y=R[D],B=Y.hasOwnProperty("type")?Y.type:I;this[B]&&(this[B](Y),m++)}}}return this.setBaseURL(T),this.setPath(S),this.setPrefix(E),m>0},removePack:function(v,g){var y=this.systems.anims,m=this.cacheManager,T=this.textureManager,S={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},E;if(i(v))E=v;else if(E=m.json.get(v),!E){console.warn("Asset Pack not found in JSON cache:",v);return}g&&(E={_:E[g]});for(var C in E){var w=E[C],A=n(w,"prefix",""),P=n(w,"files"),M=n(w,"defaultType");if(Array.isArray(P))for(var R=0;R<P.length;R++){var I=P[R],D=I.hasOwnProperty("type")?I.type:M;if(!D){console.warn("No type:",I);continue}var Y=A+I.key;if(D==="animation"&&y.remove(Y),!((D==="aseprite"||D==="atlas"||D==="atlasXML"||D==="htmlTexture"||D==="image"||D==="multiatlas"||D==="spritesheet"||D==="svg"||D==="texture"||D==="unityAtlas")&&(T.remove(Y),!S[D]))){if(D==="pack"){this.removePack(Y,I.dataKey);continue}if(D==="spine"){var B=m.custom.spine.get(Y);if(!B)continue;var O=B.prefix===void 0?"":B.prefix;m.custom.spine.remove(Y);var N=m.custom.spineTextures.get(Y);if(!N)continue;m.custom.spineTextures.remove(Y);for(var L=0;L<N.pages.length;L++){var W=N.pages[L],F=O+W.name,U=Y+":"+F;T.exists(U)?T.remove(U):T.remove(F)}}var Z=S[D];if(Z!==null){if(!Z){console.warn("Unknown type:",D);continue}var J=m[Z];J.remove(Y)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===p.FILE_POPULATED||v.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,g){this.inflight&&(this.inflight.delete(v),this.updateProgress(),g?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===p.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===p.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,g){return this.save(JSON.stringify(v),g)},save:function(v,g,y){g===void 0&&(g="file.json"),y===void 0&&(y="application/json");var m=new Blob([v],{type:y}),T=URL.createObjectURL(m),S=document.createElement("a");return S.download=g,S.textContent="Download "+g,S.href=T,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(n(g,"baseURL",v.loaderBaseURL)),this.setPath(n(g,"path",v.loaderPath)),this.setPrefix(n(g,"prefix",v.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",u,"load"),c.exports=u},3374:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(92638),o=function(s,r){var e=s===void 0?p():a({},s);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};c.exports=o},26430:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(54899),s=new a({initialize:function(e,n,l,i){var h=[];i.forEach(function(u){u&&h.push(u)}),this.loader=e,this.type=n,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=p.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<h.length;d++)h[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,r,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=s},84376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3374),p=function(o,s){var r=a(s,o.xhrSettings);if(o.base64){var e=o.url.split(";base64,").pop()||o.url.split(",").pop(),n;o.xhrSettings.responseType==="arraybuffer"?n={response:Uint8Array.from(atob(e),function(h){return h.charCodeAt(0)}).buffer}:n={responseText:atob(e)},o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var i in r.headers)l.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};c.exports=p},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),p===void 0&&(p=""),o===void 0&&(o=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:p,password:o,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};c.exports=x},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=x},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(54899),r=new a({Extends:o,initialize:function(n,l,i,h,f){o.call(this,n,l,i,h,f),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},76272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,d,u,v,g){var y,m;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),m=new e(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","json"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,d,v),m=new e(h,f,u,g);y.linkFile?n.call(this,h,"atlasjson",f,[y,m,y.linkFile]):n.call(this,h,"atlasjson",f,[y,m])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,f),h.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,h,f,d,u){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,d,u),this.addFile(v.files);return this}),c.exports=l},38734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,d,u,v,g){var y,m;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),m=new e(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","json"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,d,v),m=new e(h,f,u,g);y.linkFile?n.call(this,h,"atlasjson",f,[y,m,y.linkFile]):n.call(this,h,"atlasjson",f,[y,m])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,f),this.complete=!0}}});p.register("atlas",function(i,h,f,d,u){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,d,u),this.addFile(v.files);return this}),c.exports=l},74599:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new a({Extends:e,initialize:function(h,f,d,u,v,g){var y,m;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),m=new n(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","xml"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,d,v),m=new n(h,f,u,g);y.linkFile?e.call(this,h,"atlasxml",f,[y,m,y.linkFile]):e.call(this,h,"atlasxml",f,[y,m])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,f),this.complete=!0}}});p.register("atlasXML",function(i,h,f,d,u){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,d,u),this.addFile(v.files);return this}),c.exports=l},21097:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new a({Extends:o,initialize:function(h,f,d,u,v){if(n(f)){var g=f;f=r(g,"key"),u=r(g,"xhrSettings"),v=r(g,"context",v)}var y={type:"audio",cache:h.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:f,url:d.url,xhrSettings:u,config:{context:v}};o.call(this,h,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});l.create=function(i,h,f,d,u){var v=i.systems.game,g=v.config.audio,y=v.device.audio;n(h)&&(f=r(h,"url",[]),d=r(h,"config",{}));var m=l.getAudioURL(v,f);return m?y.webAudio&&!g.disableWebAudio?new l(i,h,m,u,v.sound.context):new e(i,h,m,d):(console.warn('No audio URLs for "%s" can play on this device',h),null)},l.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var d=r(h[f],"url",h[f]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var u=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(u=r(h[f],"type",u?u[1]:"").toLowerCase(),i.device.audio[u])return{url:d,type:u}}return null},s.register("audio",function(i,h,f,d){var u=this.systems.game,v=u.config.audio,g=u.device.audio;if(v.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(i))for(var m=0;m<i.length;m++)y=l.create(this,i[m]),y&&this.addFile(y);else y=l.create(this,i,h,f,d),y&&this.addFile(y);return this}),c.exports=l},89524:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21097),p=t(83419),o=t(74099),s=t(95540),r=t(41212),e=t(518),n=t(26430),l=new p({Extends:n,initialize:function(h,f,d,u,v,g,y){if(r(f)){var m=f;f=s(m,"key"),d=s(m,"jsonURL"),u=s(m,"audioURL"),v=s(m,"audioConfig"),g=s(m,"audioXhrSettings"),y=s(m,"jsonXhrSettings")}var T;if(!u)T=new e(h,f,d,y),n.call(this,h,"audiosprite",f,[T]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=g;else{var S=a.create(h,f,u,v,g);S&&(T=new e(h,f,d,y),n.call(this,h,"audiosprite",f,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var f=i.data.resources,d=s(this.config,"audioConfig"),u=s(this.config,"audioXhrSettings"),v=a.create(this.loader,i.key,f,d,u);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});o.register("audioSprite",function(i,h,f,d,u,v){var g=this.systems.game,y=g.config.audio,m=g.device.audio;if(y&&y.noAudio||!m.webAudio&&!m.audioData)return this;var T;if(Array.isArray(i))for(var S=0;S<i.length;S++)T=new l(this,i[S]),T.files&&this.addFile(T.files);else T=new l(this,i,h,f,d,u,v),T.files&&this.addFile(T.files);return this})},85722:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u){var v="bin";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v),u=r(g,"dataType",u)}var y={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:h,url:f,xhrSettings:d,config:{dataType:u}};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,i,h,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,f,h));return this}),c.exports=n},97025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),i=new a({Extends:e,initialize:function(f,d,u,v,g,y){var m,T;if(r(d)){var S=d;d=o(S,"key"),m=new s(f,{key:d,url:o(S,"textureURL"),extension:o(S,"textureExtension","png"),normalMap:o(S,"normalMap"),xhrSettings:o(S,"textureXhrSettings")}),T=new l(f,{key:d,url:o(S,"fontDataURL"),extension:o(S,"fontDataExtension","xml"),xhrSettings:o(S,"fontDataXhrSettings")})}else m=new s(f,d,u,g),T=new l(f,d,v,y);m.linkFile?e.call(this,f,"bitmapfont",d,[m,T,m.linkFile]):e.call(this,f,"bitmapfont",d,[m,T])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache();var d=h.cache.get(h.key),u=n(f.data,h.cache.getFrame(h.key),0,0,d);this.loader.cacheManager.bitmapFont.add(h.key,{data:u,texture:h.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(h,f,d,u,v){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new i(this,h[y]),this.addFile(g.files);else g=new i(this,h,f,d,u,v),this.addFile(g.files);return this}),c.exports=i},16024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d){var u="css";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),d=r(v,"xhrSettings"),u=r(v,"extension",u)}var g={type:"script",cache:!1,extension:u,responseType:"text",key:h,url:f,xhrSettings:d};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},69559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38734),p=t(85722),o=t(83419),s=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),i=t(31403),h=t(46975),f=t(59327),d=t(26430),u=t(82038),v=t(55222),g=new o({Extends:d,initialize:function(m,T,S,E){if(S.multiAtlasURL){var C=new l(m,{key:T,url:S.multiAtlasURL,xhrSettings:E,config:S});d.call(this,m,"texture",T,[C])}else{var w=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=w.toLowerCase()==="ktx"?"KTX":"PVR");var A=new p(m,{key:T,url:S.textureURL,extension:w,xhrSettings:E,config:S});if(S.atlasURL){var P=new l(m,{key:T,url:S.atlasURL,xhrSettings:E,config:S});d.call(this,m,"texture",T,[A,P])}else d.call(this,m,"texture",T,[A])}this.config=S},onFileComplete:function(y){var m=this.files.indexOf(y);if(m!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(y.type==="json"&&y.data.hasOwnProperty("textures")){var T=y.data.textures,S=this.config,E=this.loader,C=E.baseURL,w=E.path,A=E.prefix,P=r(S,"multiBaseURL",this.baseURL),M=r(S,"multiPath",this.path),R=r(S,"prefix",this.prefix),I=r(S,"textureXhrSettings");P&&E.setBaseURL(P),M&&E.setPath(M),R&&E.setPrefix(R);for(var D=0;D<T.length;D++){var Y=T[D].image,B="CMA"+this.multiKeyIndex+"_"+Y,O=new p(E,B,Y,I);if(this.addToMultiFile(O),E.addFile(O),T[D].normalMap){var N=new p(E,B,T[D].normalMap,I);N.type="normalMap",O.setLink(N),this.addToMultiFile(N),E.addFile(N)}}E.setBaseURL(C),E.setPath(w),E.setPrefix(A)}}},addToCache:function(){function y(P){console.warn('Compressed Texture Invalid: "'+C.key+'". '+P)}if(this.isReadyToProcess()){var m=this.config;if(m.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,S=this.loader.textureManager,E,C=this.files[0],w=this.files[1];if(m.type==="PVR"?E=u(C.data):m.type==="KTX"&&(E=i(C.data),E||y("KTX file contains unsupported format.")),E&&!v(E)&&(y("Texture dimensions failed verification. Check the texture format specifications for "+m.format+" 0x"+E.internalFormat.toString(16)+"."),E=null),E&&!T.supportsCompressedTexture(m.format,E.internalFormat)&&(y("Texture format "+m.format+" with internal format "+E.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),E=null),E){E.format=T.getCompressedTextureName(m.format,E.internalFormat);var A=w&&w.data?w.data:null;S.addCompressedTexture(C.key,E,A)}}this.complete=!0}},addMultiToCache:function(){for(var y=this.config,m=this.files[0],T=[],S=[],E=[],C=this.loader.systems.renderer,w=this.loader.textureManager,A,P=1;P<this.files.length;P++){var M=this.files[P];if(M.type!=="normalMap")for(var R=M.key.indexOf("_"),I=M.key.substr(R+1),D=M.data,Y=0;Y<m.data.textures.length;Y++){var B=m.data.textures[Y];if(B.image===I){y.type==="PVR"?A=u(D):y.type==="KTX"&&(A=i(D)),A&&C.supportsCompressedTexture(y.format,A.internalFormat)&&(A.format=C.getCompressedTextureName(y.format,A.internalFormat),S.push(A),T.push(B),M.linkFile&&E.push(M.linkFile.data));break}}}E.length===0&&(E=void 0),w.addAtlasJSONArray(this.key,S,T,E),this.complete=!0}});s.register("texture",function(y,m,T){var S=this.systems.renderer,E=function(w,A,P,M){var R={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(A)){var I=A;A=r(I,"key"),P=r(I,"url"),M=r(I,"xhrSettings")}var D=!1;for(var Y in P)if(S.supportsCompressedTexture(Y)){var B=P[Y];typeof B=="string"?R.textureURL=B:R=h(B,R),R.format=Y.toUpperCase(),D=!0;break}if(!D)console.warn("No supported compressed texture format or IMG fallback",A);else if(R.format==="IMG"){var O,N;R.multiAtlasURL?(N=new f(w,A,R.multiAtlasURL,R.multiPath,R.multiBaseURL,M),O=N.files):R.atlasURL?(N=new a(w,A,R.textureURL,R.atlasURL,M),O=N.files):O=new e(w,A,R.textureURL,M),w.addFile(O)}else{var L=new g(w,A,R,M);w.addFile(L.files)}};if(Array.isArray(y))for(var C=0;C<y.length;C++)E(this,y[C]);else E(this,y,m,T);return this}),c.exports=g},87674:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(98356),n=t(41212),l=new a({Extends:o,initialize:function(h,f,d,u,v,g){var y="ttf";if(n(f)){var m=f;f=r(m,"key"),d=r(m,"url"),u=r(m,"format","truetype"),v=r(m,"descriptors",null),g=r(m,"xhrSettings"),y=r(m,"extension",y)}else u===void 0&&(u="truetype");var T={type:"font",cache:!1,extension:y,responseType:"text",key:f,url:d,xhrSettings:g};o.call(this,h,T),this.data={format:u,descriptors:v},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,h=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(h,f,this.data.descriptors):i=new FontFace(h,f);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),d.onProcessComplete()})}});s.register("font",function(i,h,f,d,u){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,f,d,u));return this}),c.exports=l},47931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new a({Extends:o,initialize:function(h,f,d,u,v){var g="glsl";if(e(f)){var y=f;f=r(y,"key"),d=r(y,"url"),u=r(y,"shaderType","fragment"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}else u===void 0&&(u="fragment");var m={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:f,url:d,config:{shaderType:u},xhrSettings:v};o.call(this,h,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var f=this.getShaderName(h.header),d=this.getShaderType(h.header),u=this.getShaderUniforms(h.header),v=h.shader;if(this.cache.has(f)){var g=this.cache.get(f);d==="fragment"?g.fragmentSrc=v:g.vertexSrc=v,g.uniforms||(g.uniforms=u)}else d==="fragment"?this.cache.add(f,new n(f,v,"",u)):this.cache.add(f,new n(f,"",v,u));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var f=i[h].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var f=i[h].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},f=0;f<i.length;f++){var d=i[f].trim();if(d.substring(0,8)==="uniform."){var u=d.indexOf(":");if(u){var v=d.substring(8,u);try{h[v]=JSON.parse(d.substring(u+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return h},extractBlock:function(i,h){for(var f=-1,d=-1,u=-1,v=!1,g=!1,y=[],m=[],T=h;T<i.length;T++){var S=i[T].trim();if(S==="---")if(f===-1)f=T,v=!0;else if(v)d=T,v=!1,g=!0;else{g=!1;break}else v?y.push(S):g&&(m.push(S),u=T)}return!v&&d!==-1?{header:y,shader:m.join(`
`),offset:u}:null}});s.register("glsl",function(i,h,f,d){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new l(this,i[u]));else this.addFile(new l(this,i,h,f,d));return this}),c.exports=l},89749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(54899),o=t(41299),s=t(95540),r=t(98356),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d){if(e(h)){var u=h;h=s(u,"key"),d=s(u,"config",d)}var v={type:"audio",cache:i.cacheManager.audio,extension:f.type,key:h,url:f.url,config:d};o.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var i=this.data[l];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var i=l.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<l;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=r(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d){var u="html";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),d=r(v,"xhrSettings"),u=r(v,"extension",u)}var g={type:"text",cache:i.cacheManager.html,extension:u,responseType:"text",key:h,url:f,xhrSettings:d};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},14643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u,v){d===void 0&&(d=512),u===void 0&&(u=512);var g="html";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),d=r(y,"width",d),u=r(y,"height",u)}var m={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{width:d,height:u}};o.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+i+'px" viewBox="0 0 '+l+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var f=[h.join(`
`)],d=this;try{var u=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=p.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(d.data),d.onProcessError()},o.createObjectURL(this.data,u,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,i,h,f,d){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h,f,d));return this}),c.exports=n},19550:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new a({Extends:o,initialize:function i(h,f,d,u,v){var g="png",y;if(e(f)){var m=f;f=r(m,"key"),d=r(m,"url"),y=r(m,"normalMap"),u=r(m,"xhrSettings"),g=r(m,"extension",g),v=r(m,"frameConfig")}Array.isArray(d)&&(y=d[1],d=d[0]);var T={type:"image",cache:h.textureManager,extension:g,responseType:"blob",key:f,url:d,xhrSettings:u,config:v};if(o.call(this,h,T),y){var S=new i(h,this.key,y,u,v);S.type="normalMap",this.setLink(S),h.addFile(S)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){o.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(i.data),i.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,h,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,f));return this}),c.exports=l},518:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new a({Extends:o,initialize:function(h,f,d,u,v){var g="json";if(n(f)){var y=f;f=r(y,"key"),d=r(y,"url"),u=r(y,"xhrSettings"),g=r(y,"extension",g),v=r(y,"dataKey",v)}var m={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:f,url:d,xhrSettings:u,config:v};o.call(this,h,m),n(d)&&(v?this.data=e(d,v):this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,h,f,d){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new l(this,i[u]));else this.addFile(new l(this,i,h,d,f));return this}),c.exports=l},59327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,d,u,v,g,y){if(r(f)){var m=f;f=o(m,"key"),o(m,"url",!1)?d=o(m,"url"):d=o(m,"atlasURL"),g=o(m,"xhrSettings"),u=o(m,"path"),v=o(m,"baseURL"),y=o(m,"textureXhrSettings")}var T=new e(h,f,d,g);n.call(this,h,"multiatlas",f,[T]),this.config.path=u,this.config.baseURL=v,this.config.textureXhrSettings=y},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var f=i.data.textures,d=this.config,u=this.loader,v=u.baseURL,g=u.path,y=u.prefix,m=o(d,"baseURL",this.baseURL),T=o(d,"path",this.path),S=o(d,"prefix",this.prefix),E=o(d,"textureXhrSettings");u.setBaseURL(m),u.setPath(T),u.setPrefix(S);for(var C=0;C<f.length;C++){var w=f[C].image,A="MA"+this.multiKeyIndex+"_"+w,P=new s(u,A,w,E);if(this.addToMultiFile(P),u.addFile(P),f[C].normalMap){var M=new s(u,A,f[C].normalMap,E);M.type="normalMap",P.setLink(M),this.addToMultiFile(M),u.addFile(M)}}u.setBaseURL(v),u.setPath(g),u.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],f=[],d=[],u=1;u<this.files.length;u++){var v=this.files[u];if(v.type!=="normalMap")for(var g=v.key.indexOf("_"),y=v.key.substr(g+1),m=v.data,T=0;T<i.data.textures.length;T++){var S=i.data.textures[T];if(S.image===y){f.push(m),h.push(S),v.linkFile&&d.push(v.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,h,d),this.complete=!0}}});p.register("multiatlas",function(i,h,f,d,u){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,d,u),this.addFile(v.files);return this}),c.exports=l},99297:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(34328),n=new a({Extends:r,initialize:function(i,h,f,d){var u="js",v=[];if(s(h)){var g=h;h=o(g,"key"),f=o(g,"url"),d=o(g,"xhrSettings"),u=o(g,"extension",u)}Array.isArray(f)||(f=[f]);for(var y=0;y<f.length;y++){var m=new e(i,{key:h+"_"+y.toString(),url:f[y],extension:u,xhrSettings:d});m.onProcess=function(){this.onProcessComplete()},v.push(m)}r.call(this,i,"scripts",h,v)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var i=this.files[l];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(l,i,h){var f;if(Array.isArray(l))for(var d=0;d<l.length;d++)f=new n(this,l[d]),this.addFile(f.files);else f=new n(this,l,i,h),this.addFile(f.files);return this}),c.exports=n},41846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),i=new a({Extends:r,initialize:function(f,d,u,v,g,y){var m,T,S=f.cacheManager.obj;if(s(d)){var E=d;d=o(E,"key"),m=new l(f,{key:d,type:"obj",cache:S,url:o(E,"url"),extension:o(E,"extension","obj"),xhrSettings:o(E,"xhrSettings"),config:{flipUV:o(E,"flipUV",g)}}),v=o(E,"matURL"),v&&(T=new l(f,{key:d,type:"mat",cache:S,url:v,extension:o(E,"matExtension","mat"),xhrSettings:o(E,"xhrSettings")}))}else m=new l(f,{key:d,url:u,type:"obj",cache:S,extension:"obj",xhrSettings:y,config:{flipUV:g}}),v&&(T=new l(f,{key:d,url:v,type:"mat",cache:S,extension:"mat",xhrSettings:y}));r.call(this,f,"obj",d,[m,T])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],d=e(h.data,h.config.flipUV);f&&(d.materials=n(f.data)),h.cache.add(h.key,d),this.complete=!0}}});p.register("obj",function(h,f,d,u,v){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new i(this,h[y]),this.addFile(g.files);else g=new i(this,h,f,d,u,v),this.addFile(g.files);return this}),c.exports=i},58610:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(74099),s=t(518),r=new a({Extends:s,initialize:function(n,l,i,h,f){s.call(this,n,l,i,h,f),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},48988:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u,v){var g="js";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),d=r(y,"start"),u=r(y,"mapping")}var m={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{start:d,mapping:u}};o.call(this,i,m),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=r(i,"start",!1),f=r(i,"mapping",null);if(this.state===p.FILE_POPULATED)l.install(this.key,this.data,h,f);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=l.install(this.key,window[this.key],h,f);(h||f)&&(this.loader.systems[f]=d,this.loader.scene[f]=d)}this.onProcessComplete()}});s.register("plugin",function(l,i,h,f,d){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h,f,d));return this}),c.exports=n},67397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u){var v="svg";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),d=r(g,"svgConfig",{}),u=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:h,url:f,xhrSettings:u,config:{width:r(d,"width"),height:r(d,"height"),scale:r(d,"scale")}};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.xhrLoader.responseText,i=[l],h=this.config.width,f=this.config.height,d=this.config.scale;t:if(h&&f||d){var u=null,v=new DOMParser;u=v.parseFromString(l,"text/xml");var g=u.getElementsByTagName("svg")[0],y=g.hasAttribute("viewBox"),m=parseFloat(g.getAttribute("width")),T=parseFloat(g.getAttribute("height"));if(!y&&m&&T)g.setAttribute("viewBox","0  0 "+m+" "+T);else if(y&&!m&&!T){var S=g.getAttribute("viewBox").split(/\s+|,/);m=S[2],T=S[3]}if(d)if(m&&T)h=m*d,f=T*d;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",f.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var C=this,w=!1;this.data.onload=function(){w||o.revokeObjectURL(C.data),C.onProcessComplete()},this.data.onerror=function(){w?C.onProcessError():(w=!0,o.revokeObjectURL(C.data),C.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},o.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,i,h,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,f));return this}),c.exports=n},88423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d){var u="js";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),d=r(v,"xhrSettings"),u=r(v,"extension",u)}var g={type:"text",extension:u,responseType:"text",key:h,url:f,xhrSettings:d};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(l)),this.complete=!0}});s.register("sceneFile",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},56812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u,v){var g="js";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),d=r(y,"systemKey"),u=r(y,"sceneKey")}var m={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{systemKey:d,sceneKey:u}};o.call(this,i,m),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=this.key,f=r(i,"systemKey",h),d=r(i,"sceneKey",h);this.state===p.FILE_POPULATED?l.installScenePlugin(f,this.data,d,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,i,h,f,d){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h,f,d));return this}),c.exports=n},34328:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d,u){var v="js";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),d=r(g,"type","script"),u=r(g,"xhrSettings"),v=r(g,"extension",v)}else d===void 0&&(d="script");var y={type:d,cache:!1,extension:v,responseType:"text",key:h,url:f,xhrSettings:u};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,i,h,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,f));return this}),c.exports=n},85035:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(74099),s=t(19550),r=new a({Extends:s,initialize:function(n,l,i,h,f){s.call(this,n,l,i,f,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,l,i));return this}),c.exports=r},78776:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,d){var u="text",v="txt",g=i.cacheManager.text;if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),d=r(y,"xhrSettings"),v=r(y,"extension",v),u=r(y,"type",u),g=r(y,"cache",g)}var m={type:u,cache:g,extension:v,responseType:"text",key:h,url:f,xhrSettings:d};o.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},49477:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new a({Extends:o,initialize:function(h,f,d,u){var v="csv";if(e(f)){var g=f;f=r(g,"key"),d=r(g,"url"),u=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:v,responseType:"text",key:f,url:d,xhrSettings:u};o.call(this,h,y),this.tilemapFormat=n.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,h,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,f));return this}),c.exports=l},40807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},56775:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},25771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new a({Extends:e,initialize:function(h,f,d,u,v,g){var y,m;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),m=new n(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","txt"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,d,v),m=new n(h,f,u,g);y.linkFile?e.call(this,h,"unityatlas",f,[y,m,y.linkFile]):e.call(this,h,"unityatlas",f,[y,m])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,f),this.complete=!0}}});p.register("unityAtlas",function(i,h,f,d,u){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,d,u),this.addFile(v.files);return this}),c.exports=l},33720:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new a({Extends:o,initialize:function(h,f,d,u){if(u===void 0&&(u=!1),n(f)){var v=f;f=e(v,"key"),d=e(v,"url",[]),u=e(v,"noAudio",!1)}var g=h.systems.game.device.video.getVideoURL(d);g||console.warn("VideoFile: No supported format for "+f);var y={type:"video",cache:h.cacheManager.video,extension:g.type,key:f,url:g.url,config:{noAudio:u}};o.call(this,h,y)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,h,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,f));return this}),c.exports=l},57318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new a({Extends:o,initialize:function(h,f,d,u){var v="xml";if(e(f)){var g=f;f=r(g,"key"),d=r(g,"url"),u=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"xml",cache:h.cacheManager.xml,extension:v,responseType:"text",key:f,url:d,xhrSettings:u};o.call(this,h,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,h,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,f));return this}),c.exports=l},64589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23906),p=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=p(!1,o,a),c.exports=o},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0,p=0;p<t.length;p++)a+=+t[p];return a/t.length};c.exports=x},85710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6411),p=function(o,s){return a(o)/a(s)/a(o-s)};c.exports=p},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};c.exports=x},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){var r=(o-a)*.5,e=(s-p)*.5,n=t*t,l=t*n;return(2*p-2*o+r+e)*l+(-3*p+3*o-2*r-e)*n+r*t+p};c.exports=x},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.ceil(t*o)/o};c.exports=x},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.max(a,Math.min(p,t))};c.exports=x},39506:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o*a.DEG_TO_RAD};c.exports=p},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.abs(t-a)};c.exports=x},38857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(37867),s=t(29747),r=new o,e=new p({initialize:function n(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=i,this._z=h,this._order=f,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,i,h){return h===void 0&&(h=this._order),this._x=n,this._y=l,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,i){return l===void 0&&(l=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,i)},setFromRotationMatrix:function(n,l,i){l===void 0&&(l=this._order),i===void 0&&(i=!1);var h=n.val,f=h[0],d=h[4],u=h[8],v=h[1],g=h[5],y=h[9],m=h[2],T=h[6],S=h[10],E=0,C=0,w=0,A=.99999;switch(l){case"XYZ":{C=Math.asin(a(u,-1,1)),Math.abs(u)<A?(E=Math.atan2(-y,S),w=Math.atan2(-d,f)):E=Math.atan2(T,g);break}case"YXZ":{E=Math.asin(-a(y,-1,1)),Math.abs(y)<A?(C=Math.atan2(u,S),w=Math.atan2(v,g)):C=Math.atan2(-m,f);break}case"ZXY":{E=Math.asin(a(T,-1,1)),Math.abs(T)<A?(C=Math.atan2(-m,S),w=Math.atan2(-d,g)):w=Math.atan2(v,f);break}case"ZYX":{C=Math.asin(-a(m,-1,1)),Math.abs(m)<A?(E=Math.atan2(T,S),w=Math.atan2(v,f)):w=Math.atan2(-d,g);break}case"YZX":{w=Math.asin(a(v,-1,1)),Math.abs(v)<A?(E=Math.atan2(-y,g),C=Math.atan2(-m,f)):C=Math.atan2(u,S);break}case"XZY":{w=Math.asin(-a(d,-1,1)),Math.abs(d)<A?(E=Math.atan2(T,g),C=Math.atan2(u,f)):E=Math.atan2(-y,S);break}}return this._x=E,this._y=C,this._z=w,this._order=l,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};c.exports=x},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.random()*(a-t)+t};c.exports=x},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.floor(t*o)/o};c.exports=x},62945:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=function(o,s,r){return o=a(o,0,1),(r-s)*o+s};c.exports=p},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t/a/1e3};c.exports=x},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=x},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=x},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return(a-t)*p+t};c.exports=x},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=0),t.clone().lerp(a,p)};c.exports=x},94434:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new p(this)},set:function(o){return this.copy(o)},copy:function(o){var s=this.val,r=o.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(o){var s=o.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(o){var s=this.val;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,s=o[1],r=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=s,o[5]=o[7],o[6]=r,o[7]=e,this},invert:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],d=o[8],u=d*l-i*f,v=-d*n+i*h,g=f*n-l*h,y=s*u+r*v+e*g;return y?(y=1/y,o[0]=u*y,o[1]=(-d*r+e*f)*y,o[2]=(i*r-e*l)*y,o[3]=v*y,o[4]=(d*s-e*h)*y,o[5]=(-i*s+e*n)*y,o[6]=g*y,o[7]=(-f*s+r*h)*y,o[8]=(l*s-r*n)*y,this):null},adjoint:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],d=o[8];return o[0]=l*d-i*f,o[1]=e*f-r*d,o[2]=r*i-e*l,o[3]=i*h-n*d,o[4]=s*d-e*h,o[5]=e*n-s*i,o[6]=n*f-l*h,o[7]=r*h-s*f,o[8]=s*l-r*n,this},determinant:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],d=o[8];return s*(d*l-i*f)+r*(-d*n+i*h)+e*(f*n-l*h)},multiply:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],f=s[6],d=s[7],u=s[8],v=o.val,g=v[0],y=v[1],m=v[2],T=v[3],S=v[4],E=v[5],C=v[6],w=v[7],A=v[8];return s[0]=g*r+y*l+m*f,s[1]=g*e+y*i+m*d,s[2]=g*n+y*h+m*u,s[3]=T*r+S*l+E*f,s[4]=T*e+S*i+E*d,s[5]=T*n+S*h+E*u,s[6]=C*r+w*l+A*f,s[7]=C*e+w*i+A*d,s[8]=C*n+w*h+A*u,this},translate:function(o){var s=this.val,r=o.x,e=o.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],f=Math.sin(o),d=Math.cos(o);return s[0]=d*r+f*l,s[1]=d*e+f*i,s[2]=d*n+f*h,s[3]=d*l-f*r,s[4]=d*i-f*e,s[5]=d*h-f*n,this},scale:function(o){var s=this.val,r=o.x,e=o.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(o){var s=o.x,r=o.y,e=o.z,n=o.w,l=s+s,i=r+r,h=e+e,f=s*l,d=s*i,u=s*h,v=r*i,g=r*h,y=e*h,m=n*l,T=n*i,S=n*h,E=this.val;return E[0]=1-(v+y),E[3]=d+S,E[6]=u-T,E[1]=d-S,E[4]=1-(f+y),E[7]=g+m,E[2]=u+T,E[5]=g-m,E[8]=1-(f+v),this},normalFromMat4:function(o){var s=o.val,r=this.val,e=s[0],n=s[1],l=s[2],i=s[3],h=s[4],f=s[5],d=s[6],u=s[7],v=s[8],g=s[9],y=s[10],m=s[11],T=s[12],S=s[13],E=s[14],C=s[15],w=e*f-n*h,A=e*d-l*h,P=e*u-i*h,M=n*d-l*f,R=n*u-i*f,I=l*u-i*d,D=v*S-g*T,Y=v*E-y*T,B=v*C-m*T,O=g*E-y*S,N=g*C-m*S,L=y*C-m*E,W=w*L-A*N+P*O+M*B-R*Y+I*D;return W?(W=1/W,r[0]=(f*L-d*N+u*O)*W,r[1]=(d*B-h*L-u*Y)*W,r[2]=(h*N-f*B+u*D)*W,r[3]=(l*N-n*L-i*O)*W,r[4]=(e*L-l*B+i*Y)*W,r[5]=(n*B-e*N-i*D)*W,r[6]=(S*I-E*R+C*M)*W,r[7]=(E*P-T*I-C*A)*W,r[8]=(T*R-S*P+C*w)*W,this):null}});c.exports=p},37867:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(25836),o=1e-6,s=new a({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new s(this)},set:function(h){return this.copy(h)},setValues:function(h,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M){var R=this.val;return R[0]=h,R[1]=f,R[2]=d,R[3]=u,R[4]=v,R[5]=g,R[6]=y,R[7]=m,R[8]=T,R[9]=S,R[10]=E,R[11]=C,R[12]=w,R[13]=A,R[14]=P,R[15]=M,this},copy:function(h){var f=h.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,f,d){var u=r.fromQuat(d),v=u.val,g=f.x,y=f.y,m=f.z;return this.setValues(v[0]*g,v[1]*g,v[2]*g,0,v[4]*y,v[5]*y,v[6]*y,0,v[8]*m,v[9]*m,v[10]*m,0,h.x,h.y,h.z,1)},xyz:function(h,f,d){this.identity();var u=this.val;return u[12]=h,u[13]=f,u[14]=d,this},scaling:function(h,f,d){this.zero();var u=this.val;return u[0]=h,u[5]=f,u[10]=d,u[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,f=h[1],d=h[2],u=h[3],v=h[6],g=h[7],y=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=f,h[6]=h[9],h[7]=h[13],h[8]=d,h[9]=v,h[11]=h[14],h[12]=u,h[13]=g,h[14]=y,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,f=h[0],d=h[1],u=h[2],v=h[3],g=h[4],y=h[5],m=h[6],T=h[7],S=h[8],E=h[9],C=h[10],w=h[11],A=h[12],P=h[13],M=h[14],R=h[15],I=f*y-d*g,D=f*m-u*g,Y=f*T-v*g,B=d*m-u*y,O=d*T-v*y,N=u*T-v*m,L=S*P-E*A,W=S*M-C*A,F=S*R-w*A,U=E*M-C*P,Z=E*R-w*P,J=C*R-w*M,Q=I*J-D*Z+Y*U+B*F-O*W+N*L;return Q?(Q=1/Q,this.setValues((y*J-m*Z+T*U)*Q,(u*Z-d*J-v*U)*Q,(P*N-M*O+R*B)*Q,(C*O-E*N-w*B)*Q,(m*F-g*J-T*W)*Q,(f*J-u*F+v*W)*Q,(M*Y-A*N-R*D)*Q,(S*N-C*Y+w*D)*Q,(g*Z-y*F+T*L)*Q,(d*F-f*Z-v*L)*Q,(A*O-P*Y+R*I)*Q,(E*Y-S*O-w*I)*Q,(y*W-g*U-m*L)*Q,(f*U-d*W+u*L)*Q,(P*D-A*B-M*I)*Q,(S*B-E*D+C*I)*Q)):this},adjoint:function(){var h=this.val,f=h[0],d=h[1],u=h[2],v=h[3],g=h[4],y=h[5],m=h[6],T=h[7],S=h[8],E=h[9],C=h[10],w=h[11],A=h[12],P=h[13],M=h[14],R=h[15];return this.setValues(y*(C*R-w*M)-E*(m*R-T*M)+P*(m*w-T*C),-(d*(C*R-w*M)-E*(u*R-v*M)+P*(u*w-v*C)),d*(m*R-T*M)-y*(u*R-v*M)+P*(u*T-v*m),-(d*(m*w-T*C)-y*(u*w-v*C)+E*(u*T-v*m)),-(g*(C*R-w*M)-S*(m*R-T*M)+A*(m*w-T*C)),f*(C*R-w*M)-S*(u*R-v*M)+A*(u*w-v*C),-(f*(m*R-T*M)-g*(u*R-v*M)+A*(u*T-v*m)),f*(m*w-T*C)-g*(u*w-v*C)+S*(u*T-v*m),g*(E*R-w*P)-S*(y*R-T*P)+A*(y*w-T*E),-(f*(E*R-w*P)-S*(d*R-v*P)+A*(d*w-v*E)),f*(y*R-T*P)-g*(d*R-v*P)+A*(d*T-v*y),-(f*(y*w-T*E)-g*(d*w-v*E)+S*(d*T-v*y)),-(g*(E*M-C*P)-S*(y*M-m*P)+A*(y*C-m*E)),f*(E*M-C*P)-S*(d*M-u*P)+A*(d*C-u*E),-(f*(y*M-m*P)-g*(d*M-u*P)+A*(d*m-u*y)),f*(y*C-m*E)-g*(d*C-u*E)+S*(d*m-u*y))},determinant:function(){var h=this.val,f=h[0],d=h[1],u=h[2],v=h[3],g=h[4],y=h[5],m=h[6],T=h[7],S=h[8],E=h[9],C=h[10],w=h[11],A=h[12],P=h[13],M=h[14],R=h[15],I=f*y-d*g,D=f*m-u*g,Y=f*T-v*g,B=d*m-u*y,O=d*T-v*y,N=u*T-v*m,L=S*P-E*A,W=S*M-C*A,F=S*R-w*A,U=E*M-C*P,Z=E*R-w*P,J=C*R-w*M;return I*J-D*Z+Y*U+B*F-O*W+N*L},multiply:function(h){var f=this.val,d=f[0],u=f[1],v=f[2],g=f[3],y=f[4],m=f[5],T=f[6],S=f[7],E=f[8],C=f[9],w=f[10],A=f[11],P=f[12],M=f[13],R=f[14],I=f[15],D=h.val,Y=D[0],B=D[1],O=D[2],N=D[3];return f[0]=Y*d+B*y+O*E+N*P,f[1]=Y*u+B*m+O*C+N*M,f[2]=Y*v+B*T+O*w+N*R,f[3]=Y*g+B*S+O*A+N*I,Y=D[4],B=D[5],O=D[6],N=D[7],f[4]=Y*d+B*y+O*E+N*P,f[5]=Y*u+B*m+O*C+N*M,f[6]=Y*v+B*T+O*w+N*R,f[7]=Y*g+B*S+O*A+N*I,Y=D[8],B=D[9],O=D[10],N=D[11],f[8]=Y*d+B*y+O*E+N*P,f[9]=Y*u+B*m+O*C+N*M,f[10]=Y*v+B*T+O*w+N*R,f[11]=Y*g+B*S+O*A+N*I,Y=D[12],B=D[13],O=D[14],N=D[15],f[12]=Y*d+B*y+O*E+N*P,f[13]=Y*u+B*m+O*C+N*M,f[14]=Y*v+B*T+O*w+N*R,f[15]=Y*g+B*S+O*A+N*I,this},multiplyLocal:function(h){var f=this.val,d=h.val;return this.setValues(f[0]*d[0]+f[1]*d[4]+f[2]*d[8]+f[3]*d[12],f[0]*d[1]+f[1]*d[5]+f[2]*d[9]+f[3]*d[13],f[0]*d[2]+f[1]*d[6]+f[2]*d[10]+f[3]*d[14],f[0]*d[3]+f[1]*d[7]+f[2]*d[11]+f[3]*d[15],f[4]*d[0]+f[5]*d[4]+f[6]*d[8]+f[7]*d[12],f[4]*d[1]+f[5]*d[5]+f[6]*d[9]+f[7]*d[13],f[4]*d[2]+f[5]*d[6]+f[6]*d[10]+f[7]*d[14],f[4]*d[3]+f[5]*d[7]+f[6]*d[11]+f[7]*d[15],f[8]*d[0]+f[9]*d[4]+f[10]*d[8]+f[11]*d[12],f[8]*d[1]+f[9]*d[5]+f[10]*d[9]+f[11]*d[13],f[8]*d[2]+f[9]*d[6]+f[10]*d[10]+f[11]*d[14],f[8]*d[3]+f[9]*d[7]+f[10]*d[11]+f[11]*d[15],f[12]*d[0]+f[13]*d[4]+f[14]*d[8]+f[15]*d[12],f[12]*d[1]+f[13]*d[5]+f[14]*d[9]+f[15]*d[13],f[12]*d[2]+f[13]*d[6]+f[14]*d[10]+f[15]*d[14],f[12]*d[3]+f[13]*d[7]+f[14]*d[11]+f[15]*d[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,f){var d=h.val,u=f.val,v=d[0],g=d[4],y=d[8],m=d[12],T=d[1],S=d[5],E=d[9],C=d[13],w=d[2],A=d[6],P=d[10],M=d[14],R=d[3],I=d[7],D=d[11],Y=d[15],B=u[0],O=u[4],N=u[8],L=u[12],W=u[1],F=u[5],U=u[9],Z=u[13],J=u[2],Q=u[6],k=u[10],et=u[14],it=u[3],q=u[7],tt=u[11],nt=u[15];return this.setValues(v*B+g*W+y*J+m*it,T*B+S*W+E*J+C*it,w*B+A*W+P*J+M*it,R*B+I*W+D*J+Y*it,v*O+g*F+y*Q+m*q,T*O+S*F+E*Q+C*q,w*O+A*F+P*Q+M*q,R*O+I*F+D*Q+Y*q,v*N+g*U+y*k+m*tt,T*N+S*U+E*k+C*tt,w*N+A*U+P*k+M*tt,R*N+I*U+D*k+Y*tt,v*L+g*Z+y*et+m*nt,T*L+S*Z+E*et+C*nt,w*L+A*Z+P*et+M*nt,R*L+I*Z+D*et+Y*nt)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,f,d){var u=this.val;return u[12]=u[0]*h+u[4]*f+u[8]*d+u[12],u[13]=u[1]*h+u[5]*f+u[9]*d+u[13],u[14]=u[2]*h+u[6]*f+u[10]*d+u[14],u[15]=u[3]*h+u[7]*f+u[11]*d+u[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,f,d){var u=this.val;return u[0]=u[0]*h,u[1]=u[1]*h,u[2]=u[2]*h,u[3]=u[3]*h,u[4]=u[4]*f,u[5]=u[5]*f,u[6]=u[6]*f,u[7]=u[7]*f,u[8]=u[8]*d,u[9]=u[9]*d,u[10]=u[10]*d,u[11]=u[11]*d,this},makeRotationAxis:function(h,f){var d=Math.cos(f),u=Math.sin(f),v=1-d,g=h.x,y=h.y,m=h.z,T=v*g,S=v*y;return this.setValues(T*g+d,T*y-u*m,T*m+u*y,0,T*y+u*m,S*y+d,S*m-u*g,0,T*m-u*y,S*m+u*g,v*m*m+d,0,0,0,0,1)},rotate:function(h,f){var d=this.val,u=f.x,v=f.y,g=f.z,y=Math.sqrt(u*u+v*v+g*g);if(Math.abs(y)<o)return this;y=1/y,u*=y,v*=y,g*=y;var m=Math.sin(h),T=Math.cos(h),S=1-T,E=d[0],C=d[1],w=d[2],A=d[3],P=d[4],M=d[5],R=d[6],I=d[7],D=d[8],Y=d[9],B=d[10],O=d[11],N=d[12],L=d[13],W=d[14],F=d[15],U=u*u*S+T,Z=v*u*S+g*m,J=g*u*S-v*m,Q=u*v*S-g*m,k=v*v*S+T,et=g*v*S+u*m,it=u*g*S+v*m,q=v*g*S-u*m,tt=g*g*S+T;return this.setValues(E*U+P*Z+D*J,C*U+M*Z+Y*J,w*U+R*Z+B*J,A*U+I*Z+O*J,E*Q+P*k+D*et,C*Q+M*k+Y*et,w*Q+R*k+B*et,A*Q+I*k+O*et,E*it+P*q+D*tt,C*it+M*q+Y*tt,w*it+R*q+B*tt,A*it+I*q+O*tt,N,L,W,F)},rotateX:function(h){var f=this.val,d=Math.sin(h),u=Math.cos(h),v=f[4],g=f[5],y=f[6],m=f[7],T=f[8],S=f[9],E=f[10],C=f[11];return f[4]=v*u+T*d,f[5]=g*u+S*d,f[6]=y*u+E*d,f[7]=m*u+C*d,f[8]=T*u-v*d,f[9]=S*u-g*d,f[10]=E*u-y*d,f[11]=C*u-m*d,this},rotateY:function(h){var f=this.val,d=Math.sin(h),u=Math.cos(h),v=f[0],g=f[1],y=f[2],m=f[3],T=f[8],S=f[9],E=f[10],C=f[11];return f[0]=v*u-T*d,f[1]=g*u-S*d,f[2]=y*u-E*d,f[3]=m*u-C*d,f[8]=v*d+T*u,f[9]=g*d+S*u,f[10]=y*d+E*u,f[11]=m*d+C*u,this},rotateZ:function(h){var f=this.val,d=Math.sin(h),u=Math.cos(h),v=f[0],g=f[1],y=f[2],m=f[3],T=f[4],S=f[5],E=f[6],C=f[7];return f[0]=v*u+T*d,f[1]=g*u+S*d,f[2]=y*u+E*d,f[3]=m*u+C*d,f[4]=T*u-v*d,f[5]=S*u-g*d,f[6]=E*u-y*d,f[7]=C*u-m*d,this},fromRotationTranslation:function(h,f){var d=h.x,u=h.y,v=h.z,g=h.w,y=d+d,m=u+u,T=v+v,S=d*y,E=d*m,C=d*T,w=u*m,A=u*T,P=v*T,M=g*y,R=g*m,I=g*T;return this.setValues(1-(w+P),E+I,C-R,0,E-I,1-(S+P),A+M,0,C+R,A-M,1-(S+w),0,f.x,f.y,f.z,1)},fromQuat:function(h){var f=h.x,d=h.y,u=h.z,v=h.w,g=f+f,y=d+d,m=u+u,T=f*g,S=f*y,E=f*m,C=d*y,w=d*m,A=u*m,P=v*g,M=v*y,R=v*m;return this.setValues(1-(C+A),S+R,E-M,0,S-R,1-(T+A),w+P,0,E+M,w-P,1-(T+C),0,0,0,0,1)},frustum:function(h,f,d,u,v,g){var y=1/(f-h),m=1/(u-d),T=1/(v-g);return this.setValues(v*2*y,0,0,0,0,v*2*m,0,0,(f+h)*y,(u+d)*m,(g+v)*T,-1,0,0,g*v*2*T,0)},perspective:function(h,f,d,u){var v=1/Math.tan(h/2),g=1/(d-u);return this.setValues(v/f,0,0,0,0,v,0,0,0,0,(u+d)*g,-1,0,0,2*u*d*g,0)},perspectiveLH:function(h,f,d,u){return this.setValues(2*d/h,0,0,0,0,2*d/f,0,0,0,0,-u/(d-u),1,0,0,d*u/(d-u),0)},ortho:function(h,f,d,u,v,g){var y=h-f,m=d-u,T=v-g;return y=y===0?y:1/y,m=m===0?m:1/m,T=T===0?T:1/T,this.setValues(-2*y,0,0,0,0,-2*m,0,0,0,0,2*T,0,(h+f)*y,(u+d)*m,(g+v)*T,1)},lookAtRH:function(h,f,d){var u=this.val;return i.subVectors(h,f),i.lengthSq()===0&&(i.z=1),i.normalize(),n.crossVectors(d,i),n.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(d,i)),n.normalize(),l.crossVectors(i,n),u[0]=n.x,u[1]=n.y,u[2]=n.z,u[4]=l.x,u[5]=l.y,u[6]=l.z,u[8]=i.x,u[9]=i.y,u[10]=i.z,this},lookAt:function(h,f,d){var u=h.x,v=h.y,g=h.z,y=d.x,m=d.y,T=d.z,S=f.x,E=f.y,C=f.z;if(Math.abs(u-S)<o&&Math.abs(v-E)<o&&Math.abs(g-C)<o)return this.identity();var w=u-S,A=v-E,P=g-C,M=1/Math.sqrt(w*w+A*A+P*P);w*=M,A*=M,P*=M;var R=m*P-T*A,I=T*w-y*P,D=y*A-m*w;M=Math.sqrt(R*R+I*I+D*D),M?(M=1/M,R*=M,I*=M,D*=M):(R=0,I=0,D=0);var Y=A*D-P*I,B=P*R-w*D,O=w*I-A*R;return M=Math.sqrt(Y*Y+B*B+O*O),M?(M=1/M,Y*=M,B*=M,O*=M):(Y=0,B=0,O=0),this.setValues(R,Y,w,0,I,B,A,0,D,O,P,0,-(R*u+I*v+D*g),-(Y*u+B*v+O*g),-(w*u+A*v+P*g),1)},yawPitchRoll:function(h,f,d){this.zero(),r.zero(),e.zero();var u=this.val,v=r.val,g=e.val,y=Math.sin(d),m=Math.cos(d);return u[10]=1,u[15]=1,u[0]=m,u[1]=y,u[4]=-y,u[5]=m,y=Math.sin(f),m=Math.cos(f),v[0]=1,v[15]=1,v[5]=m,v[10]=m,v[9]=-y,v[6]=y,y=Math.sin(h),m=Math.cos(h),g[5]=1,g[15]=1,g[0]=m,g[2]=-y,g[8]=y,g[10]=m,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(h,f,d,u,v){return this.yawPitchRoll(h.y,h.x,h.z),r.scaling(d.x,d.y,d.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(e),u&&this.multiplyLocal(u),v&&this.multiplyLocal(v),this},multiplyToMat4:function(h,f){var d=this.val,u=h.val,v=d[0],g=d[1],y=d[2],m=d[3],T=d[4],S=d[5],E=d[6],C=d[7],w=d[8],A=d[9],P=d[10],M=d[11],R=d[12],I=d[13],D=d[14],Y=d[15],B=u[0],O=u[1],N=u[2],L=u[3],W=u[4],F=u[5],U=u[6],Z=u[7],J=u[8],Q=u[9],k=u[10],et=u[11],it=u[12],q=u[13],tt=u[14],nt=u[15];return f.setValues(B*v+O*T+N*w+L*R,O*g+O*S+N*A+L*I,N*y+O*E+N*P+L*D,L*m+O*C+N*M+L*Y,W*v+F*T+U*w+Z*R,W*g+F*S+U*A+Z*I,W*y+F*E+U*P+Z*D,W*m+F*C+U*M+Z*Y,J*v+Q*T+k*w+et*R,J*g+Q*S+k*A+et*I,J*y+Q*E+k*P+et*D,J*m+Q*C+k*M+et*Y,it*v+q*T+tt*w+nt*R,it*g+q*S+tt*A+nt*I,it*y+q*E+tt*P+nt*D,it*m+q*C+tt*M+nt*Y)},fromRotationXYTranslation:function(h,f,d){var u=f.x,v=f.y,g=f.z,y=Math.sin(h.x),m=Math.cos(h.x),T=Math.sin(h.y),S=Math.cos(h.y),E=u,C=v,w=g,A=-y,P=0-A*T,M=0-m*T,R=A*S,I=m*S;return d||(E=S*u+T*g,C=P*u+m*v+R*g,w=M*u+y*v+I*g),this.setValues(S,P,M,0,0,m,y,0,T,R,I,0,E,C,w,1)},getMaxScaleOnAxis:function(){var h=this.val,f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],d=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],u=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(f,d,u))}}),r=new s,e=new s,n=new p,l=new p,i=new p;c.exports=s},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.min(t+a,p)};c.exports=x},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.length;if(a===0)return 0;t.sort(function(o,s){return o-s});var p=Math.floor(a/2);return a%2===0?(t[p]+t[p-1])/2:t[p]};c.exports=x},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.max(t-a,p)};c.exports=x},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=a+1);var s=(t-a)/(p-a);return s>1?o!==void 0?(s=(o-t)/(o-p),s<0&&(s=0)):s=1:s<0&&(s=0),s};c.exports=x},15746:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94434),o=t(29747),s=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new s(1,0,0),i=new s(0,1,0),h=new s,f=new p,d=new a({initialize:function(v,g,y,m){this.onChangeCallback=o,this.set(v,g,y,m)},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(u){this._w=u,this.onChangeCallback(this)}},copy:function(u){return this.set(u)},set:function(u,v,g,y,m){return m===void 0&&(m=!0),typeof u=="object"?(this._x=u.x||0,this._y=u.y||0,this._z=u.z||0,this._w=u.w||0):(this._x=u||0,this._y=v||0,this._z=g||0,this._w=y||0),m&&this.onChangeCallback(this),this},add:function(u){return this._x+=u.x,this._y+=u.y,this._z+=u.z,this._w+=u.w,this.onChangeCallback(this),this},subtract:function(u){return this._x-=u.x,this._y-=u.y,this._z-=u.z,this._w-=u.w,this.onChangeCallback(this),this},scale:function(u){return this._x*=u,this._y*=u,this._z*=u,this._w*=u,this.onChangeCallback(this),this},length:function(){var u=this.x,v=this.y,g=this.z,y=this.w;return Math.sqrt(u*u+v*v+g*g+y*y)},lengthSq:function(){var u=this.x,v=this.y,g=this.z,y=this.w;return u*u+v*v+g*g+y*y},normalize:function(){var u=this.x,v=this.y,g=this.z,y=this.w,m=u*u+v*v+g*g+y*y;return m>0&&(m=1/Math.sqrt(m),this._x=u*m,this._y=v*m,this._z=g*m,this._w=y*m),this.onChangeCallback(this),this},dot:function(u){return this.x*u.x+this.y*u.y+this.z*u.z+this.w*u.w},lerp:function(u,v){v===void 0&&(v=0);var g=this.x,y=this.y,m=this.z,T=this.w;return this.set(g+v*(u.x-g),y+v*(u.y-y),m+v*(u.z-m),T+v*(u.w-T))},rotationTo:function(u,v){var g=u.x*v.x+u.y*v.y+u.z*v.z;return g<-.999999?(h.copy(l).cross(u).length()<r&&h.copy(i).cross(u),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(u).cross(v),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(u,v,g){var y=f.val;return y[0]=v.x,y[3]=v.y,y[6]=v.z,y[1]=g.x,y[4]=g.y,y[7]=g.z,y[2]=-u.x,y[5]=-u.y,y[8]=-u.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(u,v){v=v*.5;var g=Math.sin(v);return this.set(g*u.x,g*u.y,g*u.z,Math.cos(v))},multiply:function(u){var v=this.x,g=this.y,y=this.z,m=this.w,T=u.x,S=u.y,E=u.z,C=u.w;return this.set(v*C+m*T+g*E-y*S,g*C+m*S+y*T-v*E,y*C+m*E+v*S-g*T,m*C-v*T-g*S-y*E)},slerp:function(u,v){var g=this.x,y=this.y,m=this.z,T=this.w,S=u.x,E=u.y,C=u.z,w=u.w,A=g*S+y*E+m*C+T*w;A<0&&(A=-A,S=-S,E=-E,C=-C,w=-w);var P=1-v,M=v;if(1-A>r){var R=Math.acos(A),I=Math.sin(R);P=Math.sin((1-v)*R)/I,M=Math.sin(v*R)/I}return this.set(P*g+M*S,P*y+M*E,P*m+M*C,P*T+M*w)},invert:function(){var u=this.x,v=this.y,g=this.z,y=this.w,m=u*u+v*v+g*g+y*y,T=m?1/m:0;return this.set(-u*T,-v*T,-g*T,y*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(u){u*=.5;var v=this.x,g=this.y,y=this.z,m=this.w,T=Math.sin(u),S=Math.cos(u);return this.set(v*S+m*T,g*S+y*T,y*S-g*T,m*S-v*T)},rotateY:function(u){u*=.5;var v=this.x,g=this.y,y=this.z,m=this.w,T=Math.sin(u),S=Math.cos(u);return this.set(v*S-y*T,g*S+m*T,y*S+v*T,m*S-g*T)},rotateZ:function(u){u*=.5;var v=this.x,g=this.y,y=this.z,m=this.w,T=Math.sin(u),S=Math.cos(u);return this.set(v*S+g*T,g*S-v*T,y*S+m*T,m*S-y*T)},calculateW:function(){var u=this.x,v=this.y,g=this.z;return this.w=-Math.sqrt(1-u*u-v*v-g*g),this},setFromEuler:function(u,v){var g=u.x/2,y=u.y/2,m=u.z/2,T=Math.cos(g),S=Math.cos(y),E=Math.cos(m),C=Math.sin(g),w=Math.sin(y),A=Math.sin(m);switch(u.order){case"XYZ":{this.set(C*S*E+T*w*A,T*w*E-C*S*A,T*S*A+C*w*E,T*S*E-C*w*A,v);break}case"YXZ":{this.set(C*S*E+T*w*A,T*w*E-C*S*A,T*S*A-C*w*E,T*S*E+C*w*A,v);break}case"ZXY":{this.set(C*S*E-T*w*A,T*w*E+C*S*A,T*S*A+C*w*E,T*S*E-C*w*A,v);break}case"ZYX":{this.set(C*S*E-T*w*A,T*w*E+C*S*A,T*S*A-C*w*E,T*S*E+C*w*A,v);break}case"YZX":{this.set(C*S*E+T*w*A,T*w*E+C*S*A,T*S*A-C*w*E,T*S*E-C*w*A,v);break}case"XZY":{this.set(C*S*E-T*w*A,T*w*E-C*S*A,T*S*A+C*w*E,T*S*E+C*w*A,v);break}}return this},setFromRotationMatrix:function(u){var v=u.val,g=v[0],y=v[4],m=v[8],T=v[1],S=v[5],E=v[9],C=v[2],w=v[6],A=v[10],P=g+S+A,M;return P>0?(M=.5/Math.sqrt(P+1),this.set((w-E)*M,(m-C)*M,(T-y)*M,.25/M)):g>S&&g>A?(M=2*Math.sqrt(1+g-S-A),this.set(.25*M,(y+T)/M,(m+C)/M,(w-E)/M)):S>A?(M=2*Math.sqrt(1+S-g-A),this.set((y+T)/M,.25*M,(E+w)/M,(m-C)/M)):(M=2*Math.sqrt(1+A-g-S),this.set((m+C)/M,(E+w)/M,.25*M,(T-y)/M)),this},fromMat3:function(u){var v=u.val,g=v[0]+v[4]+v[8],y;if(g>0)y=Math.sqrt(g+1),this.w=.5*y,y=.5/y,this._x=(v[7]-v[5])*y,this._y=(v[2]-v[6])*y,this._z=(v[3]-v[1])*y;else{var m=0;v[4]>v[0]&&(m=1),v[8]>v[m*3+m]&&(m=2);var T=e[m],S=e[T];y=Math.sqrt(v[m*3+m]-v[T*3+T]-v[S*3+S]+1),n[m]=.5*y,y=.5/y,n[T]=(v[T*3+m]+v[m*3+T])*y,n[S]=(v[S*3+m]+v[m*3+S])*y,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(v[S*3+T]-v[T*3+S])*y}return this.onChangeCallback(this),this}});c.exports=d},43396:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o*a.RAD_TO_DEG};c.exports=p},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*a,t.y=Math.sin(p)*a,t};c.exports=x},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI,o=Math.random()*2-1,s=Math.sqrt(1-o*o)*a;return t.x=Math.cos(p)*s,t.y=Math.sin(p)*s,t.z=o*a,t};c.exports=x},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};c.exports=x},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x,o=t.y;return t.x=p*Math.cos(a)-o*Math.sin(a),t.y=p*Math.sin(a)+o*Math.cos(a),t};c.exports=x},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x-a,n=t.y-p;return t.x=e*s-n*r+a,t.y=e*r+n*s+p,t};c.exports=x},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){var r=o+Math.atan2(t.y-p,t.x-a);return t.x=a+s*Math.cos(r),t.y=p+s*Math.sin(r),t};c.exports=x},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return t.x=a+s*Math.cos(o),t.y=p+s*Math.sin(o),t};c.exports=x},72678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=t(37867),o=t(15746),s=new p,r=new o,e=new a,n=function(l,i,h){return r.setAxisAngle(i,h),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};c.exports=n},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=x},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.round(t*o)/o};c.exports=x},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=1),p===void 0&&(p=1),o===void 0&&(o=1),o*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)p-=a*o,a+=p*o,s[e]=p,r[e]=a;return{sin:r,cos:s,length:t}};c.exports=x},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t<=a?0:t>=p?1:(t=(t-a)/(p-a),t*t*(3-2*t))};c.exports=x},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t=Math.max(0,Math.min(1,(t-a)/(p-a))),t*t*t*(t*(t*6-15)+10)};c.exports=x},44408:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e){e===void 0&&(e=new a);var n=0,l=0,i=s*r;return o>0&&o<=i&&(o>s-1?(l=Math.floor(o/s),n=o-l*s):n=o),e.set(n,l)};c.exports=p},85955:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l,i,h){h===void 0&&(h=new a);var f=Math.sin(n),d=Math.cos(n),u=d*l,v=f*l,g=-f*i,y=d*i,m=1/(u*y+g*-v);return h.x=y*m*o+-g*m*s+(e*g-r*y)*m,h.y=u*m*s+-v*m*o+(-e*u+r*v)*m,h};c.exports=p},26099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(43855),o=new a({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return p(this.x,s.x,r)&&p(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(s.x-e),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),c.exports=o},25836:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(o,s){return this.x=o.x+s.x,this.y=o.y+s.y,this.z=o.z+s.z,this},subVectors:function(o,s){return this.x=o.x-s.x,this.y=o.y-s.y,this.z=o.z-s.z,this},crossVectors:function(o,s){var r=o.x,e=o.y,n=o.z,l=s.x,i=s.y,h=s.z;return this.x=e*h-n*i,this.y=n*l-r*h,this.z=r*i-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,s,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,s){return this.fromArray(o.val,s*4)},fromArray:function(o,s){return s===void 0&&(s=0),this.x=o[s],this.y=o[s+1],this.z=o[s+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,s){return this.x+=o.x*s,this.y+=o.y*s,this.z+=o.z*s||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return s*s+r*r+e*e},length:function(){var o=this.x,s=this.y,r=this.z;return Math.sqrt(o*o+s*s+r*r)},lengthSq:function(){var o=this.x,s=this.y,r=this.z;return o*o+s*s+r*r},normalize:function(){var o=this.x,s=this.y,r=this.z,e=o*o+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=s*e,this.z=r*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z;return this.x=r*i-e*l,this.y=e*n-s*i,this.z=s*l-r*n,this},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this},applyMatrix3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[3]*r+n[6]*e,this.y=n[1]*s+n[4]*r+n[7]*e,this.z=n[2]*s+n[5]*r+n[8]*e,this},applyMatrix4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=1/(n[3]*s+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*s+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*s+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=s*n[0]+r*n[3]+e*n[6],this.y=s*n[1]+r*n[4]+e*n[7],this.z=s*n[2]+r*n[5]+e*n[8],this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[4]*r+n[8]*e+n[12],this.y=n[1]*s+n[5]*r+n[9]*e+n[13],this.z=n[2]*s+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=s*n[0]+r*n[4]+e*n[8]+n[12],i=s*n[1]+r*n[5]+e*n[9]+n[13],h=s*n[2]+r*n[6]+e*n[10]+n[14],f=s*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/f,this.y=i/f,this.z=h/f,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,f=h*s+l*e-i*r,d=h*r+i*s-n*e,u=h*e+n*r-l*s,v=-n*s-l*r-i*e;return this.x=f*h+v*-n+d*-i-u*-l,this.y=d*h+v*-l+u*-n-f*-i,this.z=u*h+v*-i+f*-l-d*-n,this},project:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=n[0],i=n[1],h=n[2],f=n[3],d=n[4],u=n[5],v=n[6],g=n[7],y=n[8],m=n[9],T=n[10],S=n[11],E=n[12],C=n[13],w=n[14],A=n[15],P=1/(s*f+r*g+e*S+A);return this.x=(s*l+r*d+e*y+E)*P,this.y=(s*i+r*u+e*m+C)*P,this.z=(s*h+r*v+e*T+w)*P,this},projectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unprojectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unproject:function(o,s){var r=o.x,e=o.y,n=o.z,l=o.w,i=this.x-r,h=l-this.y-1-e,f=this.z;return this.x=2*i/n-1,this.y=2*h/l-1,this.z=2*f-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),c.exports=p},61369:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,s,r,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(o*o+s*s+r*r+e*e)},lengthSq:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return o*o+s*s+r*r+e*e},normalize:function(){var o=this.x,s=this.y,r=this.z,e=this.w,n=o*o+s*s+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=s*n,this.z=r*n,this.w=e*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this.w=l+s*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+n*n)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return s*s+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=this.w,l=o.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,f=h*s+l*e-i*r,d=h*r+i*s-n*e,u=h*e+n*r-l*s,v=-n*s-l*r-i*e;return this.x=f*h+v*-n+d*-i-u*-l,this.y=d*h+v*-l+u*-n-f*-i,this.z=u*h+v*-i+f*-l-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,c.exports=p},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.abs(t-a)<=p};c.exports=x},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p-a;return a+((t-a)%o+o)%o};c.exports=x},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.atan2(o-a,p-t)};c.exports=x},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};c.exports=x},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};c.exports=x},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.atan2(p-t,o-a)};c.exports=x},1432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o>Math.PI&&(o-=a.PI2),Math.abs(((o+a.TAU)%a.PI2-a.PI2)%a.PI2)};c.exports=p},49127:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(12407),p=function(o,s){return a(s-o)};c.exports=p},52285:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(12407),p=2*Math.PI,o=function(s,r){var e=a(r-s);return e>0&&(e-=p),e};c.exports=o},67317:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86554),p=function(o,s){return a(s-o)};c.exports=p},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=x},53993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),p=function(){return a(-Math.PI,Math.PI)};c.exports=p},86564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),p=function(){return a(-180,180)};c.exports=p},90154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(12407),p=function(o){return a(o+Math.PI)};c.exports=p},48736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o,s,r){return r===void 0&&(r=.05),o===s||(Math.abs(s-o)<=r||Math.abs(s-o)>=a.PI2-r?o=s:(Math.abs(s-o)>Math.PI&&(s<o?s+=a.PI2:s-=a.PI2),s>o?o+=r:s<o&&(o-=r))),o};c.exports=p},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=a-t;if(p===0)return 0;var o=Math.floor((p- -180)/360);return p-o*360};c.exports=x},86554:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o){return a(o,-Math.PI,Math.PI)};c.exports=p},30954:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o){return a(o,-180,180)};c.exports=p},25588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),GetClockwiseDistance:t(49127),GetCounterClockwiseDistance:t(52285),GetShortestDistance:t(67317),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=x},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t-p,r=a-o;return Math.sqrt(s*s+r*r)};c.exports=x},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x-a.x,o=t.y-a.y;return Math.sqrt(p*p+o*o)};c.exports=x},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x-a.x,o=t.y-a.y;return p*p+o*o};c.exports=x},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.max(Math.abs(t-p),Math.abs(a-o))};c.exports=x},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(p-t,s)+Math.pow(o-a,s))};c.exports=x},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.abs(t-p)+Math.abs(a-o)};c.exports=x},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t-p,r=a-o;return s*s+r*r};c.exports=x},50994:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54178),p=t(41521),o=t(79980),s=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),i=t(98516),h=t(35248),f=t(82500),d=t(49752);c.exports={Power0:n,Power1:l.Out,Power2:s.Out,Power3:i.Out,Power4:h.Out,Linear:n,Quad:l.Out,Cubic:s.Out,Quart:i.Out,Quint:h.Out,Sine:f.Out,Expo:e.Out,Circ:o.Out,Elastic:r.Out,Back:a.Out,Bounce:p.Out,Stepped:d,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":p.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":p.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};c.exports=x},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1.70158);var p=a*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};c.exports=x},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};c.exports=x},54178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=x},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};c.exports=x},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=x},41521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.sqrt(1-t*t)};c.exports=x},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=x},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(1- --t*t)};c.exports=x},79980:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t};c.exports=x},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=x},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t+1};c.exports=x},85433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p))};c.exports=x},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)*.5+1};c.exports=x},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/p)+1};c.exports=x},99140:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=x},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=x},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.pow(2,-10*t)};c.exports=x},48857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t};c.exports=x},81596:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t};c.exports=x},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=x},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*(2-t)};c.exports=x},59133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t};c.exports=x},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=x},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1- --t*t*t*t};c.exports=x},98516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t*t};c.exports=x},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=x},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t*t*t+1};c.exports=x},35248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=x},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=x},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=x},82500:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};c.exports=x},49752:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};c.exports=x},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),Math.abs(t-a)<p};c.exports=x},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};c.exports=x},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),t>a-p};c.exports=x},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),t<a+p};c.exports=x},48379:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=p(!1,o,a),c.exports=o},89318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85710),p=function(o,s){for(var r=0,e=o.length-1,n=0;n<=e;n++)r+=Math.pow(1-s,e-n)*Math.pow(s,n)*o[n]*a(e,n);return r};c.exports=p},77259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return o[0]===o[r]?(s<0&&(n=Math.floor(e=r*(1+s))),a(e-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):s<0?o[0]-(a(-e,o[0],o[0],o[1],o[1])-o[0]):s>1?o[r]-(a(e-r,o[r],o[r],o[r-1],o[r-1])-o[r]):a(e-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};c.exports=p},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function a(s,r){return 3*(1-s)*s*s*r}function p(s,r){return s*s*s*r}var o=function(s,r,e,n,l){return x(s,r)+t(s,e)+a(s,n)+p(s,l)};c.exports=o},28392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return s<0?a(o[0],o[1],e):s>1?a(o[r],o[r-1],r-e):a(o[n],o[n+1>r?r:n+1],e-n)};c.exports=p},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(o,s){var r=1-o;return r*r*s}function t(o,s){return 2*(1-o)*o*s}function a(o,s){return o*o*s}var p=function(o,s,r,e){return x(o,s)+t(o,r)+a(o,e)};c.exports=p},47235:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),p=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=p},50178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),p=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=p},38289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};c.exports=x},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};c.exports=x},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0&&(t&t-1)===0};c.exports=x},49001:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var s,r=this.n;o=o.toString();for(var e=0;e<o.length;e++)r+=o.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var s=0;s<o.length&&o[s]!=null;s++){var r=o[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},between:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},realInRange:function(o,s){return this.frac()*(s-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",s="";for(s=o="";o++<36;s+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return s},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,s){return this.realInRange(o||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var s=o.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=o[e];o[e]=o[r],o[r]=n}return o}});c.exports=p},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.ceil(t/a),o?(p+t)/a:p+t)};c.exports=x},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.floor(t/a),o?(p+t)/a:p+t)};c.exports=x},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.round(t/a),o?(p+t)/a:p+t)};c.exports=x},73697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var a=t(8054),p=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=p(!1,o,a),c.exports=o,t.g.Phaser=o},71289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92209),o=t(88571),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},86689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39506),o=t(20339),s=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),i=t(47956),h=t(37277),f=t(44594),d=t(26099),u=t(82248),v=new a({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new u(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new u(this.scene,this.config),this.add=new r(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(f.UPDATE,this.world.update,this.world),g.on(f.POST_UPDATE,this.world.postUpdate,this.world),g.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,y=this.systems.settings.physics,m=n(e(y,"arcade",{}),e(g,"arcade",{}));return m},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,y,m,T,S){return m===void 0&&(m=null),T===void 0&&(T=null),S===void 0&&(S=m),this.world.collideObjects(g,y,m,T,S,!0)},collide:function(g,y,m,T,S){return m===void 0&&(m=null),T===void 0&&(T=null),S===void 0&&(S=m),this.world.collideObjects(g,y,m,T,S,!1)},collideTiles:function(g,y,m,T,S){return this.world.collideTiles(g,y,m,T,S)},overlapTiles:function(g,y,m,T,S){return this.world.overlapTiles(g,y,m,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,y,m,T,S,E){T===void 0&&(T=60);var C=Math.atan2(m-g.y,y-g.x);return g.body.acceleration.setToPolar(C,T),S!==void 0&&E!==void 0&&g.body.maxVelocity.set(S,E),C},accelerateToObject:function(g,y,m,T,S){return this.accelerateTo(g,y.x,y.y,m,T,S)},closest:function(g,y){y||(y=this.world.bodies.entries);for(var m=Number.MAX_VALUE,T=null,S=g.x,E=g.y,C=y.length,w=0;w<C;w++){var A=y[w],P=A.body||A;if(!(g===A||g===P||g===P.gameObject||g===P.center)){var M=s(S,E,P.center.x,P.center.y);M<m&&(T=A,m=M)}}return T},furthest:function(g,y){y||(y=this.world.bodies.entries);for(var m=-1,T=null,S=g.x,E=g.y,C=y.length,w=0;w<C;w++){var A=y[w],P=A.body||A;if(!(g===A||g===P||g===P.gameObject||g===P.center)){var M=s(S,E,P.center.x,P.center.y);M>m&&(T=A,m=M)}}return T},moveTo:function(g,y,m,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var E=Math.atan2(m-g.y,y-g.x);return S>0&&(T=o(g.x,g.y,y,m)/(S/1e3)),g.body.velocity.setToPolar(E,T),E},moveToObject:function(g,y,m,T){return this.moveTo(g,y.x,y.y,m,T)},velocityFromAngle:function(g,y,m){return y===void 0&&(y=60),m===void 0&&(m=new d),m.setToPolar(p(g),y)},velocityFromRotation:function(g,y,m){return y===void 0&&(y=60),m===void 0&&(m=new d),m.setToPolar(g,y)},overlapRect:function(g,y,m,T,S,E){return i(this.world,g,y,m,T,S,E)},overlapCirc:function(g,y,m,T,S){return l(this.world,g,y,m,T,S)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(f.UPDATE,this.world.update,this.world),g.off(f.POST_UPDATE,this.world.postUpdate,this.world),g.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",v,"arcadePhysics"),c.exports=v},13759:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92209),o=t(68287),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},37742:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(78389),o=t(37747),s=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),i=t(26099),h=new a({Mixins:[p],initialize:function(d,u){var v=64,g=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=u!==void 0;m&&u.displayWidth&&(v=u.displayWidth,g=u.displayHeight),m||(u=y),this.world=d,this.gameObject=m?u:void 0,this.isBody=!0,this.transform={x:u.x,y:u.y,rotation:u.angle,scaleX:u.scaleX,scaleY:u.scaleY,displayOriginX:u.displayOriginX,displayOriginY:u.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(u.x-u.scaleX*u.displayOriginX,u.y-u.scaleY*u.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=u.angle,this.preRotation=u.angle,this.width=v,this.height=g,this.sourceWidth=v,this.sourceHeight=g,u.frame&&(this.sourceWidth=u.frame.realWidth,this.sourceHeight=u.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=u.scaleX,this._sy=u.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,d=this.transform;if(f.parentContainer){var u=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=u.tx,d.y=u.ty,d.rotation=r(u.rotation),d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY}else d.x=f.x,d.y=f.y,d.rotation=f.angle,d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY;var v=!1;if(this.syncBounds){var g=f.getBounds(this._bounds);this.width=g.width,this.height=g.height,v=!0}else{var y=Math.abs(d.scaleX),m=Math.abs(d.scaleY);(this._sx!==y||this._sy!==m)&&(this.width=this.sourceWidth*y,this.height=this.sourceHeight*m,this._sx=y,this._sy=m,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var d=this.wasTouching,u=this.touching,v=this.blocked;f?l(!0,d):(d.none=u.none,d.up=u.up,d.down=u.down,d.left=u.left,d.right=u.right),l(!0,u),l(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,d){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var u=this.position;this.prev.x=u.x,this.prev.y=u.y,this.prevFrame.x=u.x,this.prevFrame.y=u.y}f&&this.update(d)},update:function(f){var d=this.prev,u=this.position,v=this.velocity;if(d.set(u.x,u.y),!this.moves){this._dx=u.x-d.x,this._dy=u.y-d.y;return}if(this.directControl){var g=this.autoFrame;v.set((u.x-g.x)/f,(u.y-g.y)/f),this.world.updateMotion(this,f),this._dx=u.x-g.x,this._dy=u.y-g.y}else this.world.updateMotion(this,f),this.newVelocity.set(v.x*f,v.y*f),u.add(this.newVelocity),this._dx=u.x-d.x,this._dy=u.y-d.y;var y=v.x,m=v.y;if(this.updateCenter(),this.angle=Math.atan2(m,y),this.speed=Math.sqrt(y*y+m*m),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var f=this.position,d=f.x-this.prevFrame.x,u=f.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var g=this.deltaMax.x,y=this.deltaMax.y;g!==0&&d!==0&&(d<0&&d<-g?d=-g:d>0&&d>g&&(d=g)),y!==0&&u!==0&&(u<0&&u<-y?u=-y:u>0&&u>y&&(u=y)),v&&(v.x+=d,v.y+=u)}d<0?this.facing=o.FACING_LEFT:d>0&&(this.facing=o.FACING_RIGHT),u<0?this.facing=o.FACING_UP:u>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=d,this._ty=u,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,d=this.velocity,u=this.blocked,v=this.customBoundsRectangle,g=this.world.checkCollision,y=this.worldBounce?-this.worldBounce.x:-this.bounce.x,m=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return f.x<v.x&&g.left?(f.x=v.x,d.x*=y,u.left=!0,T=!0):this.right>v.right&&g.right&&(f.x=v.right-this.width,d.x*=y,u.right=!0,T=!0),f.y<v.y&&g.up?(f.y=v.y,d.y*=m,u.up=!0,T=!0):this.bottom>v.bottom&&g.down&&(f.y=v.bottom-this.height,d.y*=m,u.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(f,d){return d===void 0&&(d=f),this.offset.set(f,d),this},setGameObject:function(f,d){if(d===void 0&&(d=!0),!f||!f.hasTransformComponent)return this;var u=this.world;return this.gameObject&&this.gameObject.body&&(u.disable(this.gameObject),this.gameObject.body=null),f.body&&u.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=d,this},setSize:function(f,d,u){u===void 0&&(u=!0);var v=this.gameObject;if(v&&(!f&&v.frame&&(f=v.frame.realWidth),!d&&v.frame&&(d=v.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),u&&v&&v.getCenter){var g=(v.width-f)/2,y=(v.height-d)/2;this.offset.set(g,y)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,d,u){return d===void 0&&(d=this.offset.x),u===void 0&&(u=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,u),this.updateCenter()):this.isCircle=!1,this},reset:function(f,d){this.stop();var u=this.gameObject;u&&(u.setPosition(f,d),this.rotation=u.angle,this.preRotation=u.angle);var v=this.position;u&&u.getTopLeft?u.getTopLeft(v):v.set(f,d),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),u&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,d){if(!this.isCircle)return n(this,f,d);if(this.radius>0&&f>=this.left&&f<=this.right&&d>=this.top&&d<=this.bottom){var u=(this.center.x-f)*(this.center.x-f),v=(this.center.y-d)*(this.center.y-d);return u+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var d=this.position,u=d.x+this.halfWidth,v=d.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(u,v,this.width/2):(this.checkCollision.up&&f.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&f.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&f.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&f.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(u,v,u+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,d,u,v){f===void 0&&(f=!0),this.collideWorldBounds=f;var g=d!==void 0,y=u!==void 0;return(g||y)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=d),y&&(this.worldBounce.y=u)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(f,d){return this.velocity.set(f,d),f=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(f*f+d*d),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,d){return this.maxVelocity.set(f,d),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,d){return this.slideFactor.set(f,d),this},setBounce:function(f,d){return this.bounce.set(f,d),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,d){return this.acceleration.set(f,d),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,d){return this.drag.set(f,d),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,d){return this.gravity.set(f,d),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,d){return this.friction.set(f,d),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,d,u,v){this.x+=f,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var g=this.blocked;u&&(g.left=!0,g.none=!1),v&&(g.right=!0,g.none=!1)},processY:function(f,d,u,v){this.y+=f,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var g=this.blocked;u&&(g.up=!0,g.none=!1),v&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},79342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=i,this.callbackContext=h},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=p},66022:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71289),p=t(13759),o=t(37742),s=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),i=new s({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(h,f,d,u,v){return this.world.addCollider(h,f,d,u,v)},overlap:function(h,f,d,u,v){return this.world.addOverlap(h,f,d,u,v)},existing:function(h,f){var d=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(h,d),h},staticImage:function(h,f,d,u){var v=new a(this.scene,h,f,d,u);return this.sys.displayList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},image:function(h,f,d,u){var v=new a(this.scene,h,f,d,u);return this.sys.displayList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticSprite:function(h,f,d,u){var v=new p(this.scene,h,f,d,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},sprite:function(h,f,d,u){var v=new p(this.scene,h,f,d,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticGroup:function(h,f){return this.sys.updateList.add(new l(this.world,this.world.scene,h,f))},group:function(h,f){return this.sys.updateList.add(new e(this.world,this.world.scene,h,f))},body:function(h,f,d,u){var v=new o(this.world);return v.position.set(h,f),d&&u&&v.setSize(d,u),this.world.add(v,r.DYNAMIC_BODY),v},staticBody:function(h,f,d,u){var v=new n(this.world);return v.position.set(h,f),d&&u&&v.setSize(d,u),this.world.add(v,r.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=i},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return a};c.exports=x},64897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsX()+s.deltaAbsX()+e;return o._dx===0&&s._dx===0?(o.embedded=!0,s.embedded=!0):o._dx>s._dx?(n=o.right-s.x,n>l&&!r||o.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):o._dx<s._dx&&(n=o.x-s.width-s.x,-n>l&&!r||o.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),o.overlapX=n,s.overlapX=n,n};c.exports=p},45170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsY()+s.deltaAbsY()+e;return o._dy===0&&s._dy===0?(o.embedded=!0,s.embedded=!0):o._dy>s._dy?(n=o.bottom-s.y,n>l&&!r||o.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):o._dy<s._dy&&(n=o.y-s.bottom,-n>l&&!r||o.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),o.overlapY=n,s.overlapY=n,n};c.exports=p},60758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,f,d,u){if(!d&&!u)u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))u=d,d=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var v=this;d.forEach(function(g){g.internalCreateCallback=v.createCallbackHandler,g.internalRemoveCallback=v.removeCallbackHandler,g.classType=r(g,"classType",a)}),u=null}else u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,u&&(u.classType=r(u,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(u,"collideWorldBounds",!1),setBoundsRectangle:r(u,"customBoundsRectangle",null),setAccelerationX:r(u,"accelerationX",0),setAccelerationY:r(u,"accelerationY",0),setAllowDrag:r(u,"allowDrag",!0),setAllowGravity:r(u,"allowGravity",!0),setAllowRotation:r(u,"allowRotation",!0),setDamping:r(u,"useDamping",!1),setBounceX:r(u,"bounceX",0),setBounceY:r(u,"bounceY",0),setDragX:r(u,"dragX",0),setDragY:r(u,"dragY",0),setEnable:r(u,"enable",!0),setGravityX:r(u,"gravityX",0),setGravityY:r(u,"gravityY",0),setFrictionX:r(u,"frictionX",0),setFrictionY:r(u,"frictionY",0),setMaxSpeed:r(u,"maxSpeed",-1),setMaxVelocityX:r(u,"maxVelocityX",1e4),setMaxVelocityY:r(u,"maxVelocityY",1e4),setVelocityX:r(u,"velocityX",0),setVelocityY:r(u,"velocityY",0),setAngularVelocity:r(u,"angularVelocity",0),setAngularAcceleration:r(u,"angularAcceleration",0),setAngularDrag:r(u,"angularDrag",0),setMass:r(u,"mass",1),setImmovable:r(u,"immovable",!1)},e.call(this,f,d,u),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var h=i.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,f){f===void 0&&(f=0);for(var d=this.getChildren(),u=0;u<d.length;u++)d[u].body.velocity.set(i+u*f,h+u*f);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.x=i+d*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.y=i+d*h;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,p,o,s,r,e,n,l,i,h,f,d,u,v,g,y=function(w,A,P){x=w,t=A;var M=x.velocity.x,R=t.velocity.x;return a=x.pushable,n=x._dx<0,l=x._dx>0,i=x._dx===0,u=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),r=R-M*x.bounce.x,p=t.pushable,h=t._dx<0,f=t._dx>0,d=t._dx===0,v=!u,e=M-R*t.bounce.x,g=Math.abs(P),m()},m=function(){return l&&u&&t.blocked.right?(x.processX(-g,r,!1,!0),1):n&&v&&t.blocked.left?(x.processX(g,r,!0),1):f&&v&&x.blocked.right?(t.processX(-g,e,!1,!0),2):h&&u&&x.blocked.left?(t.processX(g,e,!0),2):0},T=function(){var w=x.velocity.x,A=t.velocity.x,P=Math.sqrt(A*A*t.mass/x.mass)*(A>0?1:-1),M=Math.sqrt(w*w*x.mass/t.mass)*(w>0?1:-1),R=(P+M)*.5;return P-=R,M-=R,o=R+P*x.bounce.x,s=R+M*t.bounce.x,n&&v?S(0):h&&u?S(1):l&&u?S(2):f&&v?S(3):!1},S=function(w){if(a&&p)g*=.5,w===0||w===3?(x.processX(g,o),t.processX(-g,s)):(x.processX(-g,o),t.processX(g,s));else if(a&&!p)w===0||w===3?x.processX(g,r,!0):x.processX(-g,r,!1,!0);else if(!a&&p)w===0||w===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var A=g*.5;w===0?d?(x.processX(g,0,!0),t.processX(0,null,!1,!0)):f?(x.processX(A,0,!0),t.processX(-A,0,!1,!0)):(x.processX(A,t.velocity.x,!0),t.processX(-A,null,!1,!0)):w===1?i?(x.processX(0,null,!1,!0),t.processX(g,0,!0)):l?(x.processX(-A,0,!1,!0),t.processX(A,0,!0)):(x.processX(-A,null,!1,!0),t.processX(A,x.velocity.x,!0)):w===2?d?(x.processX(-g,0,!1,!0),t.processX(0,null,!0)):h?(x.processX(-A,0,!1,!0),t.processX(A,0,!0)):(x.processX(-A,t.velocity.x,!1,!0),t.processX(A,null,!0)):w===3&&(i?(x.processX(0,null,!0),t.processX(-g,0,!1,!0)):n?(x.processX(A,0,!0),t.processX(-A,0,!1,!0)):(x.processX(A,t.velocity.y,!0),t.processX(-A,null,!1,!0)))}return!0},E=function(w){if(w===1?t.velocity.x=0:u?t.processX(g,e,!0):t.processX(-g,e,!1,!0),x.moves){var A=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;t.y+=A*x.friction.y,t._dy=t.y-t.prev.y}},C=function(w){if(w===2?x.velocity.x=0:v?x.processX(g,r,!0):x.processX(-g,r,!1,!0),t.moves){var A=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;x.y+=A*t.friction.y,x._dy=x.y-x.prev.y}};c.exports={BlockCheck:m,Check:T,Set:y,Run:S,RunImmovableBody1:E,RunImmovableBody2:C}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,p,o,s,r,e,n,l,i,h,f,d,u,v,g,y=function(w,A,P){x=w,t=A;var M=x.velocity.y,R=t.velocity.y;return a=x.pushable,n=x._dy<0,l=x._dy>0,i=x._dy===0,u=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),r=R-M*x.bounce.y,p=t.pushable,h=t._dy<0,f=t._dy>0,d=t._dy===0,v=!u,e=M-R*t.bounce.y,g=Math.abs(P),m()},m=function(){return l&&u&&t.blocked.down?(x.processY(-g,r,!1,!0),1):n&&v&&t.blocked.up?(x.processY(g,r,!0),1):f&&v&&x.blocked.down?(t.processY(-g,e,!1,!0),2):h&&u&&x.blocked.up?(t.processY(g,e,!0),2):0},T=function(){var w=x.velocity.y,A=t.velocity.y,P=Math.sqrt(A*A*t.mass/x.mass)*(A>0?1:-1),M=Math.sqrt(w*w*x.mass/t.mass)*(w>0?1:-1),R=(P+M)*.5;return P-=R,M-=R,o=R+P*x.bounce.y,s=R+M*t.bounce.y,n&&v?S(0):h&&u?S(1):l&&u?S(2):f&&v?S(3):!1},S=function(w){if(a&&p)g*=.5,w===0||w===3?(x.processY(g,o),t.processY(-g,s)):(x.processY(-g,o),t.processY(g,s));else if(a&&!p)w===0||w===3?x.processY(g,r,!0):x.processY(-g,r,!1,!0);else if(!a&&p)w===0||w===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var A=g*.5;w===0?d?(x.processY(g,0,!0),t.processY(0,null,!1,!0)):f?(x.processY(A,0,!0),t.processY(-A,0,!1,!0)):(x.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)):w===1?i?(x.processY(0,null,!1,!0),t.processY(g,0,!0)):l?(x.processY(-A,0,!1,!0),t.processY(A,0,!0)):(x.processY(-A,null,!1,!0),t.processY(A,x.velocity.y,!0)):w===2?d?(x.processY(-g,0,!1,!0),t.processY(0,null,!0)):h?(x.processY(-A,0,!1,!0),t.processY(A,0,!0)):(x.processY(-A,t.velocity.y,!1,!0),t.processY(A,null,!0)):w===3&&(i?(x.processY(0,null,!0),t.processY(-g,0,!1,!0)):n?(x.processY(A,0,!0),t.processY(-A,0,!1,!0)):(x.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)))}return!0},E=function(w){if(w===1?t.velocity.y=0:u?t.processY(g,e,!0):t.processY(-g,e,!1,!0),x.moves){var A=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;t.x+=A*x.friction.x,t._dx=t.x-t.prev.x}},C=function(w){if(w===2?x.velocity.y=0:v?x.processY(g,r,!0):x.processY(-g,r,!1,!0),t.moves){var A=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;x.x+=A*t.friction.x,x._dx=x.x-x.prev.x}};c.exports={BlockCheck:m,Check:T,Set:y,Run:S,RunImmovableBody1:E,RunImmovableBody2:C}},14087:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64897),p=t(3017),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var f=p.Set(s,r,l);return!i&&!h?f>0?!0:p.Check():(i?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};c.exports=o},89936:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45170),p=t(47962),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var f=p.Set(s,r,l);return!i&&!h?f>0?!0:p.Check():(i?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};c.exports=o},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};c.exports=x},72624:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=t(83419),o=t(78389),s=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new p({Mixins:[o],initialize:function(h,f){var d=64,u=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=f!==void 0;g&&f.displayWidth&&(d=f.displayWidth,u=f.displayHeight),g||(f=v),this.world=h,this.gameObject=g?f:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-d*f.originX,f.y-u*f.originY),this.width=d,this.height=u,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h,f){if(h===void 0&&(h=!0),f===void 0&&(f=!0),!i||!i.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),i.body&&d.disable(i),this.gameObject=i,i.body=this,this.setSize(),h&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,f){f===void 0&&(f=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),h||(h=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),f&&d&&d.getCenter){var u=d.displayWidth/2,v=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,f){return h===void 0&&(h=this.offset.x),f===void 0&&(f=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var f=this.gameObject;i===void 0&&(i=f.x),h===void 0&&(h=f.y),this.world.staticTree.remove(this),f.setPosition(i,h),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?a(this,i,h):r(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,f=h.x+this.halfWidth,d=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(f,d,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,f,d,u){!d&&!u?u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:n(d)?(u=d,d=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler,u.createMultipleCallback=this.createMultipleCallbackHandler,u.classType=r(u,"classType",a)):Array.isArray(d)&&n(d[0])?(u=d,d=null,u.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",a)})):u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,d,u),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});c.exports=l},82248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55495),p=t(37742),o=t(45319),s=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),i=t(50792),h=t(63012),f=t(43855),d=t(5470),u=t(94977),v=t(64897),g=t(45170),y=t(96523),m=t(35154),T=t(36383),S=t(25774),E=t(96602),C=t(87841),w=t(59542),A=t(40012),P=t(14087),M=t(89936),R=t(35072),I=t(72624),D=t(2483),Y=t(61340),B=t(26099),O=t(15994),N=new s({Extends:i,initialize:function(W,F){i.call(this),this.scene=W,this.bodies=new R,this.staticBodies=new R,this.pendingDestroy=new R,this.colliders=new S,this.gravity=new B(m(F,"gravity.x",0),m(F,"gravity.y",0)),this.bounds=new C(m(F,"x",0),m(F,"y",0),m(F,"width",W.sys.scale.width),m(F,"height",W.sys.scale.height)),this.checkCollision={up:m(F,"checkCollision.up",!0),down:m(F,"checkCollision.down",!0),left:m(F,"checkCollision.left",!0),right:m(F,"checkCollision.right",!0)},this.fps=m(F,"fps",60),this.fixedStep=m(F,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=m(F,"timeScale",1),this.OVERLAP_BIAS=m(F,"overlapBias",4),this.TILE_BIAS=m(F,"tileBias",16),this.forceX=m(F,"forceX",!1),this.isPaused=m(F,"isPaused",!1),this._total=0,this.drawDebug=m(F,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:m(F,"debugShowBody",!0),debugShowStaticBody:m(F,"debugShowStaticBody",!0),debugShowVelocity:m(F,"debugShowVelocity",!0),bodyDebugColor:m(F,"debugBodyColor",16711935),staticBodyDebugColor:m(F,"debugStaticBodyColor",255),velocityDebugColor:m(F,"debugVelocityColor",65280)},this.maxEntries=m(F,"maxEntries",16),this.useTree=m(F,"useTree",!0),this.tree=new w(this.maxEntries),this.staticTree=new w(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(L,W){W===void 0&&(W=e.DYNAMIC_BODY),Array.isArray(L)||(L=[L]);for(var F=0;F<L.length;F++){var U=L[F];if(U.isParent)for(var Z=U.getChildren(),J=0;J<Z.length;J++){var Q=Z[J];Q.isParent?this.enable(Q,W):this.enableBody(Q,W)}else this.enableBody(U,W)}},enableBody:function(L,W){return W===void 0&&(W=e.DYNAMIC_BODY),L.hasTransformComponent&&(L.body||(W===e.DYNAMIC_BODY?L.body=new p(this,L):W===e.STATIC_BODY&&(L.body=new I(this,L))),this.add(L.body)),L},add:function(L){return L.physicsType===e.DYNAMIC_BODY?this.bodies.set(L):L.physicsType===e.STATIC_BODY&&(this.staticBodies.set(L),this.staticTree.insert(L)),L.enable=!0,L},disable:function(L){Array.isArray(L)||(L=[L]);for(var W=0;W<L.length;W++){var F=L[W];if(F.isParent)for(var U=F.getChildren(),Z=0;Z<U.length;Z++){var J=U[Z];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(F.body)}},disableBody:function(L){this.remove(L),L.enable=!1},remove:function(L){L.physicsType===e.DYNAMIC_BODY?(this.tree.remove(L),this.bodies.delete(L)):L.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(L),this.staticTree.remove(L))},createDebugGraphic:function(){var L=this.scene.sys.add.graphics({x:0,y:0});return L.setDepth(Number.MAX_VALUE),this.debugGraphic=L,this.drawDebug=!0,L},setBounds:function(L,W,F,U,Z,J,Q,k){return this.bounds.setTo(L,W,F,U),Z!==void 0&&this.setBoundsCollision(Z,J,Q,k),this},setBoundsCollision:function(L,W,F,U){return L===void 0&&(L=!0),W===void 0&&(W=!0),F===void 0&&(F=!0),U===void 0&&(U=!0),this.checkCollision.left=L,this.checkCollision.right=W,this.checkCollision.up=F,this.checkCollision.down=U,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(L,W,F,U,Z){F===void 0&&(F=null),U===void 0&&(U=null),Z===void 0&&(Z=F);var J=new r(this,!1,L,W,F,U,Z);return this.colliders.add(J),J},addOverlap:function(L,W,F,U,Z){F===void 0&&(F=null),U===void 0&&(U=null),Z===void 0&&(Z=F);var J=new r(this,!0,L,W,F,U,Z);return this.colliders.add(J),J},removeCollider:function(L){return this.colliders.remove(L),this},setFPS:function(L){return this.fps=L,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(L,W){if(!(this.isPaused||this.bodies.size===0)){var F,U=this._frameTime,Z=this._frameTimeMS*this.timeScale;this._elapsed+=W;var J,Q=this.bodies.entries,k=this._elapsed>=Z;for(this.fixedStep||(U=W*.001,k=!0,this._elapsed=0),F=0;F<Q.length;F++)J=Q[F],J.enable&&J.preUpdate(k,U);if(k){this._elapsed-=Z,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var et=this.colliders.update();for(F=0;F<et.length;F++){var it=et[F];it.active&&it.update()}this.emit(h.WORLD_STEP,U)}for(;this._elapsed>=Z;)this._elapsed-=Z,this.step(U)}},step:function(L){var W,F,U=this.bodies.entries,Z=U.length;for(W=0;W<Z;W++)F=U[W],F.enable&&F.update(L);this.useTree&&(this.tree.clear(),this.tree.load(U));var J=this.colliders.update();for(W=0;W<J.length;W++){var Q=J[W];Q.active&&Q.update()}this.emit(h.WORLD_STEP,L),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var L,W,F=this.bodies.entries,U=F.length,Z=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,L=0;L<U;L++)W=F[L],W.enable&&W.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),L=0;L<U;L++)W=F[L],W.willDrawDebug()&&W.drawDebug(Q);for(F=J.entries,U=F.length,L=0;L<U;L++)W=F[L],W.willDrawDebug()&&W.drawDebug(Q)}var k=this.pendingDestroy;if(k.size>0){var et=this.tree,it=this.staticTree;for(F=k.entries,U=F.length,L=0;L<U;L++)W=F[L],W.physicsType===e.DYNAMIC_BODY?(et.remove(W),Z.delete(W)):W.physicsType===e.STATIC_BODY&&(it.remove(W),J.delete(W)),W.world=void 0,W.gameObject=void 0;k.clear()}},updateMotion:function(L,W){L.allowRotation&&this.computeAngularVelocity(L,W),this.computeVelocity(L,W)},computeAngularVelocity:function(L,W){var F=L.angularVelocity,U=L.angularAcceleration,Z=L.angularDrag,J=L.maxAngular;U?F+=U*W:L.allowDrag&&Z&&(Z*=W,d(F-Z,0,.1)?F-=Z:u(F+Z,0,.1)?F+=Z:F=0),F=o(F,-J,J);var Q=F-L.angularVelocity;L.angularVelocity+=Q,L.rotation+=L.angularVelocity*W},computeVelocity:function(L,W){var F=L.velocity.x,U=L.acceleration.x,Z=L.drag.x,J=L.maxVelocity.x,Q=L.velocity.y,k=L.acceleration.y,et=L.drag.y,it=L.maxVelocity.y,q=L.speed,tt=L.maxSpeed,nt=L.allowDrag,ht=L.useDamping;L.allowGravity&&(F+=(this.gravity.x+L.gravity.x)*W,Q+=(this.gravity.y+L.gravity.y)*W),U?F+=U*W:nt&&Z&&(ht?(Z=Math.pow(Z,W),F*=Z,q=Math.sqrt(F*F+Q*Q),f(q,0,.001)&&(F=0)):(Z*=W,d(F-Z,0,.01)?F-=Z:u(F+Z,0,.01)?F+=Z:F=0)),k?Q+=k*W:nt&&et&&(ht?(et=Math.pow(et,W),Q*=et,q=Math.sqrt(F*F+Q*Q),f(q,0,.001)&&(Q=0)):(et*=W,d(Q-et,0,.01)?Q-=et:u(Q+et,0,.01)?Q+=et:Q=0)),F=o(F,-J,J),Q=o(Q,-it,it),L.velocity.set(F,Q),tt>-1&&L.velocity.length()>tt&&(L.velocity.normalize().scale(tt),q=tt),L.speed=q},separate:function(L,W,F,U,Z){var J,Q,k=!1,et=!0;if(!L.enable||!W.enable||L.checkCollision.none||W.checkCollision.none||!this.intersects(L,W)||!(L.collisionMask&W.collisionCategory)||!(W.collisionMask&L.collisionCategory)||F&&F.call(U,L.gameObject||L,W.gameObject||W)===!1)return k;if(L.isCircle||W.isCircle){var it=this.separateCircle(L,W,Z);it.result?(k=!0,et=!1):(J=it.x,Q=it.y,et=!0)}if(et){var q=!1,tt=!1,nt=this.OVERLAP_BIAS;Z?(q=P(L,W,Z,nt,J),tt=M(L,W,Z,nt,Q)):this.forceX||Math.abs(this.gravity.y+L.gravity.y)<Math.abs(this.gravity.x+L.gravity.x)?(q=P(L,W,Z,nt,J),this.intersects(L,W)&&(tt=M(L,W,Z,nt,Q))):(tt=M(L,W,Z,nt,Q),this.intersects(L,W)&&(q=P(L,W,Z,nt,J))),k=q||tt}return k&&(Z?(L.onOverlap||W.onOverlap)&&this.emit(h.OVERLAP,L.gameObject,W.gameObject,L,W):(L.onCollide||W.onCollide)&&this.emit(h.COLLIDE,L.gameObject,W.gameObject,L,W)),k},separateCircle:function(L,W,F){v(L,W,!1,0),g(L,W,!1,0);var U=L.isCircle,Z=W.isCircle,J=L.center,Q=W.center,k=L.immovable,et=W.immovable,it=L.velocity,q=W.velocity,tt=0,nt=!0;if(U!==Z){nt=!1;var ht=J.x,gt=J.y,mt=L.halfWidth,at=W.position.x,ft=W.position.y,xt=W.right,vt=W.bottom;Z&&(ht=Q.x,gt=Q.y,mt=W.halfWidth,at=L.position.x,ft=L.position.y,xt=L.right,vt=L.bottom),gt<ft?ht<at?tt=n(ht,gt,at,ft)-mt:ht>xt&&(tt=n(ht,gt,xt,ft)-mt):gt>vt&&(ht<at?tt=n(ht,gt,at,vt)-mt:ht>xt&&(tt=n(ht,gt,xt,vt)-mt)),tt*=-1}else tt=L.halfWidth+W.halfWidth-l(J,Q);L.overlapR=tt,W.overlapR=tt;var Pt=a(J,Q),H=(tt+T.EPSILON)*Math.cos(Pt),K=(tt+T.EPSILON)*Math.sin(Pt),$={overlap:tt,result:!1,x:H,y:K};if(F&&(!nt||nt&&tt!==0))return $.result=!0,$;if(!nt&&tt===0||k&&et||L.customSeparateX||W.customSeparateX)return $.x=void 0,$.y=void 0,$;var _=!L.pushable&&!W.pushable;if(nt){var st=J.x-Q.x,dt=J.y-Q.y,pt=Math.sqrt(Math.pow(st,2)+Math.pow(dt,2)),ot=(Q.x-J.x)/pt||0,ct=(Q.y-J.y)/pt||0,Ct=2*(it.x*ot+it.y*ct-q.x*ot-q.y*ct)/(L.mass+W.mass);(k||et||!L.pushable||!W.pushable)&&(Ct*=2),!k&&L.pushable&&(it.x=it.x-Ct/L.mass*ot,it.y=it.y-Ct/L.mass*ct,it.multiply(L.bounce)),!et&&W.pushable&&(q.x=q.x+Ct/W.mass*ot,q.y=q.y+Ct/W.mass*ct,q.multiply(W.bounce)),!k&&!et&&(H*=.5,K*=.5),(!k||L.pushable||_)&&(L.x-=H,L.y-=K,L.updateCenter()),(!et||W.pushable||_)&&(W.x+=H,W.y+=K,W.updateCenter()),$.result=!0}else!k&&(L.pushable||_)&&(L.x-=H,L.y-=K,L.updateCenter()),!et&&(W.pushable||_)&&(W.x+=H,W.y+=K,W.updateCenter()),$.x=void 0,$.y=void 0;return $},intersects:function(L,W){return L===W?!1:!L.isCircle&&!W.isCircle?!(L.right<=W.left||L.bottom<=W.top||L.left>=W.right||L.top>=W.bottom):L.isCircle?W.isCircle?l(L.center,W.center)<=L.halfWidth+W.halfWidth:this.circleBodyIntersects(L,W):this.circleBodyIntersects(W,L)},circleBodyIntersects:function(L,W){var F=o(L.center.x,W.left,W.right),U=o(L.center.y,W.top,W.bottom),Z=(L.center.x-F)*(L.center.x-F),J=(L.center.y-U)*(L.center.y-U);return Z+J<=L.halfWidth*L.halfWidth},overlap:function(L,W,F,U,Z){return F===void 0&&(F=null),U===void 0&&(U=null),Z===void 0&&(Z=F),this.collideObjects(L,W,F,U,Z,!0)},collide:function(L,W,F,U,Z){return F===void 0&&(F=null),U===void 0&&(U=null),Z===void 0&&(Z=F),this.collideObjects(L,W,F,U,Z,!1)},collideObjects:function(L,W,F,U,Z,J){var Q,k;L.isParent&&(L.physicsType===void 0||W===void 0||L===W)&&(L=L.children.entries),W&&W.isParent&&W.physicsType===void 0&&(W=W.children.entries);var et=Array.isArray(L),it=Array.isArray(W);if(this._total=0,!et&&!it)this.collideHandler(L,W,F,U,Z,J);else if(!et&&it)for(Q=0;Q<W.length;Q++)this.collideHandler(L,W[Q],F,U,Z,J);else if(et&&!it)if(W)for(Q=0;Q<L.length;Q++)this.collideHandler(L[Q],W,F,U,Z,J);else for(Q=0;Q<L.length;Q++){var q=L[Q];for(k=Q+1;k<L.length;k++)Q!==k&&this.collideHandler(q,L[k],F,U,Z,J)}else for(Q=0;Q<L.length;Q++)for(k=0;k<W.length;k++)this.collideHandler(L[Q],W[k],F,U,Z,J);return this._total>0},collideHandler:function(L,W,F,U,Z,J){if(W===void 0&&L.isParent)return this.collideGroupVsGroup(L,L,F,U,Z,J);if(!L||!W)return!1;if(L.body||L.isBody){if(W.body||W.isBody)return this.collideSpriteVsSprite(L,W,F,U,Z,J);if(W.isParent)return this.collideSpriteVsGroup(L,W,F,U,Z,J);if(W.isTilemap)return this.collideSpriteVsTilemapLayer(L,W,F,U,Z,J)}else if(L.isParent){if(W.body||W.isBody)return this.collideSpriteVsGroup(W,L,F,U,Z,J);if(W.isParent)return this.collideGroupVsGroup(L,W,F,U,Z,J);if(W.isTilemap)return this.collideGroupVsTilemapLayer(L,W,F,U,Z,J)}else if(L.isTilemap){if(W.body||W.isBody)return this.collideSpriteVsTilemapLayer(W,L,F,U,Z,J);if(W.isParent)return this.collideGroupVsTilemapLayer(W,L,F,U,Z,J)}},canCollide:function(L,W){return L&&W&&(L.collisionMask&W.collisionCategory)!==0&&(W.collisionMask&L.collisionCategory)!==0},collideSpriteVsSprite:function(L,W,F,U,Z,J){var Q=L.isBody?L:L.body,k=W.isBody?W:W.body;return this.canCollide(Q,k)?(this.separate(Q,k,U,Z,J)&&(F&&F.call(Z,L,W),this._total++),!0):!1},collideSpriteVsGroup:function(L,W,F,U,Z,J){var Q=L.isBody?L:L.body;if(!(W.getLength()===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,W))){var k,et,it;if(this.useTree||W.physicsType===e.STATIC_BODY){var q=this.treeMinMax;q.minX=Q.left,q.minY=Q.top,q.maxX=Q.right,q.maxY=Q.bottom;var tt=W.physicsType===e.DYNAMIC_BODY?this.tree.search(q):this.staticTree.search(q);for(et=tt.length,k=0;k<et;k++)it=tt[k],!(Q===it||!it.enable||it.checkCollision.none||!W.contains(it.gameObject))&&this.separate(Q,it,U,Z,J)&&(F&&F.call(Z,Q.gameObject,it.gameObject),this._total++)}else{var nt=W.getChildren(),ht=W.children.entries.indexOf(L);for(et=nt.length,k=0;k<et;k++)it=nt[k].body,!(!it||k===ht||!it.enable)&&this.separate(Q,it,U,Z,J)&&(F&&F.call(Z,Q.gameObject,it.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(L,W,F,U,Z,J){if(!this.canCollide(L,W))return!1;var Q=L.getChildren();if(Q.length===0)return!1;for(var k=!1,et=0;et<Q.length;et++)(Q[et].body||Q[et].isBody)&&this.collideSpriteVsTilemapLayer(Q[et],W,F,U,Z,J)&&(k=!0);return k},collideTiles:function(L,W,F,U,Z){return W.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,W,F,U,Z,!1,!1)},overlapTiles:function(L,W,F,U,Z){return W.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,W,F,U,Z,!0,!1)},collideSpriteVsTilemapLayer:function(L,W,F,U,Z,J){var Q=L.isBody?L:L.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,W))return!1;var k=W.layer,et=Q.x-k.tileWidth*W.scaleX,it=Q.y-k.tileHeight*W.scaleY,q=Q.width+k.tileWidth*W.scaleX,tt=Q.height+k.tileHeight*W.scaleY,nt=J?null:this.tileFilterOptions,ht=y(et,it,q,tt,nt,W.scene.cameras.main,W.layer);return ht.length===0?!1:this.collideSpriteVsTilesHandler(L,ht,F,U,Z,J,!0)},collideSpriteVsTilesHandler:function(L,W,F,U,Z,J,Q){for(var k=L.isBody?L:L.body,et,it={left:0,right:0,top:0,bottom:0},q,tt=!1,nt=0;nt<W.length;nt++){et=W[nt],q=et.tilemapLayer;var ht=q.tileToWorldXY(et.x,et.y);it.left=ht.x,it.top=ht.y,it.right=it.left+et.width*q.scaleX,it.bottom=it.top+et.height*q.scaleY,D(it,k)&&(!U||U.call(Z,L,et))&&E(et,L)&&(J||A(nt,k,et,it,q,this.TILE_BIAS,Q))&&(this._total++,tt=!0,F&&F.call(Z,L,et),J&&k.onOverlap?this.emit(h.TILE_OVERLAP,L,et,k):k.onCollide&&this.emit(h.TILE_COLLIDE,L,et,k))}return tt},collideGroupVsGroup:function(L,W,F,U,Z,J){if(!(L.getLength()===0||W.getLength()===0||!this.canCollide(L,W)))for(var Q=L.getChildren(),k=0;k<Q.length;k++)this.collideSpriteVsGroup(Q[k],W,F,U,Z,J)},wrap:function(L,W){L.body?this.wrapObject(L,W):L.getChildren?this.wrapArray(L.getChildren(),W):Array.isArray(L)?this.wrapArray(L,W):this.wrapObject(L,W)},wrapArray:function(L,W){for(var F=0;F<L.length;F++)this.wrapObject(L[F],W)},wrapObject:function(L,W){W===void 0&&(W=0),L.x=O(L.x,this.bounds.left-W,this.bounds.right+W),L.y=O(L.y,this.bounds.top-W,this.bounds.bottom+W)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=N},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=x},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=x},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,p,o){return this.body.setCollideWorldBounds(t,a,p,o),this}};c.exports=x},78389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79599),p={setCollisionCategory:function(o){var s=this.body?this.body:this;return s.collisionCategory=o,this},willCollideWith:function(o){var s=this.body?this.body:this;return(s.collisionMask&o)!==0},addCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|o,this},removeCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~o,this},setCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=a(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};c.exports=p},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(t,a,p){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=x},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=x},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,p,o,s){return t&&this.body.reset(a,p),o&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=x},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=x},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=x},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=x},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(t){return this.body.mass=t,this}};c.exports=x},72441:(c,x,t)=>{var a=t(47956),p=t(96503),o=t(2044),s=t(81491),r=function(e,n,l,i,h,f){var d=a(e,n-i,l-i,2*i,2*i,h,f);if(d.length===0)return d;for(var u=new p(n,l,i),v=new p,g=[],y=0;y<d.length;y++){var m=d[y];m.isCircle?(v.setTo(m.center.x,m.center.y,m.halfWidth),o(u,v)&&g.push(m)):s(u,m)&&g.push(m)}return g};c.exports=r},47956:c=>{var x=function(t,a,p,o,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],i=t.treeMinMax;if(i.minX=a,i.minY=p,i.maxX=a+o,i.maxY=p+s,e&&(l=t.staticTree.search(i)),r&&t.useTree)n=t.tree.search(i);else if(r){var h=t.bodies,f={position:{x:a,y:p},left:a,top:p,right:a+o,bottom:p+s,isCircle:!1},d=t.intersects;h.iterate(function(u){d(u,f)&&n.push(u)})}return l.concat(n)};c.exports=x},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=x},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,p){return this.body.setSize(t,a,p),this},setBodySize:function(t,a,p){return this.body.setSize(t,a,p),this},setCircle:function(t,a,p){return this.body.setCircle(t,a,p),this}};c.exports=x},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};c.exports=x},92209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=x},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=p(!1,o,a),c.exports=o},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};c.exports=x},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=x},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=x},40012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21329),p=t(53442),o=t(2483),s=function(r,e,n,l,i,h,f){var d=l.left,u=l.top,v=l.right,g=l.bottom,y=n.faceLeft||n.faceRight,m=n.faceTop||n.faceBottom;if(f||(y=!0,m=!0),!y&&!m)return!1;var T=0,S=0,E=0,C=1;if(e.deltaAbsX()>e.deltaAbsY()?E=-1:e.deltaAbsX()<e.deltaAbsY()&&(C=-1),e.deltaX()!==0&&e.deltaY()!==0&&y&&m&&(E=Math.min(Math.abs(e.position.x-v),Math.abs(e.right-d)),C=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-u))),E<C){if(y&&(T=a(e,n,d,v,h,f),T!==0&&!o(l,e)))return!0;m&&(S=p(e,n,u,g,h,f))}else{if(m&&(S=p(e,n,u,g,h,f),S!==0&&!o(l,e)))return!0;y&&(T=a(e,n,d,v,h,f))}return T!==0||S!==0};c.exports=s},21329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36294),p=function(o,s,r,e,n,l){var i=0,h=s.faceLeft,f=s.faceRight,d=s.collideLeft,u=s.collideRight;return l||(h=!0,f=!0,d=!0,u=!0),o.deltaX()<0&&u&&o.checkCollision.left?f&&o.x<e&&(i=o.x-e,i<-n&&(i=0)):o.deltaX()>0&&d&&o.checkCollision.right&&h&&o.right>r&&(i=o.right-r,i>n&&(i=0)),i!==0&&(o.customSeparateX?o.overlapX=i:a(o,i)),i};c.exports=p},53442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67013),p=function(o,s,r,e,n,l){var i=0,h=s.faceTop,f=s.faceBottom,d=s.collideUp,u=s.collideDown;return l||(h=!0,f=!0,d=!0,u=!0),o.deltaY()<0&&u&&o.checkCollision.up?f&&o.y<e&&(i=o.y-e,i<-n&&(i=0)):o.deltaY()>0&&d&&o.checkCollision.down&&h&&o.bottom>r&&(i=o.bottom-r,i>n&&(i=0)),i!==0&&(o.customSeparateY?o.overlapY=i:a(o,i)),i};c.exports=p},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};c.exports=x},55173:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=a},44563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,h=l*s.centerOfMass.y;return r.set(n/2,l/2),e.set(i-r.x,h-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.centerDiff;return new p(r+n.x,e+n.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e-(n.y-l.y))}return!1}});c.exports=o},19933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,c.exports=a},28137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(83419),o=t(74116),s=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),i=t(73834),h=t(19496),f=t(85791),d=t(98713),u=t(41598),v=new p({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(g,y,m,T,S){var E=a.rectangle(g,y,m,T,S);return this.world.add(E),E},trapezoid:function(g,y,m,T,S,E){var C=a.trapezoid(g,y,m,T,S,E);return this.world.add(C),C},circle:function(g,y,m,T,S){var E=a.circle(g,y,m,T,S);return this.world.add(E),E},polygon:function(g,y,m,T,S){var E=a.polygon(g,y,m,T,S);return this.world.add(E),E},fromVertices:function(g,y,m,T,S,E,C){typeof m=="string"&&(m=u.fromPath(m));var w=a.fromVertices(g,y,m,T,S,E,C);return this.world.add(w),w},fromPhysicsEditor:function(g,y,m,T,S){S===void 0&&(S=!0);var E=h.parseBody(g,y,m,T);return S&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(g,y,m,T,S,E){T===void 0&&(T=1),S===void 0&&(S={}),E===void 0&&(E=!0);for(var C=m.getElementsByTagName("path"),w=[],A=0;A<C.length;A++){var P=r.pathToVertices(C[A],30);T!==1&&u.scale(P,T,T),w.push(P)}var M=a.fromVertices(g,y,w,S);return E&&this.world.add(M),M},fromJSON:function(g,y,m,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var E=f.parseBody(g,y,m,T);return E&&S&&this.world.add(E),E},imageStack:function(g,y,m,T,S,E,C,w,A){C===void 0&&(C=0),w===void 0&&(w=0),A===void 0&&(A={});var P=this.world,M=this.sys.displayList;A.addToWorld=!1;var R=o.stack(m,T,S,E,C,w,function(I,D){var Y=new n(P,I,D,g,y,A);return M.add(Y),Y.body});return P.add(R),R},stack:function(g,y,m,T,S,E,C){var w=o.stack(g,y,m,T,S,E,C);return this.world.add(w),w},pyramid:function(g,y,m,T,S,E,C){var w=o.pyramid(g,y,m,T,S,E,C);return this.world.add(w),w},chain:function(g,y,m,T,S,E){return o.chain(g,y,m,T,S,E)},mesh:function(g,y,m,T,S){return o.mesh(g,y,m,T,S)},newtonsCradle:function(g,y,m,T,S){var E=o.newtonsCradle(g,y,m,T,S);return this.world.add(E),E},car:function(g,y,m,T,S){var E=o.car(g,y,m,T,S);return this.world.add(E),E},softBody:function(g,y,m,T,S,E,C,w,A,P){var M=o.softBody(g,y,m,T,S,E,C,w,A,P);return this.world.add(M),M},joint:function(g,y,m,T,S){return this.constraint(g,y,m,T,S)},spring:function(g,y,m,T,S){return this.constraint(g,y,m,T,S)},constraint:function(g,y,m,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=g.type==="body"?g:g.body,S.bodyB=y.type==="body"?y:y.body,isNaN(m)||(S.length=m),S.stiffness=T;var E=s.create(S);return this.world.add(E),E},worldConstraint:function(g,y,m,T){m===void 0&&(m=1),T===void 0&&(T={}),T.bodyB=g.type==="body"?g:g.body,isNaN(y)||(T.length=y),T.stiffness=m;var S=s.create(T);return this.world.add(S),S},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var y=new d(this.scene,this.world,g);return this.world.add(y.constraint),y},image:function(g,y,m,T,S){var E=new n(this.world,g,y,m,T,S);return this.sys.displayList.add(E),E},tileBody:function(g,y){return new i(this.world,g,y)},sprite:function(g,y,m,T,S){var E=new l(this.world,g,y,m,T,S);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(g,y,m){return e(this.world,g,y,m)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=v},75803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31884),p=t(95540),o=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,i){l===void 0&&(l={}),i===void 0&&(i=!0);var h=n.x,f=n.y;n.body={temp:!0,position:{x:h,y:f}};var d=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(d.forEach(function(v){for(var g in v)s(v[g])?Object.defineProperty(n,g,{get:v[g].get,set:v[g].set}):Object.defineProperty(n,g,{value:v[g]})}),n.world=e,n._tempVec2=new o(h,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,i);else{var u=p(l,"shape",null);u||(u="rectangle"),l.addToWorld=i,n.setBody(u,l)}return n};c.exports=r},23181:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31884),o=t(95643),s=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new a({Extends:r,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(h,f,d,u,v,g){o.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,v),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new n(f,d);var y=s(g,"shape",null);y?this.setBody(y,g):this.setRectangle(this.width,this.height,g),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=t(66615),o=t(66280),s=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),i=t(53402),h=t(69351),f=t(74116),d=t(48140),u=t(81388),v=t(20339),g=t(28137),y=t(95540),m=t(35154),T=t(46975),S=t(4506),E=t(99561),C=t(37277),w=t(73296),A=t(66272),P=t(44594),M=t(74058),R=t(31725),I=t(41598),D=t(68243);i.setDecomp(t(55973));var Y=new n({initialize:function(O){this.scene=O,this.systems=O.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.collision=l,this.detector=u,this.pair=S,this.pairs=E,this.query=w,this.resolver=A,this.constraint=d,this.bodies=o,this.composites=f,this.axes=p,this.bounds=e,this.svg=M,this.vector=R,this.vertices=I,this.verts=I,this._tempVec2=R.create(),A._restingThresh=m(this.config,"restingThresh",4),A._restingThreshTangent=m(this.config,"restingThreshTangent",6),A._positionDampen=m(this.config,"positionDampen",.9),A._positionWarming=m(this.config,"positionWarming",.8),A._frictionNormalMultiplier=m(this.config,"frictionNormalMultiplier",5),O.sys.events.once(P.BOOT,this.boot,this),O.sys.events.on(P.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new r,this.systems.events.once(P.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new g(this.world));var B=this.systems.events;B.on(P.UPDATE,this.world.update,this.world),B.on(P.POST_UPDATE,this.world.postUpdate,this.world),B.once(P.SHUTDOWN,this.shutdown,this)},getConfig:function(){var B=this.systems.game.config.physics,O=this.systems.settings.physics,N=T(y(O,"matter",{}),y(B,"matter",{}));return N},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(B,O){this.world.step(B,O)},containsPoint:function(B,O,N){B=this.getMatterBodies(B);var L=R.create(O,N),W=w.point(B,L);return W.length>0},intersectPoint:function(B,O,N){N=this.getMatterBodies(N);var L=R.create(B,O),W=[],F=w.point(N,L);return F.forEach(function(U){W.indexOf(U)===-1&&W.push(U)}),W},intersectRect:function(B,O,N,L,W,F){W===void 0&&(W=!1),F=this.getMatterBodies(F);var U={min:{x:B,y:O},max:{x:B+N,y:O+L}},Z=[],J=w.region(F,U,W);return J.forEach(function(Q){Z.indexOf(Q)===-1&&Z.push(Q)}),Z},intersectRay:function(B,O,N,L,W,F){W===void 0&&(W=1),F=this.getMatterBodies(F);for(var U=[],Z=w.ray(F,R.create(B,O),R.create(N,L),W),J=0;J<Z.length;J++)U.push(Z[J].body);return U},intersectBody:function(B,O){O=this.getMatterBodies(O);for(var N=[],L=w.collides(B,O),W=0;W<L.length;W++){var F=L[W];F.bodyA===B?N.push(F.bodyB):N.push(F.bodyA)}return N},overlap:function(B,O,N,L,W){N===void 0&&(N=null),L===void 0&&(L=null),W===void 0&&(W=N),Array.isArray(B)||(B=[B]),B=this.getMatterBodies(B),O=this.getMatterBodies(O);for(var F=!1,U=0;U<B.length;U++)for(var Z=B[U],J=w.collides(Z,O),Q=0;Q<J.length;Q++){var k=J[Q],et=k.bodyA.id===Z.id?k.bodyB:k.bodyA;if(!L||L.call(W,Z,et,k)){if(F=!0,N)N.call(W,Z,et,k);else if(!L)return!0}}return F},setCollisionCategory:function(B,O){return B=this.getMatterBodies(B),B.forEach(function(N){N.collisionFilter.category=O}),this},setCollisionGroup:function(B,O){return B=this.getMatterBodies(B),B.forEach(function(N){N.collisionFilter.group=O}),this},setCollidesWith:function(B,O){B=this.getMatterBodies(B);var N=0;if(!Array.isArray(O))N=O;else for(var L=0;L<O.length;L++)N|=O[L];return B.forEach(function(W){W.collisionFilter.mask=N}),this},getMatterBodies:function(B){if(!B)return this.world.getAllBodies();Array.isArray(B)||(B=[B]);for(var O=[],N=0;N<B.length;N++){var L=B[N].hasOwnProperty("body")?B[N].body:B[N];O.push(L)}return O},setVelocity:function(B,O,N){B=this.getMatterBodies(B);var L=this._tempVec2;return L.x=O,L.y=N,B.forEach(function(W){s.setVelocity(W,L)}),this},setVelocityX:function(B,O){B=this.getMatterBodies(B);var N=this._tempVec2;return N.x=O,B.forEach(function(L){N.y=L.velocity.y,s.setVelocity(L,N)}),this},setVelocityY:function(B,O){B=this.getMatterBodies(B);var N=this._tempVec2;return N.y=O,B.forEach(function(L){N.x=L.velocity.x,s.setVelocity(L,N)}),this},setAngularVelocity:function(B,O){return B=this.getMatterBodies(B),B.forEach(function(N){s.setAngularVelocity(N,O)}),this},applyForce:function(B,O){B=this.getMatterBodies(B);var N=this._tempVec2;return B.forEach(function(L){N.x=L.position.x,N.y=L.position.y,s.applyForce(L,N,O)}),this},applyForceFromPosition:function(B,O,N,L){B=this.getMatterBodies(B);var W=this._tempVec2;return B.forEach(function(F){L===void 0&&(L=F.angle),W.x=N*Math.cos(L),W.y=N*Math.sin(L),s.applyForce(F,O,W)}),this},applyForceFromAngle:function(B,O,N){B=this.getMatterBodies(B);var L=this._tempVec2;return B.forEach(function(W){N===void 0&&(N=W.angle),L.x=O*Math.cos(N),L.y=O*Math.sin(N),s.applyForce(W,{x:W.position.x,y:W.position.y},L)}),this},getConstraintLength:function(B){var O=B.pointA.x,N=B.pointA.y,L=B.pointB.x,W=B.pointB.y;return B.bodyA&&(O+=B.bodyA.position.x,N+=B.bodyA.position.y),B.bodyB&&(L+=B.bodyB.position.x,W+=B.bodyB.position.y),v(O,N,L,W)},alignBody:function(B,O,N,L){B=B.hasOwnProperty("body")?B.body:B;var W;switch(L){case a.TOP_LEFT:case a.LEFT_TOP:W=this.bodyBounds.getTopLeft(B,O,N);break;case a.TOP_CENTER:W=this.bodyBounds.getTopCenter(B,O,N);break;case a.TOP_RIGHT:case a.RIGHT_TOP:W=this.bodyBounds.getTopRight(B,O,N);break;case a.LEFT_CENTER:W=this.bodyBounds.getLeftCenter(B,O,N);break;case a.CENTER:W=this.bodyBounds.getCenter(B,O,N);break;case a.RIGHT_CENTER:W=this.bodyBounds.getRightCenter(B,O,N);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:W=this.bodyBounds.getBottomLeft(B,O,N);break;case a.BOTTOM_CENTER:W=this.bodyBounds.getBottomCenter(B,O,N);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:W=this.bodyBounds.getBottomRight(B,O,N);break}return W&&s.setPosition(B,W),this},shutdown:function(){var B=this.systems.events;this.world&&(B.off(P.UPDATE,this.world.update,this.world),B.off(P.POST_UPDATE,this.world.postUpdate,this.world)),B.off(P.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.systems=null}});C.register("MatterPhysics",Y,"matterPhysics"),c.exports=Y},34803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31884),s=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),i=new p({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(f,d,u,v,g,y){s.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(d,u);var m=r(y,"shape",null);m?this.setBody(m,y):this.setRectangle(this.width,this.height,y),this.setPosition(d,u),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=i},73834:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(83419),s=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),i=t(41598),h=new o({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(d,u,v){e.call(this),this.tile=u,this.world=d,u.physics.matterBody&&u.physics.matterBody.destroy(),u.physics.matterBody=this;var g=n(v,"body",null),y=n(v,"addToWorld",!0);if(g)this.setBody(g,y);else{var m=u.getCollisionGroup(),T=n(m,"objects",[]);T.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(u.flipX||u.flipY){var S={x:u.getCenterX(),y:u.getCenterY()},E=u.flipX?-1:1,C=u.flipY?-1:1;p.scale(g,E,C,S)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var d=this.tile.getBounds(),u=d.x+d.width/2,v=d.y+d.height/2,g=a.rectangle(u,v,d.width,d.height,f);return this.setBody(g,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,u=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),g=this.tile.getTop(),y=this.tile.getCollisionGroup(),m=n(y,"objects",[]),T=[],S=0;S<m.length;S++){var E=m[S],C=v+E.x*d,w=g+E.y*u,A=E.width*d,P=E.height*u,M=null;if(E.rectangle)M=a.rectangle(C+A/2,w+P/2,A,P,f);else if(E.ellipse)M=a.circle(C+A/2,w+P/2,A/2,f);else if(E.polygon||E.polyline){var R=E.polygon?E.polygon:E.polyline,I=R.map(function(O){return{x:O.x*d,y:O.y*u}}),D=i.create(I),Y=i.centre(D);C+=Y.x,w+=Y.y,M=a.fromVertices(C,w,D,f)}M&&T.push(M)}if(T.length===1)this.setBody(T[0],f.addToWorld);else if(T.length>1){var B=r(f);B.parts=T,this.setBody(p.create(B),B.addToWorld)}return this},setBody:function(f,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=h},19496:(c,x,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(53402),s=t(95540),r=t(41598),e={parseBody:function(n,l,i,h){h===void 0&&(h={});for(var f=s(i,"fixtures",[]),d=[],u=0;u<f.length;u++)for(var v=this.parseFixture(f[u]),g=0;g<v.length;g++)d.push(v[g]);var y=o.clone(i,!0);o.extend(y,h,!0),delete y.fixtures,delete y.type;var m=p.create(y);return p.setParts(m,d),p.setPosition(m,{x:n,y:l}),m},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var i;if(n.circle){var h=s(n.circle,"x"),f=s(n.circle,"y"),d=s(n.circle,"radius");i=[a.circle(h,f,d,l)]}else n.vertices&&(i=this.parseVertices(n.vertices,l));return i},parseVertices:function(n,l){l===void 0&&(l={});for(var i=[],h=0;h<n.length;h++)r.clockwiseSort(n[h]),i.push(p.create(o.extend({position:r.centre(n[h]),vertices:n[h]},l)));return a.flagCoincidentParts(i)}};c.exports=e},85791:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o={parseBody:function(s,r,e,n){n===void 0&&(n={});var l,i=e.vertices;if(i.length===1)n.vertices=i[0],l=p.create(n),a.flagCoincidentParts(l.parts);else{for(var h=[],f=0;f<i.length;f++){var d=p.create({vertices:i[f]});h.push(d)}a.flagCoincidentParts(h),n.parts=h,l=p.create(n)}return l.label=e.label,p.setPosition(l,{x:s,y:r}),l}};c.exports=o},98713:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15647),p=t(83419),o=t(69351),s=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),i=t(53614),h=t(26099),f=t(41598),d=new p({initialize:function(v,g,y){y===void 0&&(y={});var m={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=s.create(l(y,m)),this.world.on(e.BEFORE_UPDATE,this.update,this),v.sys.input.on(n.POINTER_DOWN,this.onDown,this),v.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(u){this.pointer||(this.pointer=u,this.camera=u.camera)},onUp:function(u){u===this.pointer&&(this.pointer=null)},getBody:function(u){var v=this.position,g=this.constraint;this.camera.getWorldPoint(u.x,u.y,v);for(var y=o.allBodies(this.world.localWorld),m=0;m<y.length;m++){var T=y[m];if(!T.ignorePointer&&a.contains(T.bounds,v)&&r.canCollide(T.collisionFilter,g.collisionFilter)&&this.hitTestBody(T,v))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(u,v){for(var g=this.constraint,y=u.parts.length,m=y>1?1:0,T=m;T<y;T++){var S=u.parts[T];if(f.contains(S.vertices,v))return g.pointA=v,g.pointB={x:v.x-u.position.x,y:v.y-u.position.y},g.bodyB=u,g.angleB=u.angle,i.set(u,!1),this.part=S,this.body=u,!0}return!1},update:function(){var u=this.pointer,v=this.body;if(!this.active||!u){v&&this.stopDrag();return}if(!u.isDown&&v){this.stopDrag();return}else if(u.isDown){if(!this.camera||!v&&!this.getBody(u))return;v=this.body;var g=this.position,y=this.constraint;this.camera.getWorldPoint(u.x,u.y,g),y.pointA.x=g.x,y.pointA.y=g.y,i.set(v,!1),this.world.emit(e.DRAG,v,this)}},stopDrag:function(){var u=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,u&&this.world.emit(e.DRAG_END,u,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=d},68243:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(83419),s=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),i=t(95540),h=t(35154),f=t(22562),d=t(35810),u=t(73834),v=t(4372),g=t(13037),y=t(31725),m=new o({Extends:n,initialize:function(S,E){n.call(this),this.scene=S,this.engine=e.create(E),this.localWorld=this.engine.world;var C=h(E,"gravity",null);C?this.setGravity(C.x,C.y,C.scale):C===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(E,"enabled",!0),this.getDelta=h(E,"getDelta",this.update60Hz);var w=i(E,"runner",{}),A=i(w,"fps",!1);A&&(w.delta=1e3/i(w,"fps",60)),this.runner=g.create(w),this.autoUpdate=h(E,"autoUpdate",!0);var P=h(E,"debug",!1);if(this.drawDebug=typeof P=="object"?!0:P,this.debugGraphic,this.debugConfig={showAxes:i(P,"showAxes",!1),showAngleIndicator:i(P,"showAngleIndicator",!1),angleColor:i(P,"angleColor",15208787),showBroadphase:i(P,"showBroadphase",!1),broadphaseColor:i(P,"broadphaseColor",16757760),showBounds:i(P,"showBounds",!1),boundsColor:i(P,"boundsColor",16777215),showVelocity:i(P,"showVelocity",!1),velocityColor:i(P,"velocityColor",44783),showCollisions:i(P,"showCollisions",!1),collisionColor:i(P,"collisionColor",16094476),showSeparations:i(P,"showSeparations",!1),separationColor:i(P,"separationColor",16753920),showBody:i(P,"showBody",!0),showStaticBody:i(P,"showStaticBody",!0),showInternalEdges:i(P,"showInternalEdges",!1),renderFill:i(P,"renderFill",!1),renderLine:i(P,"renderLine",!0),fillColor:i(P,"fillColor",1075465),fillOpacity:i(P,"fillOpacity",1),lineColor:i(P,"lineColor",2678297),lineOpacity:i(P,"lineOpacity",1),lineThickness:i(P,"lineThickness",1),staticFillColor:i(P,"staticFillColor",857979),staticLineColor:i(P,"staticLineColor",1255396),showSleeping:i(P,"showSleeping",!1),staticBodySleepOpacity:i(P,"staticBodySleepOpacity",.7),sleepFillColor:i(P,"sleepFillColor",4605510),sleepLineColor:i(P,"sleepLineColor",10066585),showSensors:i(P,"showSensors",!0),sensorFillColor:i(P,"sensorFillColor",857979),sensorLineColor:i(P,"sensorLineColor",1255396),showPositions:i(P,"showPositions",!0),positionSize:i(P,"positionSize",4),positionColor:i(P,"positionColor",14697178),showJoint:i(P,"showJoint",!0),jointColor:i(P,"jointColor",14737474),jointLineOpacity:i(P,"jointLineOpacity",1),jointLineThickness:i(P,"jointLineThickness",2),pinSize:i(P,"pinSize",4),pinColor:i(P,"pinColor",4382944),springColor:i(P,"springColor",14697184),anchorColor:i(P,"anchorColor",15724527),anchorSize:i(P,"anchorSize",4),showConvexHulls:i(P,"showConvexHulls",!1),hullColor:i(P,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(E,"setBounds",!1)){var M=E.setBounds;if(typeof M=="boolean")this.setBounds();else{var R=i(M,"x",0),I=i(M,"y",0),D=i(M,"width",S.sys.scale.width),Y=i(M,"height",S.sys.scale.height),B=i(M,"thickness",64),O=i(M,"left",!0),N=i(M,"right",!0),L=i(M,"top",!0),W=i(M,"bottom",!0);this.setBounds(R,I,D,Y,B,O,N,L,W)}}},setCompositeRenderStyle:function(T){var S=T.bodies,E=T.constraints,C=T.composites,w,A,P;for(w=0;w<S.length;w++)A=S[w],P=A.render,this.setBodyRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity);for(w=0;w<E.length;w++)A=E[w],P=A.render,this.setConstraintRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize);for(w=0;w<C.length;w++)A=C[w],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(T,S,E,C,w,A){var P=T.render,M=this.debugConfig;return P?(S==null&&(S=T.isStatic?M.staticLineColor:M.lineColor),E==null&&(E=M.lineOpacity),C==null&&(C=M.lineThickness),w==null&&(w=T.isStatic?M.staticFillColor:M.fillColor),A==null&&(A=M.fillOpacity),S!==!1&&(P.lineColor=S),E!==!1&&(P.lineOpacity=E),C!==!1&&(P.lineThickness=C),w!==!1&&(P.fillColor=w),A!==!1&&(P.fillOpacity=A),this):this},setConstraintRenderStyle:function(T,S,E,C,w,A,P){var M=T.render,R=this.debugConfig;if(!M)return this;if(S==null){var I=M.type;I==="line"?S=R.jointColor:I==="pin"?S=R.pinColor:I==="spring"&&(S=R.springColor)}return E==null&&(E=R.jointLineOpacity),C==null&&(C=R.jointLineThickness),w==null&&(w=R.pinSize),A==null&&(A=R.anchorColor),P==null&&(P=R.anchorSize),S!==!1&&(M.lineColor=S),E!==!1&&(M.lineOpacity=E),C!==!1&&(M.lineThickness=C),w!==!1&&(M.pinSize=w),A!==!1&&(M.anchorColor=A),P!==!1&&(M.anchorSize=P),this},setEventsProxy:function(){var T=this,S=this.engine,E=this.localWorld;this.drawDebug&&(d.on(E,"compositeModified",function(C){T.setCompositeRenderStyle(C)}),d.on(E,"beforeAdd",function(C){for(var w=[].concat(C.object),A=0;A<w.length;A++){var P=w[A],M=P.render;P.type==="body"?T.setBodyRenderStyle(P,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity):P.type==="composite"?T.setCompositeRenderStyle(P):P.type==="constraint"&&T.setConstraintRenderStyle(P,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize)}})),d.on(E,"beforeAdd",function(C){T.emit(l.BEFORE_ADD,C)}),d.on(E,"afterAdd",function(C){T.emit(l.AFTER_ADD,C)}),d.on(E,"beforeRemove",function(C){T.emit(l.BEFORE_REMOVE,C)}),d.on(E,"afterRemove",function(C){T.emit(l.AFTER_REMOVE,C)}),d.on(S,"beforeUpdate",function(C){T.emit(l.BEFORE_UPDATE,C)}),d.on(S,"afterUpdate",function(C){T.emit(l.AFTER_UPDATE,C)}),d.on(S,"collisionStart",function(C){var w=C.pairs,A,P;w.length>0&&w.map(function(M){A=M.bodyA,P=M.bodyB,A.gameObject&&A.gameObject.emit("collide",A,P,M),P.gameObject&&P.gameObject.emit("collide",P,A,M),d.trigger(A,"onCollide",{pair:M}),d.trigger(P,"onCollide",{pair:M}),A.onCollideCallback&&A.onCollideCallback(M),P.onCollideCallback&&P.onCollideCallback(M),A.onCollideWith[P.id]&&A.onCollideWith[P.id](P,M),P.onCollideWith[A.id]&&P.onCollideWith[A.id](A,M)}),T.emit(l.COLLISION_START,C,A,P)}),d.on(S,"collisionActive",function(C){var w=C.pairs,A,P;w.length>0&&w.map(function(M){A=M.bodyA,P=M.bodyB,A.gameObject&&A.gameObject.emit("collideActive",A,P,M),P.gameObject&&P.gameObject.emit("collideActive",P,A,M),d.trigger(A,"onCollideActive",{pair:M}),d.trigger(P,"onCollideActive",{pair:M}),A.onCollideActiveCallback&&A.onCollideActiveCallback(M),P.onCollideActiveCallback&&P.onCollideActiveCallback(M)}),T.emit(l.COLLISION_ACTIVE,C,A,P)}),d.on(S,"collisionEnd",function(C){var w=C.pairs,A,P;w.length>0&&w.map(function(M){A=M.bodyA,P=M.bodyB,A.gameObject&&A.gameObject.emit("collideEnd",A,P,M),P.gameObject&&P.gameObject.emit("collideEnd",P,A,M),d.trigger(A,"onCollideEnd",{pair:M}),d.trigger(P,"onCollideEnd",{pair:M}),A.onCollideEndCallback&&A.onCollideEndCallback(M),P.onCollideEndCallback&&P.onCollideEndCallback(M)}),T.emit(l.COLLISION_END,C,A,P)})},setBounds:function(T,S,E,C,w,A,P,M,R){return T===void 0&&(T=0),S===void 0&&(S=0),E===void 0&&(E=this.scene.sys.scale.width),C===void 0&&(C=this.scene.sys.scale.height),w===void 0&&(w=64),A===void 0&&(A=!0),P===void 0&&(P=!0),M===void 0&&(M=!0),R===void 0&&(R=!0),this.updateWall(A,"left",T-w,S-w,w,C+w*2),this.updateWall(P,"right",T+E,S-w,w,C+w*2),this.updateWall(M,"top",T,S-w,E,w),this.updateWall(R,"bottom",T,S+C,E,w),this},updateWall:function(T,S,E,C,w,A){var P=this.walls[S];T?(P&&v.remove(this.localWorld,P),E+=w/2,C+=A/2,this.walls[S]=this.create(E,C,w,A,{isStatic:!0,friction:0,frictionStatic:0})):(P&&v.remove(this.localWorld,P),this.walls[S]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,S,E){return T===void 0&&(T=0),S===void 0&&(S=1),E===void 0&&(E=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=S,this.localWorld.gravity.scale=E,this},create:function(T,S,E,C,w){var A=a.rectangle(T,S,E,C,w);return v.add(this.localWorld,A),A},add:function(T){return v.add(this.localWorld,T),this},remove:function(T,S){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++){var C=T[E],w=C.body?C.body:C;r.remove(this.localWorld,w,S)}return this},removeConstraint:function(T,S){return r.remove(this.localWorld,T,S),this},convertTilemapLayer:function(T,S){var E=T.layer,C=T.getTilesWithin(0,0,E.width,E.height,{isColliding:!0});return this.convertTiles(C,S),this},convertTiles:function(T,S){if(T.length===0)return this;for(var E=0;E<T.length;E++)new u(this,T[E],S);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=s.now(),this.emit(l.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,E=this.runner,C=s.now(),w=E.delta,A=0,P=T-E.timeLastTick;if((!P||!E.timeLastTick||P>Math.max(g._maxFrameDelta,E.maxFrameTime))&&(P=E.frameDelta||g._frameDeltaFallback),E.frameDeltaSmoothing){E.frameDeltaHistory.push(P),E.frameDeltaHistory=E.frameDeltaHistory.slice(-E.frameDeltaHistorySize);var M=E.frameDeltaHistory.slice(0).sort(),R=E.frameDeltaHistory.slice(M.length*g._smoothingLowerBound,M.length*g._smoothingUpperBound),I=g._mean(R);P=I||P}E.frameDeltaSnapping&&(P=1e3/Math.round(1e3/P)),E.frameDelta=P,E.timeLastTick=T,E.timeBuffer+=E.frameDelta,E.timeBuffer=s.clamp(E.timeBuffer,0,E.frameDelta+w*g._timeBufferMargin),E.lastUpdatesDeferred=0;for(var D=E.maxUpdates||Math.ceil(E.maxFrameTime/w),Y=s.now();w>0&&E.timeBuffer>=w*g._timeBufferMargin;){e.update(S,w),E.timeBuffer-=w,A+=1;var B=s.now()-C,O=s.now()-Y,N=B+g._elapsedNextEstimate*O/A;if(A>=D||N>E.maxFrameTime){E.lastUpdatesDeferred=Math.round(Math.max(0,E.timeBuffer/w-g._timeBufferMargin));break}}}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var S=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,S=this.engine,E=this.debugGraphic,C=r.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,E,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(C,E,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(C),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(C,E,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(C,E,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(S.pairs.list,E,T.separationColor),T.showCollisions&&this.renderCollisions(S.pairs.list,E,T.collisionColor)}},renderGrid:function(T,S,E,C){S.lineStyle(1,E,C);for(var w=s.keys(T.buckets),A=0;A<w.length;A++){var P=w[A];if(!(T.buckets[P].length<2)){var M=P.split(/C|R/);S.strokeRect(parseInt(M[1],10)*T.bucketWidth,parseInt(M[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,S,E){S.lineStyle(1,E,1);for(var C=0;C<T.length;C++){var w=T[C];if(w.isActive){var A=w.collision,P=A.bodyA,M=A.bodyB,R=P.position,I=M.position,D=A.penetration,Y=!P.isStatic&&!M.isStatic?4:1;M.isStatic&&(Y=0),S.lineBetween(I.x,I.y,I.x-D.x*Y,I.y-D.y*Y),Y=!P.isStatic&&!M.isStatic?4:1,P.isStatic&&(Y=0),S.lineBetween(R.x,R.y,R.x-D.x*Y,R.y-D.y*Y)}}return this},renderCollisions:function(T,S,E){S.lineStyle(1,E,.5),S.fillStyle(E,1);var C,w;for(C=0;C<T.length;C++)if(w=T[C],!!w.isActive)for(var A=0;A<w.contactCount;A++){var P=w.contacts[A],M=P.vertex;M&&S.fillRect(M.x-2,M.y-2,5,5)}for(C=0;C<T.length;C++)if(w=T[C],!!w.isActive){var R=w.collision,I=w.contacts;if(w.contactCount>0){var D=I[0].vertex.x,Y=I[0].vertex.y;w.contactCount===2&&(D=(I[0].vertex.x+I[1].vertex.x)/2,Y=(I[0].vertex.y+I[1].vertex.y)/2),R.bodyB===R.supports[0].body||R.bodyA.isStatic?S.lineBetween(D-R.normal.x*8,Y-R.normal.y*8,D,Y):S.lineBetween(D+R.normal.x*8,Y+R.normal.y*8,D,Y)}}return this},renderBodyBounds:function(T,S,E,C){S.lineStyle(1,E,C);for(var w=0;w<T.length;w++){var A=T[w];if(A.render.visible){var P=A.bounds;if(P)S.strokeRect(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y);else for(var M=A.parts,R=M.length>1?1:0;R<M.length;R++){var I=M[R];S.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(T,S,E,C,w){S.lineStyle(1,C,w);for(var A=0;A<T.length;A++){var P=T[A],M=P.parts;if(P.render.visible){var R,I,D;if(E)for(I=M.length>1?1:0;I<M.length;I++)for(R=M[I],D=0;D<R.axes.length;D++){var Y=R.axes[D];S.lineBetween(R.position.x,R.position.y,R.position.x+Y.x*20,R.position.y+Y.y*20)}else for(I=M.length>1?1:0;I<M.length;I++)for(R=M[I],D=0;D<R.axes.length;D++)S.lineBetween(R.position.x,R.position.y,(R.vertices[0].x+R.vertices[R.vertices.length-1].x)/2,(R.vertices[0].y+R.vertices[R.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,S,E,C,w){S.lineStyle(w,E,C);for(var A=0;A<T.length;A++){var P=T[A];P.render.visible&&S.lineBetween(P.position.x,P.position.y,P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2)}return this},renderBodies:function(T){for(var S=this.debugGraphic,E=this.debugConfig,C=E.showBody,w=E.showStaticBody,A=E.showSleeping,P=E.showInternalEdges,M=E.showConvexHulls,R=E.renderFill,I=E.renderLine,D=E.staticBodySleepOpacity,Y=E.sleepFillColor,B=E.sleepLineColor,O=E.hullColor,N=0;N<T.length;N++){var L=T[N];if(L.render.visible&&!(!w&&L.isStatic||!C&&!L.isStatic)){var W=L.render.lineColor,F=L.render.lineOpacity,U=L.render.lineThickness,Z=L.render.fillColor,J=L.render.fillOpacity;A&&L.isSleeping&&(L.isStatic?(F*=D,J*=D):(W=B,Z=Y)),R||(Z=null),I||(W=null),this.renderBody(L,S,P,W,F,U,Z,J);var Q=L.parts.length;M&&Q>1&&this.renderConvexHull(L,S,O,U)}}},renderBody:function(T,S,E,C,w,A,P,M){C===void 0&&(C=null),w===void 0&&(w=null),A===void 0&&(A=1),P===void 0&&(P=null),M===void 0&&(M=null);for(var R=this.debugConfig,I=R.sensorFillColor,D=R.sensorLineColor,Y=T.parts,B=Y.length,O=B>1?1:0;O<B;O++){var N=Y[O],L=N.render,W=L.opacity;if(!(!L.visible||W===0||N.isSensor&&!R.showSensors)){var F=N.circleRadius;if(S.beginPath(),N.isSensor?(P!==null&&S.fillStyle(I,M*W),C!==null&&S.lineStyle(A,D,w*W)):(P!==null&&S.fillStyle(P,M*W),C!==null&&S.lineStyle(A,C,w*W)),F)S.arc(N.position.x,N.position.y,F,0,2*Math.PI);else{var U=N.vertices,Z=U.length;S.moveTo(U[0].x,U[0].y);for(var J=1;J<Z;J++){var Q=U[J];if(!U[J-1].isInternal||E?S.lineTo(Q.x,Q.y):S.moveTo(Q.x,Q.y),J<Z&&Q.isInternal&&!E){var k=(J+1)%Z;S.moveTo(U[k].x,U[k].y)}}S.closePath()}P!==null&&S.fillPath(),C!==null&&S.strokePath()}}if(R.showPositions&&!T.isStatic){var et=T.position.x,it=T.position.y,q=Math.ceil(R.positionSize/2);S.fillStyle(R.positionColor,1),S.fillRect(et-q,it-q,R.positionSize,R.positionSize)}return this},renderConvexHull:function(T,S,E,C){C===void 0&&(C=1);var w=T.parts,A=w.length;if(A>1){var P=T.vertices;S.lineStyle(C,E),S.beginPath(),S.moveTo(P[0].x,P[0].y);for(var M=1;M<P.length;M++)S.lineTo(P[M].x,P[M].y);S.lineTo(P[0].x,P[0].y),S.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,S=r.allConstraints(this.localWorld),E=0;E<S.length;E++){var C=S[E].render,w=C.lineColor,A=C.lineOpacity,P=C.lineThickness,M=C.pinSize,R=C.anchorColor,I=C.anchorSize;this.renderConstraint(S[E],T,w,A,P,M,R,I)}},renderConstraint:function(T,S,E,C,w,A,P,M){var R=T.render;if(!R.visible||!T.pointA||!T.pointB)return this;S.lineStyle(w,E,C);var I=T.bodyA,D=T.bodyB,Y,B;if(I?Y=y.add(I.position,T.pointA):Y=T.pointA,R.type==="pin")S.strokeCircle(Y.x,Y.y,A);else{if(D?B=y.add(D.position,T.pointB):B=T.pointB,S.beginPath(),S.moveTo(Y.x,Y.y),R.type==="spring")for(var O=y.sub(B,Y),N=y.perp(y.normalise(O)),L=Math.ceil(s.clamp(T.length/5,12,20)),W,F=1;F<L;F+=1)W=F%2===0?1:-1,S.lineTo(Y.x+O.x*(F/L)+N.x*W*4,Y.y+O.y*(F/L)+N.y*W*4);S.lineTo(B.x,B.y)}return S.strokePath(),R.anchors&&M>0&&(S.fillStyle(P),S.fillCircle(Y.x,Y.y,M),S.fillCircle(B.x,B.y,M)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=m},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t){return this.body.restitution=t,this}};c.exports=x},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var o=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(o,a)}return this}};c.exports=x},51607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,s){return a.applyForce(this.body,o,s),this},thrust:function(o){var s=this.body.angle;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var s=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=p},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a,p){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=x},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=x},37302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p=t(26099),o={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=o},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=x},57772:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(43855),s=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(i,h,f){return this.setBody({type:"rectangle",width:i,height:h},f)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,f){return this.setBody({type:"polygon",sides:h,radius:i},f)},setTrapezoid:function(i,h,f,d){return this.setBody({type:"trapezoid",width:i,height:h,slope:f},d)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var f=0;f<i.parts.length;f++)i.parts[f].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var u=i.render.sprite.xOffset,v=i.render.sprite.yOffset,g=i.centerOfMass.x,y=i.centerOfMass.y;if(o(g,.5)&&o(y,.5))this.setOrigin(u+.5,v+.5);else{var m=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(u+m/this.displayWidth,v+T/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var f;typeof i=="string"&&(i={type:i});var d=s(i,"type","rectangle"),u=s(i,"x",this._tempVec2.x),v=s(i,"y",this._tempVec2.y),g=s(i,"width",this.width),y=s(i,"height",this.height);switch(d){case"rectangle":f=a.rectangle(u,v,g,y,h);break;case"circle":var m=s(i,"radius",Math.max(g,y)/2),T=s(i,"maxSides",25);f=a.circle(u,v,m,h,T);break;case"trapezoid":var S=s(i,"slope",.5);f=a.trapezoid(u,v,g,y,S,h);break;case"polygon":var E=s(i,"sides",5),C=s(i,"radius",Math.max(g,y)/2);f=a.polygon(u,v,E,C,h);break;case"fromVertices":case"fromVerts":var w=s(i,"verts",null);if(w)if(typeof w=="string"&&(w=n.fromPath(w)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,w),f=this.body;else{var A=s(i,"flagInternal",!1),P=s(i,"removeCollinear",.01),M=s(i,"minimumArea",10);f=a.fromVertices(u,v,w,h,A,P,M)}break;case"fromPhysicsEditor":f=r.parseBody(u,v,i,h);break;case"fromPhysicsTracer":f=e.parseBody(u,v,i,h);break}return f&&this.setExistingBody(f,i.addToWorld),this}};c.exports=l},38083:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1121),p=t(53614),o=t(35810),s={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepStart",function(n){e.emit(a.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepEnd",function(n){e.emit(a.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};c.exports=s},90556:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={setStatic:function(o){return a.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};c.exports=p},85436:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p=t(36383),o=t(86554),s=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*p.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,l,i){n===void 0&&(n=1),l===void 0&&(l=n);var h=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,a.scale(this.body,h,f,i),a.scale(this.body,n,l,i),this}};c.exports=e},42081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,s){return this._tempVec2.set(o,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(o){return a.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(o){return a.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};c.exports=p},31884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(i){var h={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(h,i);return l(f,i),f.setOnCollideWith=function(d,u){return u?this.onCollideWith[d.id]=u:delete this.onCollideWith[d.id],this},f},a.nextGroup=function(i){return i?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(i,h){if(h=h||{},a.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||o.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),a.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var f=i.bounds,d=i.centerOfMass,u=i.centerOffset,v=f.max.x-f.min.x,g=f.max.y-f.min.y;d.x=-(f.min.x-i.position.x)/v,d.y=-(f.min.y-i.position.y)/g,u.x=v*d.x,u.y=g*d.y}};a.set=function(i,h,f){var d;typeof h=="string"&&(d=h,h={},h[d]=f);for(d in h)if(Object.prototype.hasOwnProperty.call(h,d))switch(f=h[d],d){case"isStatic":a.setStatic(i,f);break;case"isSleeping":s.set(i,f);break;case"mass":a.setMass(i,f);break;case"density":a.setDensity(i,f);break;case"inertia":a.setInertia(i,f);break;case"vertices":a.setVertices(i,f);break;case"position":a.setPosition(i,f);break;case"angle":a.setAngle(i,f);break;case"velocity":a.setVelocity(i,f);break;case"angularVelocity":a.setAngularVelocity(i,f);break;case"speed":a.setSpeed(i,f);break;case"angularSpeed":a.setAngularSpeed(i,f);break;case"parts":a.setParts(i,f);break;case"centre":a.setCentre(i,f);break;default:i[d]=f}},a.setStatic=function(i,h){for(var f=0;f<i.parts.length;f++){var d=i.parts[f];h?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=h}},a.setMass=function(i,h){var f=i.inertia/(i.mass/6);i.inertia=f*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},a.setDensity=function(i,h){a.setMass(i,h*i.area),i.density=h},a.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},a.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=p.create(h,i),i.axes=n.fromVertices(i.vertices),i.area=p.area(i.vertices),a.setMass(i,i.density*i.area);var f=p.centre(i.vertices);p.translate(i.vertices,f,-1),a.setInertia(i,a._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},a.setParts=function(i,h,f){var d;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<h.length;d++){var u=h[d];u!==i&&(u.parent=i,i.parts.push(u))}if(i.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var v=[];for(d=0;d<h.length;d++)v=v.concat(h[d].vertices);p.clockwiseSort(v);var g=p.hull(v),y=p.centre(g);a.setVertices(i,g),p.translate(i.vertices,y)}var m=a._totalProperties(i),T=m.centre.x,S=m.centre.y,E=i.bounds,C=i.centerOfMass,w=i.centerOffset;e.update(E,i.vertices,i.velocity),C.x=-(E.min.x-T)/(E.max.x-E.min.x),C.y=-(E.min.y-S)/(E.max.y-E.min.y),w.x=T,w.y=S,i.area=m.area,i.parent=i,i.position.x=T,i.position.y=S,i.positionPrev.x=T,i.positionPrev.y=S,a.setMass(i,m.mass),a.setInertia(i,m.inertia),a.setPosition(i,m.centre)}},a.setCentre=function(i,h,f){f?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},a.setPosition=function(i,h,f){var d=o.sub(h,i.position);f?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=o.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var u=0;u<i.parts.length;u++){var v=i.parts[u];v.position.x+=d.x,v.position.y+=d.y,p.translate(v.vertices,d),e.update(v.bounds,v.vertices,i.velocity)}},a.setAngle=function(i,h,f){var d=h-i.angle;f?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var u=0;u<i.parts.length;u++){var v=i.parts[u];v.angle+=d,p.rotate(v.vertices,d,i.position),n.rotate(v.axes,d),e.update(v.bounds,v.vertices,i.velocity),u>0&&o.rotateAbout(v.position,d,i.position,v.position)}},a.setVelocity=function(i,h){var f=i.deltaTime/a._baseDelta;i.positionPrev.x=i.position.x-h.x*f,i.positionPrev.y=i.position.y-h.y*f,i.velocity.x=(i.position.x-i.positionPrev.x)/f,i.velocity.y=(i.position.y-i.positionPrev.y)/f,i.speed=o.magnitude(i.velocity)},a.getVelocity=function(i){var h=a._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},a.getSpeed=function(i){return o.magnitude(a.getVelocity(i))},a.setSpeed=function(i,h){a.setVelocity(i,o.mult(o.normalise(a.getVelocity(i)),h))},a.setAngularVelocity=function(i,h){var f=i.deltaTime/a._baseDelta;i.anglePrev=i.angle-h*f,i.angularVelocity=(i.angle-i.anglePrev)/f,i.angularSpeed=Math.abs(i.angularVelocity)},a.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*a._baseDelta/i.deltaTime},a.getAngularSpeed=function(i){return Math.abs(a.getAngularVelocity(i))},a.setAngularSpeed=function(i,h){a.setAngularVelocity(i,r.sign(a.getAngularVelocity(i))*h)},a.translate=function(i,h,f){a.setPosition(i,o.add(i.position,h),f)},a.rotate=function(i,h,f,d){if(!f)a.setAngle(i,i.angle+h,d);else{var u=Math.cos(h),v=Math.sin(h),g=i.position.x-f.x,y=i.position.y-f.y;a.setPosition(i,{x:f.x+(g*u-y*v),y:f.y+(g*v+y*u)},d),a.setAngle(i,i.angle+h,d)}},a.scale=function(i,h,f,d){var u=0,v=0;d=d||i.position;for(var g=i.inertia===1/0,y=0;y<i.parts.length;y++){var m=i.parts[y];m.scale.x=h,m.scale.y=f,p.scale(m.vertices,h,f,d),m.axes=n.fromVertices(m.vertices),m.area=p.area(m.vertices),a.setMass(m,i.density*m.area),p.translate(m.vertices,{x:-m.position.x,y:-m.position.y}),a.setInertia(m,a._inertiaScale*p.inertia(m.vertices,m.mass)),p.translate(m.vertices,{x:m.position.x,y:m.position.y}),y>0&&(u+=m.area,v+=m.inertia),m.position.x=d.x+(m.position.x-d.x)*h,m.position.y=d.y+(m.position.y-d.y)*f,e.update(m.bounds,m.vertices,i.velocity)}i.parts.length>1&&(i.area=u,i.isStatic||(a.setMass(i,i.density*u),a.setInertia(i,v))),i.circleRadius&&(h===f?i.circleRadius*=h:i.circleRadius=null),g&&a.setInertia(i,1/0)},a.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var f=h*h,d=a._timeCorrection?h/(i.deltaTime||h):1,u=1-i.frictionAir*(h/r._baseDelta),v=(i.position.x-i.positionPrev.x)*d,g=(i.position.y-i.positionPrev.y)*d;i.velocity.x=v*u+i.force.x/i.mass*f,i.velocity.y=g*u+i.force.y/i.mass*f,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*u*d+i.torque/i.inertia*f,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=o.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var y=0;y<i.parts.length;y++){var m=i.parts[y];p.translate(m.vertices,i.velocity),y>0&&(m.position.x+=i.velocity.x,m.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(m.vertices,i.angularVelocity,i.position),n.rotate(m.axes,i.angularVelocity),y>0&&o.rotateAbout(m.position,i.angularVelocity,i.position,m.position)),e.update(m.bounds,m.vertices,i.velocity)}},a.updateVelocities=function(i){var h=a._baseDelta/i.deltaTime,f=i.velocity;f.x=(i.position.x-i.positionPrev.x)*h,f.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(f.x*f.x+f.y*f.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},a.applyForce=function(i,h,f){var d={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=f.x,i.force.y+=f.y,i.torque+=d.x*f.y-d.y*f.x},a._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=i.parts.length===1?0:1;f<i.parts.length;f++){var d=i.parts[f],u=d.mass!==1/0?d.mass:1;h.mass+=u,h.area+=d.area,h.inertia+=d.inertia,h.centre=o.add(h.centre,o.mult(d.position,u))}return h.centre=o.div(h.centre,h.mass),h},a.wrap=function(i,h){var f=e.wrap(i.bounds,h);return f&&a.translate(i,f),f}})()},69351:(c,x,t)=>{var a={};c.exports=a;var p=t(35810),o=t(53402),s=t(15647),r=t(22562);(function(){a.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},a.setModified=function(e,n,l,i){if(p.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&a.setModified(e.parent,n,l,i),i)for(var h=0;h<e.composites.length;h++){var f=e.composites[h];a.setModified(f,n,l,i)}},a.add=function(e,n){var l=[].concat(n);p.trigger(e,"beforeAdd",{object:n});for(var i=0;i<l.length;i++){var h=l[i];switch(h.type){case"body":if(h.parent!==h){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(e,h);break;case"constraint":a.addConstraint(e,h);break;case"composite":a.addComposite(e,h);break;case"mouseConstraint":a.addConstraint(e,h.constraint);break}}return p.trigger(e,"afterAdd",{object:n}),e},a.remove=function(e,n,l){var i=[].concat(n);p.trigger(e,"beforeRemove",{object:n});for(var h=0;h<i.length;h++){var f=i[h];switch(f.type){case"body":a.removeBody(e,f,l);break;case"constraint":a.removeConstraint(e,f,l);break;case"composite":a.removeComposite(e,f,l);break;case"mouseConstraint":a.removeConstraint(e,f.constraint);break}}return p.trigger(e,"afterRemove",{object:n}),e},a.addComposite=function(e,n){return e.composites.push(n),n.parent=e,a.setModified(e,!0,!0,!1),e},a.removeComposite=function(e,n,l){var i=o.indexOf(e.composites,n);if(i!==-1){var h=a.allBodies(n);a.removeCompositeAt(e,i);for(var f=0;f<h.length;f++)h[f].sleepCounter=0}if(l)for(var f=0;f<e.composites.length;f++)a.removeComposite(e.composites[f],n,!0);return e},a.removeCompositeAt=function(e,n){return e.composites.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addBody=function(e,n){return e.bodies.push(n),a.setModified(e,!0,!0,!1),e},a.removeBody=function(e,n,l){var i=o.indexOf(e.bodies,n);if(i!==-1&&(a.removeBodyAt(e,i),n.sleepCounter=0),l)for(var h=0;h<e.composites.length;h++)a.removeBody(e.composites[h],n,!0);return e},a.removeBodyAt=function(e,n){return e.bodies.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addConstraint=function(e,n){return e.constraints.push(n),a.setModified(e,!0,!0,!1),e},a.removeConstraint=function(e,n,l){var i=o.indexOf(e.constraints,n);if(i!==-1&&a.removeConstraintAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeConstraint(e.composites[h],n,!0);return e},a.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),a.setModified(e,!0,!0,!1),e},a.clear=function(e,n,l){if(l)for(var i=0;i<e.composites.length;i++)a.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,a.setModified(e,!0,!0,!1),e},a.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(a.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},a.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(a.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},a.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(a.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},a.get=function(e,n,l){var i,h;switch(l){case"body":i=a.allBodies(e);break;case"constraint":i=a.allConstraints(e);break;case"composite":i=a.allComposites(e).concat(e);break}return i?(h=i.filter(function(f){return f.id.toString()===n.toString()}),h.length===0?null:h[0]):null},a.move=function(e,n,l){return a.remove(e,n),a.add(l,n),e},a.rebase=function(e){for(var n=a.allBodies(e).concat(a.allConstraints(e)).concat(a.allComposites(e)),l=0;l<n.length;l++)n[l].id=o.nextId();return e},a.translate=function(e,n,l){for(var i=l?a.allBodies(e):e.bodies,h=0;h<i.length;h++)r.translate(i[h],n);return e},a.rotate=function(e,n,l,i){for(var h=Math.cos(n),f=Math.sin(n),d=i?a.allBodies(e):e.bodies,u=0;u<d.length;u++){var v=d[u],g=v.position.x-l.x,y=v.position.y-l.y;r.setPosition(v,{x:l.x+(g*h-y*f),y:l.y+(g*f+y*h)}),r.rotate(v,n)}return e},a.scale=function(e,n,l,i,h){for(var f=h?a.allBodies(e):e.bodies,d=0;d<f.length;d++){var u=f[d],v=u.position.x-i.x,g=u.position.y-i.y;r.setPosition(u,{x:i.x+v*n,y:i.y+g*l}),r.scale(u,n,l)}return e},a.bounds=function(e){for(var n=a.allBodies(e),l=[],i=0;i<n.length;i+=1){var h=n[i];l.push(h.bounds.min,h.bounds.max)}return s.create(l)},a.wrap=function(e,n){var l=s.wrap(a.bounds(e),n);return l&&a.translate(e,l),l}})()},4372:(c,x,t)=>{var a={};c.exports=a;var p=t(69351);(function(){a.create=p.create,a.add=p.add,a.remove=p.remove,a.clear=p.clear,a.addComposite=p.addComposite,a.addBody=p.addBody,a.addConstraint=p.addConstraint})()},52284:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(4506);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};a.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(n,l,i){if(a._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(a._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var h=i&&i.table[o.id(n,l)],f;h?f=h.collision:(f=a.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var d;r.overlap<e.overlap?d=r:d=e;var u=f.normal,v=f.tangent,g=f.penetration,y=f.supports,m=d.overlap,T=d.axis,S=T.x,E=T.y,C=l.position.x-n.position.x,w=l.position.y-n.position.y;S*C+E*w>=0&&(S=-S,E=-E),u.x=S,u.y=E,v.x=-E,v.y=S,g.x=S*m,g.y=E*m,f.depth=m;var A=a._findSupports(n,l,u,1),P=0;if(p.contains(n.vertices,A[0])&&(y[P++]=A[0]),p.contains(n.vertices,A[1])&&(y[P++]=A[1]),P<2){var M=a._findSupports(l,n,u,-1);p.contains(l.vertices,M[0])&&(y[P++]=M[0]),P<2&&p.contains(l.vertices,M[1])&&(y[P++]=M[1])}return P===0&&(y[P++]=A[0]),f.supportCount=P,f},a._overlapAxes=function(n,l,i,h){var f=l.length,d=i.length,u=l[0].x,v=l[0].y,g=i[0].x,y=i[0].y,m=h.length,T=Number.MAX_VALUE,S=0,E,C,w,A,P,M;for(P=0;P<m;P++){var R=h[P],I=R.x,D=R.y,Y=u*I+v*D,B=g*I+y*D,O=Y,N=B;for(M=1;M<f;M+=1)A=l[M].x*I+l[M].y*D,A>O?O=A:A<Y&&(Y=A);for(M=1;M<d;M+=1)A=i[M].x*I+i[M].y*D,A>N?N=A:A<B&&(B=A);if(C=O-B,w=N-Y,E=C<w?C:w,E<T&&(T=E,S=P,E<=0))break}n.axis=h[S],n.overlap=T},a._findSupports=function(n,l,i,h){var f=l.vertices,d=f.length,u=n.position.x,v=n.position.y,g=i.x*h,y=i.y*h,m=f[0],T=m,S=g*(u-T.x)+y*(v-T.y),E,C,w;for(w=1;w<d;w+=1)T=f[w],C=g*(u-T.x)+y*(v-T.y),C<S&&(S=C,m=T);return E=f[(d+m.index-1)%d],S=g*(u-E.x)+y*(v-E.y),T=f[(m.index+1)%d],g*(u-T.x)+y*(v-T.y)<S?(s[0]=m,s[1]=T,s):(s[0]=m,s[1]=E,s)}})()},43424:c=>{var x={};c.exports=x,function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,x,t)=>{var a={};c.exports=a;var p=t(53402),o=t(52284);(function(){a.create=function(s){var r={bodies:[],collisions:[],pairs:null};return p.extend(r,s)},a.setBodies=function(s,r){s.bodies=r.slice(0)},a.clear=function(s){s.bodies=[],s.collisions=[]},a.collisions=function(s){var r=s.pairs,e=s.bodies,n=e.length,l=a.canCollide,i=o.collides,h=s.collisions,f=0,d,u;for(e.sort(a._compareBoundsX),d=0;d<n;d++){var v=e[d],g=v.bounds,y=v.bounds.max.x,m=v.bounds.max.y,T=v.bounds.min.y,S=v.isStatic||v.isSleeping,E=v.parts.length,C=E===1;for(u=d+1;u<n;u++){var w=e[u],A=w.bounds;if(A.min.x>y)break;if(!(m<A.min.y||T>A.max.y)&&!(S&&(w.isStatic||w.isSleeping))&&l(v.collisionFilter,w.collisionFilter)){var P=w.parts.length;if(C&&P===1){var M=i(v,w,r);M&&(h[f++]=M)}else for(var R=E>1?1:0,I=P>1?1:0,D=R;D<E;D++)for(var Y=v.parts[D],g=Y.bounds,B=I;B<P;B++){var O=w.parts[B],A=O.bounds;if(!(g.min.x>A.max.x||g.max.x<A.min.x||g.max.y<A.min.y||g.min.y>A.max.y)){var M=i(Y,O,r);M&&(h[f++]=M)}}}}}return h.length!==f&&(h.length=f),h},a.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},a._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(c,x,t)=>{var a={};c.exports=a;var p=t(43424);(function(){a.create=function(o,s){var r=o.bodyA,e=o.bodyB,n={id:a.id(r,e),bodyA:r,bodyB:e,collision:o,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(n,o,s),n},a.update=function(o,s,r){var e=s.supports,n=s.supportCount,l=o.contacts,i=s.parentA,h=s.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=s,o.separation=s.depth,o.inverseMass=i.inverseMass+h.inverseMass,o.friction=i.friction<h.friction?i.friction:h.friction,o.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,o.restitution=i.restitution>h.restitution?i.restitution:h.restitution,o.slop=i.slop>h.slop?i.slop:h.slop,o.contactCount=n,s.pair=o;var f=e[0],d=l[0],u=e[1],v=l[1];(v.vertex===f||d.vertex===u)&&(l[1]=d,l[0]=d=v,v=l[1]),d.vertex=f,v.vertex=u},a.setActive=function(o,s,r){s?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},a.id=function(o,s){return o.id<s.id?o.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+o.id.toString(36)}})()},99561:(c,x,t)=>{var a={};c.exports=a;var p=t(4506),o=t(53402);(function(){a.create=function(s){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,e){var n=p.update,l=p.create,i=p.setActive,h=s.table,f=s.list,d=f.length,u=d,v=s.collisionStart,g=s.collisionEnd,y=s.collisionActive,m=r.length,T=0,S=0,E=0,C,w,A;for(A=0;A<m;A++)C=r[A],w=C.pair,w?(w.isActive&&(y[E++]=w),n(w,C,e)):(w=l(C,e),h[w.id]=w,v[T++]=w,f[u++]=w);for(u=0,d=f.length,A=0;A<d;A++)w=f[A],w.timeUpdated>=e?f[u++]=w:(i(w,!1,e),w.collision.bodyA.sleepCounter>0&&w.collision.bodyB.sleepCounter>0?f[u++]=w:(g[S++]=w,delete h[w.id]));f.length!==u&&(f.length=u),v.length!==T&&(v.length=T),g.length!==S&&(g.length=S),y.length!==E&&(y.length=E)},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(52284),s=t(15647),r=t(66280),e=t(41598);(function(){a.collides=function(n,l){for(var i=[],h=l.length,f=n.bounds,d=o.collides,u=s.overlaps,v=0;v<h;v++){var g=l[v],y=g.parts.length,m=y===1?0:1;if(n!==g&&u(g.bounds,f))for(var T=m;T<y;T++){var S=g.parts[T];if(u(S.bounds,f)){var E=d(S,n);if(E){i.push(E);break}}}}return i},a.ray=function(n,l,i,h){h=h||1e-100;for(var f=p.angle(l,i),d=p.magnitude(p.sub(l,i)),u=(i.x+l.x)*.5,v=(i.y+l.y)*.5,g=r.rectangle(u,v,d,h,{angle:f}),y=a.collides(g,n),m=0;m<y.length;m+=1){var T=y[m];T.body=T.bodyB=T.bodyA}return y},a.region=function(n,l,i){for(var h=[],f=0;f<n.length;f++){var d=n[f],u=s.overlaps(d.bounds,l);(u&&!i||!u&&i)&&h.push(d)}return h},a.point=function(n,l){for(var i=[],h=0;h<n.length;h++){var f=n[h];if(s.contains(f.bounds,l))for(var d=f.parts.length===1?0:1;d<f.parts.length;d++){var u=f.parts[d];if(s.contains(u.bounds,l)&&e.contains(u.vertices,l)){i.push(f);break}}}return i}})()},66272:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(r){var e,n,l,i=r.length;for(e=0;e<i;e++)n=r[e],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},a.solvePosition=function(r,e,n){var l,i,h,f,d,u,v,g,y=a._positionDampen*(n||1),m=o.clamp(e/o._baseDelta,0,1),T=r.length;for(l=0;l<T;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,f=h.parentA,d=h.parentB,u=h.normal,i.separation=h.depth+u.x*(d.positionImpulse.x-f.positionImpulse.x)+u.y*(d.positionImpulse.y-f.positionImpulse.y));for(l=0;l<T;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,f=h.parentA,d=h.parentB,u=h.normal,g=i.separation-i.slop*m,(f.isStatic||d.isStatic)&&(g*=2),f.isStatic||f.isSleeping||(v=y/f.totalContacts,f.positionImpulse.x+=u.x*g*v,f.positionImpulse.y+=u.y*g*v),d.isStatic||d.isSleeping||(v=y/d.totalContacts,d.positionImpulse.x-=u.x*g*v,d.positionImpulse.y-=u.y*g*v))},a.postSolvePosition=function(r){for(var e=a._positionWarming,n=r.length,l=p.translate,i=s.update,h=0;h<n;h++){var f=r[h],d=f.positionImpulse,u=d.x,v=d.y,g=f.velocity;if(f.totalContacts=0,u!==0||v!==0){for(var y=0;y<f.parts.length;y++){var m=f.parts[y];l(m.vertices,d),i(m.bounds,m.vertices,g),m.position.x+=u,m.position.y+=v}f.positionPrev.x+=u,f.positionPrev.y+=v,u*g.x+v*g.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},a.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var h=i.contacts,f=i.contactCount,d=i.collision,u=d.parentA,v=d.parentB,g=d.normal,y=d.tangent;for(l=0;l<f;l++){var m=h[l],T=m.vertex,S=m.normalImpulse,E=m.tangentImpulse;if(S!==0||E!==0){var C=g.x*S+y.x*E,w=g.y*S+y.y*E;u.isStatic||u.isSleeping||(u.positionPrev.x+=C*u.inverseMass,u.positionPrev.y+=w*u.inverseMass,u.anglePrev+=u.inverseInertia*((T.x-u.position.x)*w-(T.y-u.position.y)*C)),v.isStatic||v.isSleeping||(v.positionPrev.x-=C*v.inverseMass,v.positionPrev.y-=w*v.inverseMass,v.anglePrev-=v.inverseInertia*((T.x-v.position.x)*w-(T.y-v.position.y)*C))}}}}},a.solveVelocity=function(r,e){var n=e/o._baseDelta,l=n*n,i=l*n,h=-a._restingThresh*n,f=a._restingThreshTangent,d=a._frictionNormalMultiplier*n,u=a._frictionMaxStatic,v=r.length,g,y,m,T;for(m=0;m<v;m++){var S=r[m];if(!(!S.isActive||S.isSensor)){var E=S.collision,C=E.parentA,w=E.parentB,A=E.normal.x,P=E.normal.y,M=E.tangent.x,R=E.tangent.y,I=S.inverseMass,D=S.friction*S.frictionStatic*d,Y=S.contacts,B=S.contactCount,O=1/B,N=C.position.x-C.positionPrev.x,L=C.position.y-C.positionPrev.y,W=C.angle-C.anglePrev,F=w.position.x-w.positionPrev.x,U=w.position.y-w.positionPrev.y,Z=w.angle-w.anglePrev;for(T=0;T<B;T++){var J=Y[T],Q=J.vertex,k=Q.x-C.position.x,et=Q.y-C.position.y,it=Q.x-w.position.x,q=Q.y-w.position.y,tt=N-et*W,nt=L+k*W,ht=F-q*Z,gt=U+it*Z,mt=tt-ht,at=nt-gt,ft=A*mt+P*at,xt=M*mt+R*at,vt=S.separation+ft,Pt=Math.min(vt,1);Pt=vt<0?0:Pt;var H=Pt*D;xt<-H||xt>H?(y=xt>0?xt:-xt,g=S.friction*(xt>0?1:-1)*i,g<-y?g=-y:g>y&&(g=y)):(g=xt,y=u);var K=k*P-et*A,$=it*P-q*A,_=O/(I+C.inverseInertia*K*K+w.inverseInertia*$*$),st=(1+S.restitution)*ft*_;if(g*=_,ft<h)J.normalImpulse=0;else{var dt=J.normalImpulse;J.normalImpulse+=st,J.normalImpulse>0&&(J.normalImpulse=0),st=J.normalImpulse-dt}if(xt<-f||xt>f)J.tangentImpulse=0;else{var pt=J.tangentImpulse;J.tangentImpulse+=g,J.tangentImpulse<-y&&(J.tangentImpulse=-y),J.tangentImpulse>y&&(J.tangentImpulse=y),g=J.tangentImpulse-pt}var ot=A*st+M*g,ct=P*st+R*g;C.isStatic||C.isSleeping||(C.positionPrev.x+=ot*C.inverseMass,C.positionPrev.y+=ct*C.inverseMass,C.anglePrev+=(k*ct-et*ot)*C.inverseInertia),w.isStatic||w.isSleeping||(w.positionPrev.x-=ot*w.inverseMass,w.positionPrev.y-=ct*w.inverseMass,w.anglePrev-=(it*ct-q*ot)*w.inverseInertia)}}}}})()},48140:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var i=l;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?o.add(i.bodyA.position,i.pointA):i.pointA,f=i.bodyB?o.add(i.bodyB.position,i.pointB):i.pointB,d=o.magnitude(o.sub(h,f));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var u={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(u.type="pin",u.anchors=!1):i.stiffness<.9&&(u.type="spring"),i.render=n.extend(u,i.render),i},a.preSolveAll=function(l){for(var i=0;i<l.length;i+=1){var h=l[i],f=h.constraintImpulse;h.isStatic||f.x===0&&f.y===0&&f.angle===0||(h.position.x+=f.x,h.position.y+=f.y,h.angle+=f.angle)}},a.solveAll=function(l,i){for(var h=n.clamp(i/n._baseDelta,0,1),f=0;f<l.length;f+=1){var d=l[f],u=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(u||v)&&a.solve(l[f],h)}for(f=0;f<l.length;f+=1)d=l[f],u=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!u&&!v&&a.solve(l[f],h)},a.solve=function(l,i){var h=l.bodyA,f=l.bodyB,d=l.pointA,u=l.pointB;if(!(!h&&!f)){h&&!h.isStatic&&(o.rotate(d,h.angle-l.angleA,d),l.angleA=h.angle),f&&!f.isStatic&&(o.rotate(u,f.angle-l.angleB,u),l.angleB=f.angle);var v=d,g=u;if(h&&(v=o.add(h.position,d)),f&&(g=o.add(f.position,u)),!(!v||!g)){var y=o.sub(v,g),m=o.magnitude(y);m<a._minLength&&(m=a._minLength);var T=(m-l.length)/m,S=l.stiffness>=1||l.length===0,E=S?l.stiffness*i:l.stiffness*i*i,C=l.damping*i,w=o.mult(y,T*E),A=(h?h.inverseMass:0)+(f?f.inverseMass:0),P=(h?h.inverseInertia:0)+(f?f.inverseInertia:0),M=A+P,R,I,D,Y,B;if(C>0){var O=o.create();D=o.div(y,m),B=o.sub(f&&o.sub(f.position,f.positionPrev)||O,h&&o.sub(h.position,h.positionPrev)||O),Y=o.dot(D,B)}h&&!h.isStatic&&(I=h.inverseMass/A,h.constraintImpulse.x-=w.x*I,h.constraintImpulse.y-=w.y*I,h.position.x-=w.x*I,h.position.y-=w.y*I,C>0&&(h.positionPrev.x-=C*D.x*Y*I,h.positionPrev.y-=C*D.y*Y*I),R=o.cross(d,w)/M*a._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=R,h.angle-=R),f&&!f.isStatic&&(I=f.inverseMass/A,f.constraintImpulse.x+=w.x*I,f.constraintImpulse.y+=w.y*I,f.position.x+=w.x*I,f.position.y+=w.y*I,C>0&&(f.positionPrev.x+=C*D.x*Y*I,f.positionPrev.y+=C*D.y*Y*I),R=o.cross(u,w)/M*a._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=R,f.angle+=R)}}},a.postSolveAll=function(l){for(var i=0;i<l.length;i++){var h=l[i],f=h.constraintImpulse;if(!(h.isStatic||f.x===0&&f.y===0&&f.angle===0)){s.set(h,!1);for(var d=0;d<h.parts.length;d++){var u=h.parts[d];p.translate(u.vertices,f),d>0&&(u.position.x+=f.x,u.position.y+=f.y),f.angle!==0&&(p.rotate(u.vertices,f.angle,h.position),e.rotate(u.axes,f.angle),d>0&&o.rotateAbout(u.position,f.angle,h.position,u.position)),r.update(u.bounds,u.vertices,h.velocity)}f.angle*=a._warming,f.x*=a._warming,f.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},a.currentLength=function(l){var i=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),d=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),u=i-f,v=h-d;return Math.sqrt(u*u+v*v)}})()},53402:(c,x,t)=>{var a={};c.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(o,s){var r,e;typeof s=="boolean"?(r=2,e=s):(r=1,e=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var i in l)e&&l[i]&&l[i].constructor===Object&&(!o[i]||o[i].constructor===Object)?(o[i]=o[i]||{},a.extend(o[i],e,l[i])):o[i]=l[i]}return o},a.clone=function(o,s){return a.extend({},s,o)},a.keys=function(o){if(Object.keys)return Object.keys(o);var s=[];for(var r in o)s.push(r);return s},a.values=function(o){var s=[];if(Object.keys){for(var r=Object.keys(o),e=0;e<r.length;e++)s.push(o[r[e]]);return s}for(var n in o)s.push(o[n]);return s},a.get=function(o,s,r,e){s=s.split(".").slice(r,e);for(var n=0;n<s.length;n+=1)o=o[s[n]];return o},a.set=function(o,s,r,e,n){var l=s.split(".").slice(e,n);return a.get(o,s,0,-1)[l[l.length-1]]=r,r},a.shuffle=function(o){for(var s=o.length-1;s>0;s--){var r=Math.floor(a.random()*(s+1)),e=o[s];o[s]=o[r],o[r]=e}return o},a.choose=function(o){return o[Math.floor(a.random()*o.length)]},a.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},a.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},a.isFunction=function(o){return typeof o=="function"},a.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},a.isString=function(o){return toString.call(o)==="[object String]"},a.clamp=function(o,s,r){return o<s?s:o>r?r:o},a.sign=function(o){return o<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(o,s){return o=typeof o<"u"?o:0,s=typeof s<"u"?s:1,o+p()*(s-o)};var p=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[o]||(a.warn(o),a._warnedOnce[o]=!0)},a.deprecated=function(o,s,r){o[s]=a.chain(function(){a.warnOnce(" deprecated ",r)},o[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(o,s){if(o.indexOf)return o.indexOf(s);for(var r=0;r<o.length;r++)if(o[r]===s)return r;return-1},a.map=function(o,s){if(o.map)return o.map(s);for(var r=[],e=0;e<o.length;e+=1)r.push(s(o[e]));return r},a.topologicalSort=function(o){var s=[],r=[],e=[];for(var n in o)!r[n]&&!e[n]&&a._topologicalSort(n,r,e,o,s);return s},a._topologicalSort=function(o,s,r,e,n){var l=e[o]||[];r[o]=!0;for(var i=0;i<l.length;i+=1){var h=l[i];r[h]||s[h]||a._topologicalSort(h,s,r,e,n)}r[o]=!1,s[o]=!0,n.push(o)},a.chain=function(){for(var o=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?o.push.apply(o,r._chained):o.push(r)}var e=function(){for(var n,l=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)l[i]=arguments[i];for(i=0;i<o.length;i+=1){var f=o[i].apply(n,l);typeof f<"u"&&(n=f)}return n};return e._chained=o,e},a.chainPathBefore=function(o,s,r){return a.set(o,s,a.chain(r,a.get(o,s)))},a.chainPathAfter=function(o,s,r){return a.set(o,s,a.chain(a.get(o,s),r))},a.setDecomp=function(o){a._decomp=o},a.getDecomp=function(){var o=a._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(c,x,t)=>{var a={};c.exports=a;var p=t(53614),o=t(66272),s=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),i=t(53402),h=t(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(f){f=f||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},u=i.extend(d,f);return u.world=f.world||n.create({label:"World"}),u.pairs=f.pairs||r.create(),u.detector=f.detector||s.create(),u.detector.pairs=u.pairs,u.grid={buckets:[]},u.world.gravity=u.gravity,u.broadphase=u.grid,u.metrics={},u},a.update=function(f,d){var u=i.now(),v=f.world,g=f.detector,y=f.pairs,m=f.timing,T=m.timestamp,S;d>a._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=m.timeScale,m.timestamp+=d,m.lastDelta=d;var E={timestamp:m.timestamp,delta:d};e.trigger(f,"beforeUpdate",E);var C=n.allBodies(v),w=n.allConstraints(v),A=n.allComposites(v);for(v.isModified&&(s.setBodies(g,C),n.setModified(v,!1,!1,!0)),f.enableSleeping&&p.update(C,d),a._bodiesApplyGravity(C,f.gravity),a.wrap(C,A),a.attractors(C),d>0&&a._bodiesUpdate(C,d),e.trigger(f,"beforeSolve",E),l.preSolveAll(C),S=0;S<f.constraintIterations;S++)l.solveAll(w,d);l.postSolveAll(C);var P=s.collisions(g);r.update(y,P,T),f.enableSleeping&&p.afterCollisions(y.list),y.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:y.collisionStart,timestamp:m.timestamp,delta:d});var M=i.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(y.list),S=0;S<f.positionIterations;S++)o.solvePosition(y.list,d,M);for(o.postSolvePosition(C),l.preSolveAll(C),S=0;S<f.constraintIterations;S++)l.solveAll(w,d);for(l.postSolveAll(C),o.preSolveVelocity(y.list),S=0;S<f.velocityIterations;S++)o.solveVelocity(y.list,d);return a._bodiesUpdateVelocities(C),y.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:y.collisionActive,timestamp:m.timestamp,delta:d}),y.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:y.collisionEnd,timestamp:m.timestamp,delta:d}),a._bodiesClearForces(C),e.trigger(f,"afterUpdate",E),f.timing.lastElapsed=i.now()-u,f},a.merge=function(f,d){if(i.extend(f,d),d.world){f.world=d.world,a.clear(f);for(var u=n.allBodies(f.world),v=0;v<u.length;v++){var g=u[v];p.set(g,!1),g.id=i.nextId()}}},a.clear=function(f){r.clear(f.pairs),s.clear(f.detector)},a._bodiesClearForces=function(f){for(var d=f.length,u=0;u<d;u++){var v=f[u];v.force.x=0,v.force.y=0,v.torque=0}},a._bodiesApplyGravity=function(f,d){var u=typeof d.scale<"u"?d.scale:.001,v=f.length;if(!(d.x===0&&d.y===0||u===0))for(var g=0;g<v;g++){var y=f[g];y.ignoreGravity||y.isStatic||y.isSleeping||(y.force.y+=y.mass*d.y*u,y.force.x+=y.mass*d.x*u)}},a._bodiesUpdate=function(f,d){for(var u=f.length,v=0;v<u;v++){var g=f[v];g.isStatic||g.isSleeping||h.update(g,d)}},a._bodiesUpdateVelocities=function(f){for(var d=f.length,u=0;u<d;u++)h.updateVelocities(f[u])},a.wrap=function(f,d){for(var u=0;u<f.length;u+=1){var v=f[u];v.wrapBounds!==null&&h.wrap(v,v.wrapBounds)}for(u=0;u<d.length;u+=1){var g=d[u];g.wrapBounds!==null&&n.wrap(g,g.wrapBounds)}},a.attractors=function(f){for(var d=0;d<f.length;d++){var u=f[d],v=u.attractors;if(v&&v.length>0)for(var g=0;g<f.length;g++){var y=f[g];if(d!==g)for(var m=0;m<v.length;m++){var T=v[m],S=T;i.isFunction(T)&&(S=T(u,y)),S&&h.applyForce(y,y.position,S)}}}}})()},35810:(c,x,t)=>{var a={};c.exports=a;var p=t(53402);(function(){a.on=function(o,s,r){for(var e=s.split(" "),n,l=0;l<e.length;l++)n=e[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},a.off=function(o,s,r){if(!s){o.events={};return}typeof s=="function"&&(r=s,s=p.keys(o.events).join(" "));for(var e=s.split(" "),n=0;n<e.length;n++){var l=o.events[e[n]],i=[];if(r&&l)for(var h=0;h<l.length;h++)l[h]!==r&&i.push(l[h]);o.events[e[n]]=i}},a.trigger=function(o,s,r){var e,n,l,i,h=o.events;if(h&&p.keys(h).length>0){r||(r={}),e=s.split(" ");for(var f=0;f<e.length;f++)if(n=e[f],l=h[n],l){i=p.clone(r,!1),i.name=n,i.source=o;for(var d=0;d<l.length;d++)l[d].apply(o,[i])}}}})()},6790:(c,x,t)=>{var a={};c.exports=a;var p=t(73832),o=t(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){p.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathAfter(a,s,r)}})()},73832:(c,x,t)=>{var a={};c.exports=a;var p=t(53402);(function(){a._registry={},a.register=function(o){if(a.isPlugin(o)||p.warn("Plugin.register:",a.toString(o),"does not implement all required fields."),o.name in a._registry){var s=a._registry[o.name],r=a.versionParse(o.version).number,e=a.versionParse(s.version).number;r>e?(p.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(o)),a._registry[o.name]=o):r<e?p.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(o)):o!==s&&p.warn("Plugin.register:",a.toString(o),"is already registered to different plugin object")}else a._registry[o.name]=o;return o},a.resolve=function(o){return a._registry[a.dependencyParse(o).name]},a.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},a.isPlugin=function(o){return o&&o.name&&o.version&&o.install},a.isUsed=function(o,s){return o.used.indexOf(s)>-1},a.isFor=function(o,s){var r=o.for&&a.dependencyParse(o.for);return!o.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(o,s){if(o.uses=(o.uses||[]).concat(s||[]),o.uses.length===0){p.warn("Plugin.use:",a.toString(o),"does not specify any dependencies to install.");return}for(var r=a.dependencies(o),e=p.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var i=a.resolve(e[l]);if(!i){n.push(" "+e[l]);continue}a.isUsed(o,i.name)||(a.isFor(i,o)||(p.warn("Plugin.use:",a.toString(i),"is for",i.for,"but installed on",a.toString(o)+"."),i._warned=!0),i.install?i.install(o):(p.warn("Plugin.use:",a.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push(" "+a.toString(i)),delete i._warned):n.push(" "+a.toString(i)),o.used.push(i.name))}n.length>0&&!i.silent&&p.info(n.join("  "))},a.dependencies=function(o,s){var r=a.dependencyParse(o),e=r.name;if(s=s||{},!(e in s)){o=a.resolve(o)||o,s[e]=p.map(o.uses||[],function(l){a.isPlugin(l)&&a.register(l);var i=a.dependencyParse(l),h=a.resolve(l);return h&&!a.versionSatisfies(h.version,i.range)?(p.warn("Plugin.dependencies:",a.toString(h),"does not satisfy",a.toString(i),"used by",a.toString(r)+"."),h._warned=!0,o._warned=!0):h||(p.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),o._warned=!0),i.name});for(var n=0;n<s[e].length;n+=1)a.dependencies(s[e][n],s);return s}},a.dependencyParse=function(o){if(p.isString(o)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(o)||p.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},a.versionParse=function(o){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(o)||p.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=s.exec(o),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},a.versionSatisfies=function(o,s){s=s||"*";var r=a.versionParse(s),e=a.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return o===s||o==="*"}})()},13037:(c,x,t)=>{var a={};c.exports=a;var p=t(35810),o=t(48413),s=t(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(e){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=s.extend(n,e);return l.fps=0,l},a.run=function(e,n){return e.timeBuffer=a._frameDeltaFallback,function l(i){e.frameRequestId=a._onNextFrame(e,l),i&&e.enabled&&a.tick(e,n,i)}(),e},a.tick=function(e,n,l){var i=s.now(),h=e.delta,f=0,d=l-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(a._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||a._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var u=e.frameDeltaHistory.slice(0).sort(),v=e.frameDeltaHistory.slice(u.length*a._smoothingLowerBound,u.length*a._smoothingUpperBound),g=r(v);d=g||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=l,e.timeBuffer+=e.frameDelta,e.timeBuffer=s.clamp(e.timeBuffer,0,e.frameDelta+h*a._timeBufferMargin),e.lastUpdatesDeferred=0;var y=e.maxUpdates||Math.ceil(e.maxFrameTime/h),m={timestamp:n.timing.timestamp};p.trigger(e,"beforeTick",m),p.trigger(e,"tick",m);for(var T=s.now();h>0&&e.timeBuffer>=h*a._timeBufferMargin;){p.trigger(e,"beforeUpdate",m),o.update(n,h),p.trigger(e,"afterUpdate",m),e.timeBuffer-=h,f+=1;var S=s.now()-i,E=s.now()-T,C=S+a._elapsedNextEstimate*E/f;if(f>=y||C>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-a._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,p.trigger(e,"afterTick",m),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>y?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(e){a._cancelNextFrame(e)},a._onNextFrame=function(e,n){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},a._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(e){for(var n=0,l=e.length,i=0;i<l;i+=1)n+=e[i];return n/l||0};a._mean=r})()},53614:(c,x,t)=>{var a={};c.exports=a;var p=t(22562),o=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(r,e){for(var n=e/s._baseDelta,l=a._motionSleepThreshold,i=0;i<r.length;i++){var h=r[i],f=p.getSpeed(h),d=p.getAngularSpeed(h),u=f*f+d*d;if(h.force.x!==0||h.force.y!==0){a.set(h,!1);continue}var v=Math.min(h.motion,u),g=Math.max(h.motion,u);h.motion=a._minBias*v+(1-a._minBias)*g,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/n&&a.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},a.afterCollisions=function(r){for(var e=a._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var i=l.collision,h=i.bodyA.parent,f=i.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var d=h.isSleeping&&!h.isStatic?h:f,u=d===h?f:h;!d.isStatic&&u.motion>e&&a.set(d,!1)}}}},a.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(53402),s=t(22562),r=t(15647),e=t(31725);(function(){a.rectangle=function(n,l,i,h,f){f=f||{};var d={label:"Rectangle Body",position:{x:n,y:l},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(f.chamfer){var u=f.chamfer;d.vertices=p.chamfer(d.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete f.chamfer}return s.create(o.extend({},d,f))},a.trapezoid=function(n,l,i,h,f,d){d=d||{},f>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var u=(1-f*2)*i,v=i*f,g=v+u,y=g+v,m;f<.5?m="L 0 0 L "+v+" "+-h+" L "+g+" "+-h+" L "+y+" 0":m="L 0 0 L "+g+" "+-h+" L "+y+" 0";var T={label:"Trapezoid Body",position:{x:n,y:l},vertices:p.fromPath(m)};if(d.chamfer){var S=d.chamfer;T.vertices=p.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete d.chamfer}return s.create(o.extend({},T,d))},a.circle=function(n,l,i,h,f){h=h||{};var d={label:"Circle Body",circleRadius:i};f=f||25;var u=Math.ceil(Math.max(10,Math.min(f,i)));return u%2===1&&(u+=1),a.polygon(n,l,u,i,o.extend({},d,h))},a.polygon=function(n,l,i,h,f){if(f=f||{},i<3)return a.circle(n,l,h,f);for(var d=2*Math.PI/i,u="",v=d*.5,g=0;g<i;g+=1){var y=v+g*d,m=Math.cos(y)*h,T=Math.sin(y)*h;u+="L "+m.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:n,y:l},vertices:p.fromPath(u)};if(f.chamfer){var E=f.chamfer;S.vertices=p.chamfer(S.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete f.chamfer}return s.create(o.extend({},S,f))},a.fromVertices=function(n,l,i,h,f,d,u,v){var g=o.getDecomp(),y,m,T,S,E,C,w,A,P,M,R;for(y=!!(g&&g.quickDecomp),h=h||{},T=[],f=typeof f<"u"?f:!1,d=typeof d<"u"?d:.01,u=typeof u<"u"?u:10,v=typeof v<"u"?v:.01,o.isArray(i[0])||(i=[i]),M=0;M<i.length;M+=1)if(C=i[M],S=p.isConvex(C),E=!S,E&&!y&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!y)S?C=p.clockwiseSort(C):C=p.hull(C),T.push({position:{x:n,y:l},vertices:C});else{var I=C.map(function(J){return[J.x,J.y]});g.makeCCW(I),d!==!1&&g.removeCollinearPoints(I,d),v!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(I,v);var D=g.quickDecomp(I);for(w=0;w<D.length;w++){var Y=D[w],B=Y.map(function(J){return{x:J[0],y:J[1]}});u>0&&p.area(B)<u||T.push({position:p.centre(B),vertices:B})}}for(w=0;w<T.length;w++)T[w]=s.create(o.extend(T[w],h));if(f){var O=5;for(w=0;w<T.length;w++){var N=T[w];for(A=w+1;A<T.length;A++){var L=T[A];if(r.overlaps(N.bounds,L.bounds)){var W=N.vertices,F=L.vertices;for(P=0;P<N.vertices.length;P++)for(R=0;R<L.vertices.length;R++){var U=e.magnitudeSquared(e.sub(W[(P+1)%W.length],F[R])),Z=e.magnitudeSquared(e.sub(W[P],F[(R+1)%F.length]));U<O&&Z<O&&(W[P].isInternal=!0,F[R].isInternal=!0)}}}}}return T.length>1?(m=s.create(o.extend({parts:T.slice(0)},h)),s.setPosition(m,{x:n,y:l}),m):T[0]},a.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var i=0;i<n.length;i++)for(var h=n[i],f=i+1;f<n.length;f++){var d=n[f];if(r.overlaps(h.bounds,d.bounds))for(var u=h.vertices,v=d.vertices,g=0;g<h.vertices.length;g++)for(var y=0;y<d.vertices.length;y++){var m=e.magnitudeSquared(e.sub(u[(g+1)%u.length],v[y])),T=e.magnitudeSquared(e.sub(u[g],v[(y+1)%v.length]));m<l&&T<l&&(u[g].isInternal=!0,v[y].isInternal=!0)}}return n}})()},74116:(c,x,t)=>{var a={};c.exports=a;var p=t(69351),o=t(48140),s=t(53402),r=t(22562),e=t(66280);(function(){a.stack=function(n,l,i,h,f,d,u){for(var v=p.create({label:"Stack"}),g=n,y=l,m,T=0,S=0;S<h;S++){for(var E=0,C=0;C<i;C++){var w=u(g,y,C,S,m,T);if(w){var A=w.bounds.max.y-w.bounds.min.y,P=w.bounds.max.x-w.bounds.min.x;A>E&&(E=A),r.translate(w,{x:P*.5,y:A*.5}),g=w.bounds.max.x+f,p.addBody(v,w),m=w,T+=1}else g+=f}y+=E+d,g=n}return v},a.chain=function(n,l,i,h,f,d){for(var u=n.bodies,v=1;v<u.length;v++){var g=u[v-1],y=u[v],m=g.bounds.max.y-g.bounds.min.y,T=g.bounds.max.x-g.bounds.min.x,S=y.bounds.max.y-y.bounds.min.y,E=y.bounds.max.x-y.bounds.min.x,C={bodyA:g,pointA:{x:T*l,y:m*i},bodyB:y,pointB:{x:E*h,y:S*f}},w=s.extend(C,d);p.addConstraint(n,o.create(w))}return n.label+=" Chain",n},a.mesh=function(n,l,i,h,f){var d=n.bodies,u,v,g,y,m;for(u=0;u<i;u++){for(v=1;v<l;v++)g=d[v-1+u*l],y=d[v+u*l],p.addConstraint(n,o.create(s.extend({bodyA:g,bodyB:y},f)));if(u>0)for(v=0;v<l;v++)g=d[v+(u-1)*l],y=d[v+u*l],p.addConstraint(n,o.create(s.extend({bodyA:g,bodyB:y},f))),h&&v>0&&(m=d[v-1+(u-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:m,bodyB:y},f)))),h&&v<l-1&&(m=d[v+1+(u-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:m,bodyB:y},f))))}return n.label+=" Mesh",n},a.pyramid=function(n,l,i,h,f,d,u){return a.stack(n,l,i,h,f,d,function(v,g,y,m,T,S){var E=Math.min(h,Math.ceil(i/2)),C=T?T.bounds.max.x-T.bounds.min.x:0;if(!(m>E)){m=E-m;var w=m,A=i-1-m;if(!(y<w||y>A)){S===1&&r.translate(T,{x:(y+(i%2===1?1:-1))*C,y:0});var P=T?y*C:0;return u(n+P+y*f,g,y,m,T,S)}}})},a.newtonsCradle=function(n,l,i,h,f){for(var d=p.create({label:"Newtons Cradle"}),u=0;u<i;u++){var v=1.9,g=e.circle(n+u*(h*v),l+f,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=o.create({pointA:{x:n+u*(h*v),y:l},bodyB:g});p.addBody(d,g),p.addConstraint(d,y)}return d},a.car=function(n,l,i,h,f){var d=r.nextGroup(!0),u=20,v=-i*.5+u,g=i*.5-u,y=0,m=p.create({label:"Car"}),T=e.rectangle(n,l,i,h,{collisionFilter:{group:d},chamfer:{radius:h*.5},density:2e-4}),S=e.circle(n+v,l+y,f,{collisionFilter:{group:d},friction:.8}),E=e.circle(n+g,l+y,f,{collisionFilter:{group:d},friction:.8}),C=o.create({bodyB:T,pointB:{x:v,y},bodyA:S,stiffness:1,length:0}),w=o.create({bodyB:T,pointB:{x:g,y},bodyA:E,stiffness:1,length:0});return p.addBody(m,T),p.addBody(m,S),p.addBody(m,E),p.addConstraint(m,C),p.addConstraint(m,w),m},a.softBody=function(n,l,i,h,f,d,u,v,g,y){g=s.extend({inertia:1/0},g),y=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var m=a.stack(n,l,i,h,f,d,function(T,S){return e.circle(T,S,v,g)});return a.mesh(m,i,h,u,y),m.label="Soft Body",m}})()},66615:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(53402);(function(){a.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var n=(e+1)%s.length,l=p.normalise({x:s[n].y-s[e].y,y:s[e].x-s[n].x}),i=l.y===0?1/0:l.x/l.y;i=i.toFixed(3).toString(),r[i]=l}return o.values(r)},a.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<s.length;l++){var i=s[l],h;h=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=h}}})()},15647:c=>{var x={};c.exports=x,function(){x.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(a,t),a},x.update=function(t,a,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<a.length;o++){var s=a[o];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},x.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},x.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},x.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},x.shift=function(t,a){var p=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+p,t.min.y=a.y,t.max.y=a.y+o},x.wrap=function(t,a,p){var o=null,s=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(t.min.x>a.max.x?o=a.min.x-t.max.x:t.max.x<a.min.x&&(o=a.max.x-t.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(t.min.y>a.max.y?s=a.min.y-t.max.y:t.max.y<a.min.y&&(s=a.max.y-t.min.y)),o!==null||s!==null)return{x:o||0,y:s||0}}}()},74058:(c,x,t)=>{var a={};c.exports=a,t(15647);var p=t(53402);(function(){a.pathToVertices=function(o,s){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,e,n,l,i,h,f,d,u,v,g=[],y,m,T=0,S=0,E=0;s=s||15;var C=function(A,P,M){var R=M%2===1&&M>1;if(!u||A!=u.x||P!=u.y){u&&R?(y=u.x,m=u.y):(y=0,m=0);var I={x:y+A,y:m+P};(R||!u)&&(u=I),g.push(I),S=y+A,E=m+P}},w=function(A){var P=A.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":S=A.x,E=A.y;break;case"H":S=A.x;break;case"V":E=A.y;break}C(S,E,A.pathSegType)}};for(a._svgPathToAbsolute(o),n=o.getTotalLength(),h=[],r=0;r<o.pathSegList.numberOfItems;r+=1)h.push(o.pathSegList.getItem(r));for(f=h.concat();T<n;){if(v=o.getPathSegAtLength(T),i=h[v],i!=d){for(;f.length&&f[0]!=i;)w(f.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(T),C(l.x,l.y,0);break}T+=s}for(r=0,e=f.length;r<e;++r)w(f[r]);return g},a._svgPathToAbsolute=function(o){for(var s,r,e,n,l,i,h=o.pathSegList,f=0,d=0,u=h.numberOfItems,v=0;v<u;++v){var g=h.getItem(v),y=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in g&&(f=g.x),"y"in g&&(d=g.y);else switch("x1"in g&&(e=f+g.x1),"x2"in g&&(l=f+g.x2),"y1"in g&&(n=d+g.y1),"y2"in g&&(i=d+g.y2),"x"in g&&(f+=g.x),"y"in g&&(d+=g.y),y){case"m":h.replaceItem(o.createSVGPathSegMovetoAbs(f,d),v);break;case"l":h.replaceItem(o.createSVGPathSegLinetoAbs(f,d),v);break;case"h":h.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(f),v);break;case"v":h.replaceItem(o.createSVGPathSegLinetoVerticalAbs(d),v);break;case"c":h.replaceItem(o.createSVGPathSegCurvetoCubicAbs(f,d,e,n,l,i),v);break;case"s":h.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(f,d,l,i),v);break;case"q":h.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(f,d,e,n),v);break;case"t":h.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(f,d),v);break;case"a":h.replaceItem(o.createSVGPathSegArcAbs(f,d,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),v);break;case"z":case"Z":f=s,d=r;break}(y=="M"||y=="m")&&(s=f,r=d)}}})()},31725:c=>{var x={};c.exports=x,function(){x.create=function(t,a){return{x:t||0,y:a||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,a,p){var o=Math.cos(a),s=Math.sin(a);p||(p={});var r=t.x*o-t.y*s;return p.y=t.x*s+t.y*o,p.x=r,p},x.rotateAbout=function(t,a,p,o){var s=Math.cos(a),r=Math.sin(a);o||(o={});var e=p.x+((t.x-p.x)*s-(t.y-p.y)*r);return o.y=p.y+((t.x-p.x)*r+(t.y-p.y)*s),o.x=e,o},x.normalise=function(t){var a=x.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},x.dot=function(t,a){return t.x*a.x+t.y*a.y},x.cross=function(t,a){return t.x*a.y-t.y*a.x},x.cross3=function(t,a,p){return(a.x-t.x)*(p.y-t.y)-(a.y-t.y)*(p.x-t.x)},x.add=function(t,a,p){return p||(p={}),p.x=t.x+a.x,p.y=t.y+a.y,p},x.sub=function(t,a,p){return p||(p={}),p.x=t.x-a.x,p.y=t.y-a.y,p},x.mult=function(t,a){return{x:t.x*a,y:t.y*a}},x.div=function(t,a){return{x:t.x/a,y:t.y/a}},x.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(53402);(function(){a.create=function(s,r){for(var e=[],n=0;n<s.length;n++){var l=s[n],i={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(i)}return e},a.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(e,function(l,i,h){n.push({x:parseFloat(i),y:parseFloat(h)})}),a.create(n,r)},a.centre=function(s){for(var r=a.area(s,!0),e={x:0,y:0},n,l,i,h=0;h<s.length;h++)i=(h+1)%s.length,n=p.cross(s[h],s[i]),l=p.mult(p.add(s[h],s[i]),n),e=p.add(e,l);return p.div(e,6*r)},a.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return p.div(r,s.length)},a.area=function(s,r){for(var e=0,n=s.length-1,l=0;l<s.length;l++)e+=(s[n].x-s[l].x)*(s[n].y+s[l].y),n=l;return r?e/2:Math.abs(e)/2},a.inertia=function(s,r){for(var e=0,n=0,l=s,i,h,f=0;f<l.length;f++)h=(f+1)%l.length,i=Math.abs(p.cross(l[h],l[f])),e+=i*(p.dot(l[h],l[h])+p.dot(l[h],l[f])+p.dot(l[f],l[f])),n+=i;return r/6*(e/n)},a.translate=function(s,r,e){e=typeof e<"u"?e:1;var n=s.length,l=r.x*e,i=r.y*e,h;for(h=0;h<n;h++)s[h].x+=l,s[h].y+=i;return s},a.rotate=function(s,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),i=e.x,h=e.y,f=s.length,d,u,v,g;for(g=0;g<f;g++)d=s[g],u=d.x-i,v=d.y-h,d.x=i+(u*n-v*l),d.y=h+(u*l+v*n);return s}},a.contains=function(s,r){for(var e=r.x,n=r.y,l=s.length,i=s[l-1],h,f=0;f<l;f++){if(h=s[f],(e-i.x)*(h.y-i.y)+(n-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},a.scale=function(s,r,e,n){if(r===1&&e===1)return s;n=n||a.centre(s);for(var l,i,h=0;h<s.length;h++)l=s[h],i=p.sub(l,n),s[h].x=n.x+i.x*r,s[h].y=n.y+i.y*e;return s},a.chamfer=function(s,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var i=[],h=0;h<s.length;h++){var f=s[h-1>=0?h-1:s.length-1],d=s[h],u=s[(h+1)%s.length],v=r[h<r.length?h:r.length-1];if(v===0){i.push(d);continue}var g=p.normalise({x:d.y-f.y,y:f.x-d.x}),y=p.normalise({x:u.y-d.y,y:d.x-u.x}),m=Math.sqrt(2*Math.pow(v,2)),T=p.mult(o.clone(g),v),S=p.normalise(p.mult(p.add(g,y),.5)),E=p.sub(d,p.mult(S,m)),C=e;e===-1&&(C=Math.pow(v,.32)*1.75),C=o.clamp(C,n,l),C%2===1&&(C+=1);for(var w=Math.acos(p.dot(g,y)),A=w/C,P=0;P<C;P++)i.push(p.add(p.rotate(T,A*P),E))}return i},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(e,n){return p.angle(r,e)-p.angle(r,n)}),s},a.isConvex=function(s){var r=0,e=s.length,n,l,i,h;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,i=(n+2)%e,h=(s[l].x-s[n].x)*(s[i].y-s[l].y),h-=(s[l].y-s[n].y)*(s[i].x-s[l].x),h<0?r|=1:h>0&&(r|=2),r===3)return!1;return r!==0?!0:null},a.hull=function(s){var r=[],e=[],n,l;for(s=s.slice(0),s.sort(function(i,h){var f=i.x-h.x;return f!==0?f:i.y-h.y}),l=0;l<s.length;l+=1){for(n=s[l];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=s.length-1;l>=0;l-=1){for(n=s[l];r.length>=2&&p.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:w,quickDecomp:R,isSimple:P,removeCollinearPoints:I,removeDuplicatePoints:D,makeCCW:u};function x(O,N,L){L=L||0;var W=[0,0],F,U,Z,J,Q,k,et;return F=O[1][1]-O[0][1],U=O[0][0]-O[1][0],Z=F*O[0][0]+U*O[0][1],J=N[1][1]-N[0][1],Q=N[0][0]-N[1][0],k=J*N[0][0]+Q*N[0][1],et=F*Q-J*U,Y(et,0,L)||(W[0]=(Q*Z-U*k)/et,W[1]=(F*k-J*Z)/et),W}function t(O,N,L,W){var F=N[0]-O[0],U=N[1]-O[1],Z=W[0]-L[0],J=W[1]-L[1];if(Z*U-J*F===0)return!1;var Q=(F*(L[1]-O[1])+U*(O[0]-L[0]))/(Z*U-J*F),k=(Z*(O[1]-L[1])+J*(L[0]-O[0]))/(J*F-Z*U);return Q>=0&&Q<=1&&k>=0&&k<=1}function a(O,N,L){return(N[0]-O[0])*(L[1]-O[1])-(L[0]-O[0])*(N[1]-O[1])}function p(O,N,L){return a(O,N,L)>0}function o(O,N,L){return a(O,N,L)>=0}function s(O,N,L){return a(O,N,L)<0}function r(O,N,L){return a(O,N,L)<=0}var e=[],n=[];function l(O,N,L,W){if(W){var F=e,U=n;F[0]=N[0]-O[0],F[1]=N[1]-O[1],U[0]=L[0]-N[0],U[1]=L[1]-N[1];var Z=F[0]*U[0]+F[1]*U[1],J=Math.sqrt(F[0]*F[0]+F[1]*F[1]),Q=Math.sqrt(U[0]*U[0]+U[1]*U[1]),k=Math.acos(Z/(J*Q));return k<W}else return a(O,N,L)===0}function i(O,N){var L=N[0]-O[0],W=N[1]-O[1];return L*L+W*W}function h(O,N){var L=O.length;return O[N<0?N%L+L:N%L]}function f(O){O.length=0}function d(O,N,L,W){for(var F=L;F<W;F++)O.push(N[F])}function u(O){for(var N=0,L=O,W=1;W<O.length;++W)(L[W][1]<L[N][1]||L[W][1]===L[N][1]&&L[W][0]>L[N][0])&&(N=W);return p(h(O,N-1),h(O,N),h(O,N+1))?!1:(v(O),!0)}function v(O){for(var N=[],L=O.length,W=0;W!==L;W++)N.push(O.pop());for(var W=0;W!==L;W++)O[W]=N[W]}function g(O,N){return s(h(O,N-1),h(O,N),h(O,N+1))}var y=[],m=[];function T(O,N,L){var W,F,U=y,Z=m;if(o(h(O,N+1),h(O,N),h(O,L))&&r(h(O,N-1),h(O,N),h(O,L)))return!1;F=i(h(O,N),h(O,L));for(var J=0;J!==O.length;++J)if(!((J+1)%O.length===N||J===N)&&o(h(O,N),h(O,L),h(O,J+1))&&r(h(O,N),h(O,L),h(O,J))&&(U[0]=h(O,N),U[1]=h(O,L),Z[0]=h(O,J),Z[1]=h(O,J+1),W=x(U,Z),i(h(O,N),W)<F))return!1;return!0}function S(O,N,L){for(var W=0;W!==O.length;++W)if(!(W===N||W===L||(W+1)%O.length===N||(W+1)%O.length===L)&&t(h(O,N),h(O,L),h(O,W),h(O,W+1)))return!1;return!0}function E(O,N,L,W){var F=W||[];if(f(F),N<L)for(var U=N;U<=L;U++)F.push(O[U]);else{for(var U=0;U<=L;U++)F.push(O[U]);for(var U=N;U<O.length;U++)F.push(O[U])}return F}function C(O){for(var N=[],L=[],W=[],F=[],U=Number.MAX_VALUE,Z=0;Z<O.length;++Z)if(g(O,Z)){for(var J=0;J<O.length;++J)if(T(O,Z,J)){L=C(E(O,Z,J,F)),W=C(E(O,J,Z,F));for(var Q=0;Q<W.length;Q++)L.push(W[Q]);L.length<U&&(N=L,U=L.length,N.push([h(O,Z),h(O,J)]))}}return N}function w(O){var N=C(O);return N.length>0?A(O,N):[O]}function A(O,N){if(N.length===0)return[O];if(N instanceof Array&&N.length&&N[0]instanceof Array&&N[0].length===2&&N[0][0]instanceof Array){for(var L=[O],W=0;W<N.length;W++)for(var F=N[W],U=0;U<L.length;U++){var Z=L[U],J=A(Z,F);if(J){L.splice(U,1),L.push(J[0],J[1]);break}}return L}else{var F=N,W=O.indexOf(F[0]),U=O.indexOf(F[1]);return W!==-1&&U!==-1?[E(O,W,U),E(O,U,W)]:!1}}function P(O){var N=O,L;for(L=0;L<N.length-1;L++)for(var W=0;W<L-1;W++)if(t(N[L],N[L+1],N[W],N[W+1]))return!1;for(L=1;L<N.length-2;L++)if(t(N[0],N[N.length-1],N[L],N[L+1]))return!1;return!0}function M(O,N,L,W,F){F=F||0;var U=N[1]-O[1],Z=O[0]-N[0],J=U*O[0]+Z*O[1],Q=W[1]-L[1],k=L[0]-W[0],et=Q*L[0]+k*L[1],it=U*k-Q*Z;return Y(it,0,F)?[0,0]:[(k*J-Z*et)/it,(U*et-Q*J)/it]}function R(O,N,L,W,F,U,Z){U=U||100,Z=Z||0,F=F||25,N=typeof N<"u"?N:[],L=L||[],W=W||[];var J=[0,0],Q=[0,0],k=[0,0],et=0,it=0,q=0,tt=0,nt=0,ht=0,gt=0,mt=[],at=[],ft=O,xt=O;if(xt.length<3)return N;if(Z++,Z>U)return console.warn("quickDecomp: max level ("+U+") reached."),N;for(var vt=0;vt<O.length;++vt)if(g(ft,vt)){L.push(ft[vt]),et=it=Number.MAX_VALUE;for(var Pt=0;Pt<O.length;++Pt)p(h(ft,vt-1),h(ft,vt),h(ft,Pt))&&r(h(ft,vt-1),h(ft,vt),h(ft,Pt-1))&&(k=M(h(ft,vt-1),h(ft,vt),h(ft,Pt),h(ft,Pt-1)),s(h(ft,vt+1),h(ft,vt),k)&&(q=i(ft[vt],k),q<it&&(it=q,Q=k,ht=Pt))),p(h(ft,vt+1),h(ft,vt),h(ft,Pt+1))&&r(h(ft,vt+1),h(ft,vt),h(ft,Pt))&&(k=M(h(ft,vt+1),h(ft,vt),h(ft,Pt),h(ft,Pt+1)),p(h(ft,vt-1),h(ft,vt),k)&&(q=i(ft[vt],k),q<et&&(et=q,J=k,nt=Pt)));if(ht===(nt+1)%O.length)k[0]=(Q[0]+J[0])/2,k[1]=(Q[1]+J[1])/2,W.push(k),vt<nt?(d(mt,ft,vt,nt+1),mt.push(k),at.push(k),ht!==0&&d(at,ft,ht,ft.length),d(at,ft,0,vt+1)):(vt!==0&&d(mt,ft,vt,ft.length),d(mt,ft,0,nt+1),mt.push(k),at.push(k),d(at,ft,ht,vt+1));else{if(ht>nt&&(nt+=O.length),tt=Number.MAX_VALUE,nt<ht)return N;for(var Pt=ht;Pt<=nt;++Pt)o(h(ft,vt-1),h(ft,vt),h(ft,Pt))&&r(h(ft,vt+1),h(ft,vt),h(ft,Pt))&&(q=i(h(ft,vt),h(ft,Pt)),q<tt&&S(ft,vt,Pt)&&(tt=q,gt=Pt%O.length));vt<gt?(d(mt,ft,vt,gt+1),gt!==0&&d(at,ft,gt,xt.length),d(at,ft,0,vt+1)):(vt!==0&&d(mt,ft,vt,xt.length),d(mt,ft,0,gt+1),d(at,ft,gt,vt+1))}return mt.length<at.length?(R(mt,N,L,W,F,U,Z),R(at,N,L,W,F,U,Z)):(R(at,N,L,W,F,U,Z),R(mt,N,L,W,F,U,Z)),N}return N.push(O),N}function I(O,N){for(var L=0,W=O.length-1;O.length>3&&W>=0;--W)l(h(O,W-1),h(O,W),h(O,W+1),N)&&(O.splice(W%O.length,1),L++);return L}function D(O,N){for(var L=O.length-1;L>=1;--L)for(var W=O[L],F=L-1;F>=0;--F)if(B(W,O[F],N)){O.splice(L,1);continue}}function Y(O,N,L){return L=L||0,Math.abs(O-N)<=L}function B(O,N,L){return Y(O[0],N[0],L)&&Y(O[1],N[1],L)}},52018:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(83419),p=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=p},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=x},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={},a={};a.register=function(p,o,s,r){r===void 0&&(r=!1),x[p]={plugin:o,mapping:s,custom:r}},a.registerCustom=function(p,o,s,r){t[p]={plugin:o,mapping:s,data:r}},a.hasCore=function(p){return x.hasOwnProperty(p)},a.hasCustom=function(p){return t.hasOwnProperty(p)},a.getCore=function(p){return x[p]},a.getCustom=function(p){return t[p]},a.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},a.remove=function(p){x.hasOwnProperty(p)&&delete x[p]},a.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},a.destroyCorePlugins=function(){for(var p in x)x.hasOwnProperty(p)&&delete x[p]},a.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},c.exports=a},77332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8443),o=t(50792),s=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),i=t(72905),h=t(8054),f=new a({Extends:o,initialize:function(u){o.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted||u.config.renderType===h.HEADLESS?this.boot():u.events.once(p.BOOT,this.boot,this)},boot:function(){var d,u,v,g,y,m,T,S=this.game.config,E=S.installGlobalPlugins;for(E=E.concat(this._pendingGlobal),d=0;d<E.length;d++)u=E[d],v=n(u,"key",null),g=n(u,"plugin",null),y=n(u,"start",!1),m=n(u,"mapping",null),T=n(u,"data",null),v&&(g?this.install(v,g,y,m,T):console.warn("Missing `plugin` for key: "+v));for(E=S.installScenePlugins,E=E.concat(this._pendingScene),d=0;d<E.length;d++)u=E[d],v=n(u,"key",null),g=n(u,"plugin",null),m=n(u,"mapping",null),v&&(g?this.installScenePlugin(v,g,m):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(d,u,v){var g,y,m,T=this.game,S=d.scene,E=d.settings.map,C=d.settings.isBooted;for(g=0;g<u.length;g++)y=u[g],T[y]?(d[y]=T[y],E.hasOwnProperty(y)&&(S[E[y]]=d[y])):y==="game"&&E.hasOwnProperty(y)&&(S[E[y]]=T);for(var w=0;w<v.length;w++)for(m=v[w],g=0;g<m.length;g++)if(y=m[g],!!l.hasCore(y)){var A=l.getCore(y),P=A.mapping,M=new A.plugin(S,this,P);d[P]=M,A.custom?S[P]=M:E.hasOwnProperty(P)&&(S[E[P]]=M),C&&M.boot()}for(m=this.plugins,g=0;g<m.length;g++){var R=m[g];R.mapping&&(S[R.mapping]=R.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,u,v,g,y){if(y===void 0&&(y=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(l.hasCore(d)||l.register(d,u,v,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!y&&l.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(g){var m=new u(g,this,d);g.sys[d]=m,v&&v!==""&&(g[v]=m),m.boot()}},install:function(d,u,v,g,y){if(v===void 0&&(v=!1),g===void 0&&(g=null),y===void 0&&(y=null),typeof u!="function")return console.warn("Invalid Plugin: "+d),null;if(l.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(g!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:u,start:v,mapping:g,data:y});else if(l.registerCustom(d,u,g,y),v)return this.start(d);return null},getIndex:function(d){for(var u=this.plugins,v=0;v<u.length;v++){var g=u[v];if(g.key===d)return v}return-1},getEntry:function(d){var u=this.getIndex(d);if(u!==-1)return this.plugins[u]},isActive:function(d){var u=this.getEntry(d);return u&&u.active},start:function(d,u){u===void 0&&(u=d);var v=this.getEntry(u);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(d,u)),v?v.plugin:null},createEntry:function(d,u){var v=l.getCustom(d);if(v){var g=new v.plugin(this);v={key:u,plugin:g,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),g.init(v.data),g.start()}return v},stop:function(d){var u=this.getEntry(d);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(d,u){u===void 0&&(u=!0);var v=this.getEntry(d);if(v)return v.plugin;var g=this.getClass(d);return g&&u?(v=this.createEntry(d,d),v?v.plugin:null):g||null},getClass:function(d){return l.getCustomClass(d)},removeGlobalPlugin:function(d){var u=this.getEntry(d);u&&i(this.plugins,u),l.removeCustom(d)},removeScenePlugin:function(d){i(this.scenePlugins,d),l.remove(d)},registerGameObject:function(d,u,v){return u&&e.register(d,u),v&&r.register(d,v),this},removeGameObject:function(d,u,v){return u===void 0&&(u=!0),v===void 0&&(v=!0),u&&e.remove(d),v&&r.remove(d),this},registerFileType:function(d,u,v){s.register(d,u),v&&v.sys.load&&(v.sys.load[d]=u)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=f},45145:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(52018),p=t(83419),o=t(44594),s=new p({Extends:a,initialize:function(e,n,l){a.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=s},18922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const x=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(o,s)=>{const r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>a){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-o;c(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(n=>p(s,n))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(o=>p(x,o)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=x},68627:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19715),p=t(32880),o=t(83419),s=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),i=t(69442),h=t(8443),f=t(61340),d=new o({Extends:r,initialize:function(v){r.call(this);var g=v.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=v,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var y={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var u=this.game;u.events.once(h.BOOT,function(){var v=this.config;if(!v.transparent){var g=this.gameContext,y=this.gameCanvas;g.fillStyle=v.backgroundColor.rgba,g.fillRect(0,0,y.width,y.height)}},this),u.textures.once(i.READY,this.boot,this)},boot:function(){var u=this.game,v=u.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,u.scale.on(l.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(u,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(u,v){this.width=u,this.height=v,this.emit(e.RESIZE,u,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,v=this.config,g=this.width,y=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),v.clearBeforeRender&&(u.clearRect(0,0,g,y),v.transparent||(u.fillStyle=v.backgroundColor.rgba,u.fillRect(0,0,g,y))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,v,g){var y=v.length;this.emit(e.RENDER,u,g);var m=g.x,T=g.y,S=g.width,E=g.height,C=g.renderToTexture?g.context:u.sys.context;C.save(),this.game.scene.customViewports&&(C.beginPath(),C.rect(m,T,S,E),C.clip()),g.emit(a.PRE_RENDER,g),this.currentContext=C;var w=g.mask;w&&w.preRenderCanvas(this,null,g._maskCamera),g.transparent||(C.fillStyle=g.backgroundColor.rgba,C.fillRect(m,T,S,E)),C.globalAlpha=g.alpha,C.globalCompositeOperation="source-over",this.drawCount+=y,g.renderToTexture&&g.emit(a.PRE_RENDER,g),g.matrix.copyToContext(C);for(var A=0;A<y;A++){var P=v[A];P.mask&&P.mask.preRenderCanvas(this,P,g),P.renderCanvas(this,P,g),P.mask&&P.mask.postRenderCanvas(this,P,g)}C.setTransform(1,0,0,1,0,0),C.globalCompositeOperation="source-over",C.globalAlpha=1,g.flashEffect.postRenderCanvas(C),g.fadeEffect.postRenderCanvas(C),g.dirty=!1,w&&w.postRenderCanvas(this),C.restore(),g.renderToTexture&&(g.emit(a.POST_RENDER,g),g.renderToGame&&u.sys.context.drawImage(g.canvas,m,T)),g.emit(a.POST_RENDER,g)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var v=this.snapshotState;v.callback&&(p(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(u,v,g,y,m,T,S,E,C){g===void 0&&(g=!1),this.snapshotArea(y,m,T,S,v,E,C);var w=this.snapshotState;return w.getPixel=g,p(u,w),w.callback=null,this},snapshot:function(u,v,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,v,g)},snapshotArea:function(u,v,g,y,m,T,S){var E=this.snapshotState;return E.callback=m,E.type=T,E.encoder=S,E.getPixel=!1,E.x=u,E.y=v,E.width=Math.min(g,this.gameCanvas.width),E.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(u,v,g){return this.snapshotArea(u,v,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(u,v,g,y){var m=g.alpha*u.alpha;if(m!==0){var T=this.currentContext,S=this._tempMatrix1,E=this._tempMatrix2,C=v.canvasData,w=C.x,A=C.y,P=v.cutWidth,M=v.cutHeight,R=v.customPivot,I=v.source.resolution,D=u.displayOriginX,Y=u.displayOriginY,B=-D+v.x,O=-Y+v.y;if(u.isCropped){var N=u._crop;(N.flipX!==u.flipX||N.flipY!==u.flipY)&&v.updateCropUVs(N,u.flipX,u.flipY),P=N.cw,M=N.ch,w=N.cx,A=N.cy,B=-D+N.x,O=-Y+N.y,u.flipX&&(B>=0?B=-(B+P):B<0&&(B=Math.abs(B)-P)),u.flipY&&(O>=0?O=-(O+M):O<0&&(O=Math.abs(O)-M))}var L=1,W=1;u.flipX&&(R||(B+=-v.realWidth+D*2),L=-1),u.flipY&&(R||(O+=-v.realHeight+Y*2),W=-1);var F=u.x,U=u.y;if(g.roundPixels&&(F=Math.floor(F),U=Math.floor(U)),E.applyITRS(F,U,u.rotation,u.scaleX*L,u.scaleY*W),S.copyFrom(g.matrix),y?(S.multiplyWithOffset(y,-g.scrollX*u.scrollFactorX,-g.scrollY*u.scrollFactorY),E.e=F,E.f=U):(E.e-=g.scrollX*u.scrollFactorX,E.f-=g.scrollY*u.scrollFactorY),S.multiply(E),g.renderRoundPixels&&(S.e=Math.floor(S.e+.5),S.f=Math.floor(S.f+.5)),T.save(),S.setToContext(T),T.globalCompositeOperation=this.blendModes[u.blendMode],T.globalAlpha=m,T.imageSmoothingEnabled=!v.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,g),P>0&&M>0){var Z=P/I,J=M/I;g.roundPixels&&(B=Math.floor(B+.5),O=Math.floor(O+.5),Z+=.5,J+=.5),T.drawImage(v.source.image,w,A,P,M,B,O,Z,J)}u.mask&&u.mask.postRenderCanvas(this,u,g),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=d},55830:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(89289),o=function(){var s=[],r=p.supportNewBlendModes,e="source-over";return s[a.NORMAL]=e,s[a.ADD]="lighter",s[a.MULTIPLY]=r?"multiply":e,s[a.SCREEN]=r?"screen":e,s[a.OVERLAY]=r?"overlay":e,s[a.DARKEN]=r?"darken":e,s[a.LIGHTEN]=r?"lighten":e,s[a.COLOR_DODGE]=r?"color-dodge":e,s[a.COLOR_BURN]=r?"color-burn":e,s[a.HARD_LIGHT]=r?"hard-light":e,s[a.SOFT_LIGHT]=r?"soft-light":e,s[a.DIFFERENCE]=r?"difference":e,s[a.EXCLUSION]=r?"exclusion":e,s[a.HUE]=r?"hue":e,s[a.SATURATION]=r?"saturation":e,s[a.COLOR]=r?"color":e,s[a.LUMINOSITY]=r?"luminosity":e,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};c.exports=o},20926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var i=a(r,e,n).calc;return s.globalCompositeOperation=o.blendModes[r.blendMode],s.globalAlpha=l,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};c.exports=p},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=o(e,"callback"),l=o(e,"type","image/png"),i=o(e,"encoder",.92),h=Math.abs(Math.round(o(e,"x",0))),f=Math.abs(Math.round(o(e,"y",0))),d=Math.floor(o(e,"width",r.width)),u=Math.floor(o(e,"height",r.height)),v=o(e,"getPixel",!1);if(v){var g=r.getContext("2d",{willReadFrequently:!1}),y=g.getImageData(h,f,1,1),m=y.data;n.call(null,new p(m[0],m[1],m[2],m[3]))}else if(h!==0||f!==0||d!==r.width||u!==r.height){var T=a.createWebGL(this,d,u),S=T.getContext("2d",{willReadFrequently:!0});d>0&&u>0&&S.drawImage(r,h,f,d,u,0,0,d,u);var E=new Image;E.onerror=function(){n.call(null),a.remove(T)},E.onload=function(){n.call(null,E),a.remove(T)},E.src=T.toDataURL(l,i)}else{var C=new Image;C.onerror=function(){n.call(null)},C.onload=function(){n.call(null,C)},C.src=r.toDataURL(l,i)}};c.exports=s},88815:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=r,l=o(e,"callback"),i=o(e,"type","image/png"),h=o(e,"encoder",.92),f=Math.abs(Math.round(o(e,"x",0))),d=Math.abs(Math.round(o(e,"y",0))),u=o(e,"getPixel",!1),v=o(e,"isFramebuffer",!1),g=v?o(e,"bufferWidth",1):n.drawingBufferWidth,y=v?o(e,"bufferHeight",1):n.drawingBufferHeight;if(u){var m=new Uint8Array(4),T=v?d:y-d;n.readPixels(f,T,1,1,n.RGBA,n.UNSIGNED_BYTE,m),l.call(null,new p(m[0],m[1],m[2],m[3]))}else{var S=Math.floor(o(e,"width",g)),E=Math.floor(o(e,"height",y)),C=S*E*4,w=new Uint8Array(C);n.readPixels(f,y-d-E,S,E,n.RGBA,n.UNSIGNED_BYTE,w);for(var A=a.createWebGL(this,S,E),P=A.getContext("2d",{willReadFrequently:!0}),M=P.getImageData(0,0,S,E),R=M.data,I=0;I<E;I++)for(var D=0;D<S;D++){var Y=((E-I-1)*S+D)*4,B=v?C-(I*S+(S-D))*4:(I*S+D)*4;R[B+0]=w[Y+0],R[B+1]=w[Y+1],R[B+2]=w[Y+2],R[B+3]=w[Y+3]}P.putImageData(M,0,0);var O=new Image;O.onerror=function(){l.call(null),a.remove(A)},O.onload=function(){l.call(null,O),a.remove(A)},O.src=A.toDataURL(i,h)}};c.exports=s},89966:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36060),o=t(90330),s=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),i=t(58918),h=t(14811),f=t(92651),d=t(96569),u=t(56527),v=t(57516),g=t(43439),y=t(81041),m=t(12385),T=t(7589),S=t(95428),E=t(72905),C=new a({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new o([[p.UTILITY_PIPELINE,T],[p.MULTI_PIPELINE,v],[p.BITMAPMASK_PIPELINE,l],[p.SINGLE_PIPELINE,m],[p.ROPE_PIPELINE,y],[p.LIGHT_PIPELINE,d],[p.POINTLIGHT_PIPELINE,g],[p.MOBILE_PIPELINE,u]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,A,P){var M=this.renderer,R=this.renderTargets;this.frameInc=Math.floor(r(w,"frameInc",32));var I=M.width,D=M.height,Y=this.game.config.disablePreFX,B=this.game.config.disablePostFX;if(B||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!Y){this.classes.set(p.FX_PIPELINE,f);for(var O=Math.min(I,D),N=Math.ceil(O/this.frameInc),L=1;L<N;L++){var W=L*this.frameInc;R.push(new e(M,W,W)),R.push(new e(M,W,W)),R.push(new e(M,W,W)),this.maxDimension=W}R.push(new e(M,I,D,1,0,!0,!0)),R.push(new e(M,I,D,1,0,!0,!0)),R.push(new e(M,I,D,1,0,!0,!0))}var F,U,Z=this,J=this.game;if(this.classes.each(function(k,et){F=Z.add(k,new et({game:J})),k===p.UTILITY_PIPELINE&&(Z.UTILITY_PIPELINE=F,Z.fullFrame1=F.fullFrame1,Z.fullFrame2=F.fullFrame2,Z.halfFrame1=F.halfFrame1,Z.halfFrame2=F.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),Y||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),w)for(U in w){var Q=w[U];F=new Q(J),F.name=U,F.isPostFX?this.postPipelineClasses.set(U,Q):this.has(U)||(this.classes.set(U,Q),this.add(U,F))}this.default=this.get(A),P&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var A=this.get(w);return A&&(this.default=A),A},add:function(w,A){if(A.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var P=this.pipelines,M=this.renderer;return P.has(w)?console.warn("Pipeline exists: "+w):(A.name=w,A.manager=this,P.set(w,A)),A.hasBooted||A.boot(),M.width!==0&&M.height!==0&&!A.isPreFX&&A.resize(M.width,M.height),A},addPostPipeline:function(w,A){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,A)},flush:function(){this.current&&this.current.flush()},has:function(w){var A=this.pipelines;return typeof w=="string"?A.has(w):!!A.contains(w)},get:function(w){var A=this.pipelines;if(typeof w=="string")return A.get(w);if(A.contains(w))return w},getPostPipeline:function(w,A,P){var M=this.postPipelineClasses,R,I="",D=typeof w;if(D==="string"||D==="number"?(R=M.get(w),I=w):D==="function"?(M.contains(w)&&(R=w),I=w.name):D==="object"&&(R=M.get(w.name),I=w.name),R){var Y=new R(this.game,P);return Y.name=I,A&&(Y.gameObject=A),this.postPipelineInstances.push(Y),Y}},removePostPipeline:function(w){E(this.postPipelineInstances,w)},remove:function(w,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0),this.pipelines.delete(w),A&&this.classes.delete(w),P&&this.postPipelineClasses.delete(w)},set:function(w,A,P){if(!w.isPostFX)return this.isCurrent(w,P)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(P)),w.updateProjectionMatrix(),w.onBind(A),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var A=w.postPipelines,P=A.length-1;P>=0;P--){var M=A[P];M.active&&M.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var A=w.postPipelines,P=0;P<A.length;P++){var M=A[P];M.active&&M.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var A=w.postPipelines,P=A.length-1;P>=0;P--){var M=A[P];M.active&&M.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var A=w.postPipelines,P=0;P<A.length;P++){var M=A[P];M.active&&M.postBatch(w)}}},isCurrent:function(w,A){var P=this.renderer,M=this.current;return M&&!A&&(A=M.currentShader),!(M!==w||A.program!==P.currentProgram)},copyFrame:function(w,A,P,M,R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,A,P,M,R),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,A,P,M){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,A,P,M),this},blendFrames:function(w,A,P,M,R){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,A,P,M,R),this},blendFramesAdditive:function(w,A,P,M,R){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,A,P,M,R),this},clearFrame:function(w,A){return this.UTILITY_PIPELINE.clearFrame(w,A),this},blitFrame:function(w,A,P,M,R,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,A,P,M,R,I),this},copyFrameRect:function(w,A,P,M,R,I,D,Y){return this.UTILITY_PIPELINE.copyFrameRect(w,A,P,M,R,I,D,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(w,A){A.restoreContext()}),S(this.postPipelineInstances,function(w){w.restoreContext()})},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var A=this.renderer,P=A.gl;P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),A.hasActiveStencilMask()?P.clear(P.DEPTH_BUFFER_BIT):(P.disable(P.STENCIL_TEST),P.clear(P.DEPTH_BUFFER_BIT|P.STENCIL_BUFFER_BIT)),P.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var M=A.vaoExtension;M&&M.bindVertexArrayOES(null);var R=this.pipelines.entries;for(var I in R)R[I].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var A=w.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(w){var A=this.renderTargets,P=3;if(w>this.maxDimension)return this.targetIndex=A.length-P,A[this.targetIndex];var M=(n(w,this.frameInc,0,!0)-1)*P;return this.targetIndex=M,A[M]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=C},32302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92503),o=new a({initialize:function(r,e,n,l,i,h,f,d,u){l===void 0&&(l=1),i===void 0&&(i=0),h===void 0&&(h=!0),f===void 0&&(f=!1),d===void 0&&(d=!0),u===void 0&&(u=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=u,this.init(e,n),f?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(s,r){var e=this.renderer;this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(this.autoResize&&this.willResize(s,r)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return typeof s!="number"||typeof r!="number"?!1:(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s=Math.max(s,1),r=Math.max(r,1),s!==this.width||r!==this.height)},bind:function(s,r,e){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(s,r,e,n){var l=this.renderer,i=l.gl;l.pushFramebuffer(this.framebuffer),s!==void 0&&r!==void 0&&e!==void 0&&n!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(s,r,e,n)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(p.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=o},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(x,t,a,p){var o=(x*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255,e=(p*255|0)&255;return(e<<24|o<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(x,t){var a=(t*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var a=(x>>16|0)&255,p=(x>>8|0)&255,o=(x|0)&255,s=(t*255|0)&255;return(s<<24|o<<16|p<<8|a)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,a=(x>>8|0)&255,p=(x|0)&255;return[t/255,a/255,p/255]},checkShaderMax:function(x,t){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var a="",p=0;p<t;p++)p>0&&(a+=`
	else `),p<t-1&&(a+="if (outTexId < "+p+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,t,a,p){return a===void 0&&(a=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/p).toFixed(7)),x=x.replace(/__DIST__/gi,p.toFixed(0)+".0"),x}}},29100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(62644),o=t(50792),s=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),i=t(70554),h=t(38683),f=new a({Extends:o,initialize:function(u){o.call(this);var v=u.game,g=v.renderer,y=g.gl;this.name=r(u,"name","WebGLPipeline"),this.game=v,this.renderer=g,this.manager,this.gl=y,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(u,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(u,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=u,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(u,"resizeUniform","")},boot:function(){var d,u=this.gl,v=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var y=this.renderTargets,m=r(v,"renderTarget",!1);typeof m=="boolean"&&m&&(m=1);var T=g.width,S=g.height;if(typeof m=="number")for(d=0;d<m;d++)y.push(new l(g,T,S,1,0,!0));else if(Array.isArray(m))for(d=0;d<m.length;d++){var E=r(m[d],"scale",1),C=r(m[d],"minFilter",0),w=r(m[d],"autoClear",1),A=r(m[d],"autoResize",!1),P=r(m[d],"width",null),M=r(m[d],"height",P);P?y.push(new l(g,P,M,1,C,w,A)):y.push(new l(g,T,S,E,C,w,A))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(v);var R=this.shaders,I=0;for(d=0;d<R.length;d++)R[d].vertexSize>I&&(I=R[d].vertexSize);var D=r(v,"batchSize",g.config.batchSize);this.vertexCapacity=D*6;var Y=new ArrayBuffer(this.vertexCapacity*I);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var B=r(v,"vertices",null);for(B?(this.vertexViewF32.set(B),this.vertexBuffer=g.createVertexBuffer(Y,u.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(Y.byteLength,u.DYNAMIC_DRAW),this.setVertexBuffer(),d=R.length-1;d>=0;d--)R[d].rebind();this.hasBooted=!0,g.on(n.RESIZE,this.resize,this),g.on(n.PRE_RENDER,this.onPreRender,this),g.on(n.RENDER,this.onRender,this),g.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,u,v){var g=this.renderer;if(d!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var y=this.setVertexBuffer(v);y&&!u&&(u=!0),d.bind(u,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var u=this.shaders,v=0;v<u.length;v++)if(u[v].name===d)return u[v]},setShadersFromConfig:function(d){var u,v=this.shaders,g=this.renderer;for(u=0;u<v.length;u++)v[u].destroy();var y="vertShader",m="fragShader",T="attributes",S=r(d,y,null),E=i.parseFragmentShaderMaxTextures(r(d,m,null),g.maxTextures),C=r(d,T,null),w=r(d,"shaders",[]),A=w.length;if(A===0)S&&E&&(this.shaders=[new h(this,"default",S,E,p(C))]);else{var P=[];for(u=0;u<A;u++){var M=w[u],R,I,D,Y;if(typeof M=="string"?(R="default",I=S,D=i.parseFragmentShaderMaxTextures(M,g.maxTextures),Y=C):(R=r(M,"name","default"),I=r(M,y,S),D=i.parseFragmentShaderMaxTextures(r(M,m,E),g.maxTextures),Y=r(M,T,C)),R==="default"){var B=D.split(`
`),O=B[0].trim();O.indexOf("#define SHADER_NAME")>-1&&(R=O.substring(20))}I&&D&&P.push(new h(this,R,I,D,p(Y)))}this.shaders=P}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var u=this.currentBatch;u&&(u.texture.push(d),u.unit++,u.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var u=this.currentBatch,v=u.texture.indexOf(d);return v===-1?u.texture.length===this.renderer.maxTextures?this.createBatch(d):(u.unit++,u.maxUnit++,u.texture.push(d),this.currentUnit=u.unit,this.currentTexture=d,u.unit):(this.currentUnit=v,this.currentTexture=d,v)},setGameObject:function(d,u){return u===void 0&&(u=d.frame),this.pushBatch(u.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,u){(d!==this.width||u!==this.height)&&this.flush(),this.width=d,this.height=u;for(var v=this.renderTargets,g=0;g<v.length;g++)v[g].resize(d,u);return this.setProjectionMatrix(d,u),this.resizeUniform&&this.set2f(this.resizeUniform,d,u),this.emit(s.RESIZE,d,u,this),this.onResize(d,u),this},setProjectionMatrix:function(d,u){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=d,this.projectionHeight=u,v.ortho(0,d,u,0,-1e3,1e3);for(var g=this.shaders,y="uProjectionMatrix",m=0;m<g.length;m++){var T=g[m];T.hasUniform(y)&&(T.resetUniform(y),T.setMatrix4fv(y,!1,v.val,T))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var u=this.projectionMatrix;if(!u)return this;var v=this.projectionWidth,g=this.projectionHeight;d?u.ortho(0,v,0,g,-1e3,1e3):u.ortho(0,v,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,u.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,u=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==u)&&this.setProjectionMatrix(d,u)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var u=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,u=!0),d.bind(u),this.currentShader=d,this.activeTextures.length=0,this.emit(s.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var u=this.shaders,v=u.length-1;v>=0;v--){var g=u[v].rebind();(!d||g===d)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,u=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,u&&this.setVertexBuffer();for(var v=0;v<d.length;v++){var g=d[v];g.syncUniforms(),u&&g.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var u=this.gl;return this.gl.bindBuffer(u.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var u=this.gl,v=this.vertexCount,g=this.currentShader.vertexSize,y=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.DYNAMIC_DRAW):u.bufferSubData(u.ARRAY_BUFFER,0,this.bytes.subarray(0,v*g));var m,T,S,E=this.batch,C=this.activeTextures;if(this.forceZero)for(C[0]||u.activeTexture(u.TEXTURE0),m=0;m<E.length;m++)T=E[m],S=T.texture[0],C[0]!==S&&(u.bindTexture(u.TEXTURE_2D,S.webGLTexture),C[0]=S),u.drawArrays(y,T.start,T.count);else for(m=0;m<E.length;m++){T=E[m];for(var w=0;w<=T.maxUnit;w++)S=T.texture[w],C[w]!==S&&(u.activeTexture(u.TEXTURE0+w),u.bindTexture(u.TEXTURE_2D,S.webGLTexture),C[w]=S);u.drawArrays(y,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,u,v,g,y,m,T){var S=this.vertexViewF32,E=this.vertexViewU32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++C]=d,S[++C]=u,S[++C]=v,S[++C]=g,S[++C]=y,S[++C]=m,E[++C]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O){O===void 0&&(O=this.currentUnit);var N=!1;this.shouldFlush(6)&&(this.flush(),N=!0),this.currentBatch||(O=this.setTexture2D(B));var L=this.vertexViewF32,W=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;return L[++F]=u,L[++F]=v,L[++F]=C,L[++F]=w,L[++F]=O,L[++F]=Y,W[++F]=M,L[++F]=g,L[++F]=y,L[++F]=C,L[++F]=P,L[++F]=O,L[++F]=Y,W[++F]=I,L[++F]=m,L[++F]=T,L[++F]=A,L[++F]=P,L[++F]=O,L[++F]=Y,W[++F]=D,L[++F]=u,L[++F]=v,L[++F]=C,L[++F]=w,L[++F]=O,L[++F]=Y,W[++F]=M,L[++F]=m,L[++F]=T,L[++F]=A,L[++F]=P,L[++F]=O,L[++F]=Y,W[++F]=D,L[++F]=S,L[++F]=E,L[++F]=A,L[++F]=w,L[++F]=O,L[++F]=Y,W[++F]=R,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),N},batchTri:function(d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D){D===void 0&&(D=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(D=this.setTexture2D(I));var B=this.vertexViewF32,O=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;return B[++N]=u,B[++N]=v,B[++N]=S,B[++N]=E,B[++N]=D,B[++N]=R,O[++N]=A,B[++N]=g,B[++N]=y,B[++N]=S,B[++N]=w,B[++N]=D,B[++N]=R,O[++N]=P,B[++N]=m,B[++N]=T,B[++N]=C,B[++N]=w,B[++N]=D,B[++N]=R,O[++N]=M,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),Y},drawFillRect:function(d,u,v,g,y,m,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),d=Math.floor(d),u=Math.floor(u);var E=Math.floor(d+v),C=Math.floor(u+g),w=this.setTexture2D(T),A=i.getTintAppendFloatAlphaAndSwap(y,m),P=0,M=0,R=1,I=1;S&&(M=1,I=0),this.batchQuad(null,d,u,d,C,E,C,E,u,P,M,R,I,A,A,A,A,0,T,w)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,u){u===void 0&&(u=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+u),v.bindTexture(v.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,u){return this.bindTexture(d.texture,u)},setTime:function(d,u){return this.set1f(d,this.game.loop.getDuration(),u),this},setBoolean:function(d,u,v){return v===void 0&&(v=this.currentShader),v.setBoolean(d,u),this},set1f:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set1f(d,u),this},set2f:function(d,u,v,g){return g===void 0&&(g=this.currentShader),g.set2f(d,u,v),this},set3f:function(d,u,v,g,y){return y===void 0&&(y=this.currentShader),y.set3f(d,u,v,g),this},set4f:function(d,u,v,g,y,m){return m===void 0&&(m=this.currentShader),m.set4f(d,u,v,g,y),this},set1fv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set1fv(d,u),this},set2fv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set2fv(d,u),this},set3fv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set3fv(d,u),this},set4fv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set4fv(d,u),this},set1iv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set1iv(d,u),this},set2iv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set2iv(d,u),this},set3iv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set3iv(d,u),this},set4iv:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set4iv(d,u),this},set1i:function(d,u,v){return v===void 0&&(v=this.currentShader),v.set1i(d,u),this},set2i:function(d,u,v,g){return g===void 0&&(g=this.currentShader),g.set2i(d,u,v),this},set3i:function(d,u,v,g,y){return y===void 0&&(y=this.currentShader),y.set3i(d,u,v,g),this},set4i:function(d,u,v,g,y,m){return m===void 0&&(m=this.currentShader),m.set4i(d,u,v,g,y),this},setMatrix2fv:function(d,u,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(d,u,v),this},setMatrix3fv:function(d,u,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(d,u,v),this},setMatrix4fv:function(d,u,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(d,u,v),this},destroy:function(){this.emit(s.DESTROY,this);var d,u=this.shaders;for(d=0;d<u.length;d++)u[d].destroy();var v=this.renderTargets;for(d=0;d<v.length;d++)v[d].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(n.RESIZE,this.resize,this),g.off(n.PRE_RENDER,this.onPreRender,this),g.off(n.RENDER,this.onRender,this),g.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95428),p=t(72905),o=t(19715),s=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),i=t(37867),h=t(29747),f=t(7530),d=t(32302),u=t(97480),v=t(69442),g=t(70554),y=t(88815),m=t(26128),T=t(1482),S=t(82751),E=t(84387),C=t(93567),w=t(57183),A=new s({Extends:e,initialize:function(M){e.call(this);var R=M.config,I={alpha:R.transparent,desynchronized:R.desynchronized,depth:!0,antialias:R.antialiasGL,premultipliedAlpha:R.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:R.failIfMajorPerformanceCaveat,powerPreference:R.powerPreference,preserveDrawingBuffer:R.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:R.clearBeforeRender,antialias:R.antialias,backgroundColor:R.backgroundColor,contextCreation:I,roundPixels:R.roundPixels,maxTextures:R.maxTextures,maxTextureSize:R.maxTextureSize,batchSize:R.batchSize,maxLights:R.maxLights,mipmapFilter:R.mipmapFilter},this.game=M,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=M.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.previousContextLostHandler=h,this.previousContextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(P){var M,R=this.game,I=this.canvas,D=P.backgroundColor;if(R.config.context?M=R.config.context:M=I.getContext("webgl",P.contextCreation)||I.getContext("experimental-webgl",P.contextCreation),!M||M.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=M,this.setExtensions(),this.setContextHandlers(),R.context=M;for(var Y=0;Y<=27;Y++)this.blendModes.push({func:[M.ONE,M.ONE_MINUS_SRC_ALPHA],equation:M.FUNC_ADD});this.blendModes[1].func=[M.ONE,M.DST_ALPHA],this.blendModes[2].func=[M.DST_COLOR,M.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[M.ONE,M.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[M.ZERO,M.ONE_MINUS_SRC_ALPHA],equation:M.FUNC_REVERSE_SUBTRACT},this.glFormats=[M.BYTE,M.SHORT,M.UNSIGNED_BYTE,M.UNSIGNED_SHORT,M.FLOAT],this.glFuncMap={mat2:{func:M.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:M.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:M.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:M.uniform1f,length:1},"1fv":{func:M.uniform1fv,length:1},"1i":{func:M.uniform1i,length:1},"1iv":{func:M.uniform1iv,length:1},"2f":{func:M.uniform2f,length:2},"2fv":{func:M.uniform2fv,length:1},"2i":{func:M.uniform2i,length:2},"2iv":{func:M.uniform2iv,length:1},"3f":{func:M.uniform3f,length:3},"3fv":{func:M.uniform3fv,length:1},"3i":{func:M.uniform3i,length:3},"3iv":{func:M.uniform3iv,length:1},"4f":{func:M.uniform4f,length:4},"4fv":{func:M.uniform4fv,length:1},"4i":{func:M.uniform4i,length:4},"4iv":{func:M.uniform4iv,length:1}},(!P.maxTextures||P.maxTextures===-1)&&(P.maxTextures=M.getParameter(M.MAX_TEXTURE_IMAGE_UNITS)),P.maxTextureSize||(P.maxTextureSize=M.getParameter(M.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),M.enable(M.BLEND),M.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),M.clear(M.COLOR_BUFFER_BIT);var B=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return B.indexOf(P.mipmapFilter)!==-1&&(this.mipmapFilter=M[P.mipmapFilter]),this.maxTextures=g.checkShaderMax(M,P.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),R.textures.once(v.READY,this.boot,this),this},boot:function(){var P=this.game,M=this.pipelines,R=P.scale.baseSize,I=R.width,D=R.height;this.width=I,this.height=D,this.isBooted=!0,this.renderTarget=new d(this,I,D,1,0,!0,!0),this.maskTarget=new d(this,I,D,1,0,!0,!0),this.maskSource=new d(this,I,D,1,0,!0,!0);var Y=P.config;M.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=P.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=P.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=P.textures.getFrame("__WHITE").glTexture;var B=this.gl;B.bindFramebuffer(B.FRAMEBUFFER,null),B.enable(B.SCISSOR_TEST),P.scale.on(u.RESIZE,this.onResize,this),this.resize(I,D)},setExtensions:function(){var P=this.gl,M=P.getSupportedExtensions();this.supportedExtensions=M;var R="ANGLE_instanced_arrays";this.instancedArraysExtension=M.indexOf(R)>-1?P.getExtension(R):null;var I="OES_vertex_array_object";this.vaoExtension=M.indexOf(I)>-1?P.getExtension(I):null},setContextHandlers:function(P,M){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof P=="function"?this.contextLostHandler=P.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof M=="function"?this.contextRestoredHandler=M.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(P){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),P.preventDefault()},dispatchContextRestored:function(P){var M=this.gl;if(M.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),M.disable(M.BLEND),M.disable(M.DEPTH_TEST),M.enable(M.CULL_FACE),this.compression=this.getCompressedTextures();var R=function(I){I.createResource()};a(this.glTextureWrappers,R),a(this.glBufferWrappers,R),a(this.glFramebufferWrappers,R),a(this.glProgramWrappers,R),a(this.glAttribLocationWrappers,R),a(this.glUniformLocationWrappers,R),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),P.preventDefault()},createTemporaryTextures:function(){for(var P=this.gl,M=0;M<this.maxTextures;M++){var R=P.createTexture();P.activeTexture(P.TEXTURE0+M),P.bindTexture(P.TEXTURE_2D,R),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(M)}},captureFrame:function(P,M){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(P,M,R){},stopCapture:function(){},onCapture:function(P){},onResize:function(P,M){(M.width!==this.width||M.height!==this.height)&&this.resize(M.width,M.height)},beginCapture:function(P,M){P===void 0&&(P=this.width),M===void 0&&(M=this.height),this.renderTarget.bind(!0,P,M),this.setProjectionMatrix(P,M)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(P,M){var R=this.gl;return this.width=P,this.height=M,this.setProjectionMatrix(P,M),R.viewport(0,0,P,M),this.drawingBufferHeight=R.drawingBufferHeight,R.scissor(0,R.drawingBufferHeight-M,P,M),this.defaultScissor[2]=P,this.defaultScissor[3]=M,this.emit(n.RESIZE,P,M),this},getCompressedTextures:function(){var P="WEBGL_compressed_texture_",M="WEBKIT_"+P,R="EXT_texture_compression_",I=function(Y,B){var O=Y.getExtension(P+B)||Y.getExtension(M+B)||Y.getExtension(R+B);if(O){var N={};for(var L in O)N[O[L]]=L;return N}},D=this.gl;return{ETC:I(D,"etc"),ETC1:I(D,"etc1"),ATC:I(D,"atc"),ASTC:I(D,"astc"),BPTC:I(D,"bptc"),RGTC:I(D,"rgtc"),PVRTC:I(D,"pvrtc"),S3TC:I(D,"s3tc"),S3TCSRGB:I(D,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(P,M){var R=this.compression[P.toUpperCase()];if(M in R)return R[M]},supportsCompressedTexture:function(P,M){var R=this.compression[P.toUpperCase()];return R?M?M in R:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(P,M){return(P!==this.projectionWidth||M!==this.projectionHeight)&&(this.projectionWidth=P,this.projectionHeight=M,this.projectionMatrix.ortho(0,P,M,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(P){return this.supportedExtensions?this.supportedExtensions.indexOf(P):!1},getExtension:function(P){return this.hasExtension(P)?(P in this.extensions||(this.extensions[P]=this.gl.getExtension(P)),this.extensions[P]):null},flush:function(){this.pipelines.flush()},pushScissor:function(P,M,R,I,D){D===void 0&&(D=this.drawingBufferHeight);var Y=this.scissorStack,B=[P,M,R,I];return Y.push(B),this.setScissor(P,M,R,I,D),this.currentScissor=B,B},setScissor:function(P,M,R,I,D){D===void 0&&(D=this.drawingBufferHeight);var Y=this.gl,B=this.currentScissor,O=R>0&&I>0;if(B&&O){var N=B[0],L=B[1],W=B[2],F=B[3];O=N!==P||L!==M||W!==R||F!==I}O&&(this.flush(),Y.scissor(P,D-M-I,R,I))},resetScissor:function(){var P=this.gl;P.enable(P.SCISSOR_TEST);var M=this.currentScissor;if(M){var R=M[0],I=M[1],D=M[2],Y=M[3];D>0&&Y>0&&P.scissor(R,this.drawingBufferHeight-I-Y,D,Y)}},popScissor:function(){var P=this.scissorStack;P.pop();var M=P[P.length-1];M&&this.setScissor(M[0],M[1],M[2],M[3]),this.currentScissor=M},hasActiveStencilMask:function(){var P=this.currentMask.mask,M=this.currentCameraMask.mask;return P&&P.isStencil||M&&M.isStencil},resetViewport:function(){var P=this.gl;P.viewport(0,0,this.width,this.height),this.drawingBufferHeight=P.drawingBufferHeight},setBlendMode:function(P,M){M===void 0&&(M=!1);var R=this.gl,I=this.blendModes[P];return M||P!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==P?(this.flush(),R.enable(R.BLEND),R.blendEquation(I.equation),I.func.length>2?R.blendFuncSeparate(I.func[0],I.func[1],I.func[2],I.func[3]):R.blendFunc(I.func[0],I.func[1]),this.currentBlendMode=P,!0):!1},addBlendMode:function(P,M){var R=this.blendModes.push({func:P,equation:M});return R-1},updateBlendMode:function(P,M,R){return this.blendModes[P]&&(this.blendModes[P].func=M,R&&(this.blendModes[P].equation=R)),this},removeBlendMode:function(P){return P>17&&this.blendModes[P]&&this.blendModes.splice(P,1),this},pushFramebuffer:function(P,M,R,I,D){return P===this.currentFramebuffer?this:(this.fboStack.push(P),this.setFramebuffer(P,M,R,I,D))},setFramebuffer:function(P,M,R,I,D){if(M===void 0&&(M=!1),R===void 0&&(R=!0),I===void 0&&(I=null),D===void 0&&(D=!1),P===this.currentFramebuffer)return this;var Y=this.gl,B=this.width,O=this.height;return P&&P.renderTexture&&R?(B=P.renderTexture.width,O=P.renderTexture.height):this.flush(),P?Y.bindFramebuffer(Y.FRAMEBUFFER,P.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),R&&Y.viewport(0,0,B,O),I&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,I.webGLTexture,0),D&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),M&&(P?(this.drawingBufferHeight=O,this.pushScissor(0,0,B,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=P,this},popFramebuffer:function(P,M){P===void 0&&(P=!1),M===void 0&&(M=!0);var R=this.fboStack;R.pop();var I=R[R.length-1];return I||(I=null),this.setFramebuffer(I,P,M),I},restoreFramebuffer:function(P,M){P===void 0&&(P=!1),M===void 0&&(M=!0);var R=this.fboStack,I=R[R.length-1];I||(I=null),this.currentFramebuffer=null,this.setFramebuffer(I,P,M)},setProgram:function(P){return P!==this.currentProgram?(this.flush(),this.gl.useProgram(P.webGLProgram),this.currentProgram=P,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(P,M,R,I,D){D===void 0&&(D=!1);var Y=this.gl,B=Y.NEAREST,O=Y.NEAREST,N=Y.CLAMP_TO_EDGE,L=null;M=P?P.width:M,R=P?P.height:R;var W=l(M,R);if(W&&!D&&(N=Y.REPEAT),I===r.ScaleModes.LINEAR&&this.config.antialias){var F=P&&P.compressed,U=!F&&W||F&&P.mipmaps.length>1;B=this.mipmapFilter&&U?this.mipmapFilter:Y.LINEAR,O=Y.LINEAR}return!P&&typeof M=="number"&&typeof R=="number"?L=this.createTexture2D(0,B,O,N,N,Y.RGBA,null,M,R):L=this.createTexture2D(0,B,O,N,N,Y.RGBA,P),L},createTexture2D:function(P,M,R,I,D,Y,B,O,N,L,W,F){typeof O!="number"&&(O=B?B.width:1),typeof N!="number"&&(N=B?B.height:1);var U=new S(this.gl,P,M,R,I,D,Y,B,O,N,L,W,F);return this.glTextureWrappers.push(U),U},createFramebuffer:function(P,M,R,I){this.currentFramebuffer=null;var D=new E(this.gl,P,M,R,I);return this.glFramebufferWrappers.push(D),D},beginBitmapMask:function(P,M){var R=this.gl;R&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==P&&(this.currentMask.mask=P,this.currentMask.camera=M))},drawBitmapMask:function(P,M,R){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),P.renderWebGL(this,P,M),this.maskSource.unbind(!0),this.maskTarget.unbind();var I=this.gl,D=this.getCurrentStencilMask();D?(I.enable(I.STENCIL_TEST),D.mask.applyStencil(this,D.camera,!0)):this.currentMask.mask=null,this.pipelines.set(R),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,this.maskTarget.texture.webGLTexture),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(P,M){var R=new T(this.gl,P,M);return this.glProgramWrappers.push(R),R},createVertexBuffer:function(P,M){var R=this.gl,I=new m(R,P,R.ARRAY_BUFFER,M);return this.glBufferWrappers.push(I),I},createAttribLocation:function(P,M){var R=new C(this.gl,P,M);return this.glAttribLocationWrappers.push(R),R},createUniformLocation:function(P,M){var R=new w(this.gl,P,M);return this.glUniformLocationWrappers.push(R),R},createIndexBuffer:function(P,M){var R=this.gl,I=new m(R,P,R.ELEMENT_ARRAY_BUFFER,M);return this.glBufferWrappers.push(I),I},deleteTexture:function(P){if(P)return p(this.glTextureWrappers,P),P.destroy(),this},deleteFramebuffer:function(P){return P?(p(this.fboStack,P),p(this.glFramebufferWrappers,P),P.destroy(),this):this},deleteProgram:function(P){return P&&(p(this.glProgramWrappers,P),P.destroy()),this},deleteAttribLocation:function(P){return P&&(p(this.glAttribLocationWrappers,P),P.destroy()),this},deleteUniformLocation:function(P){return P&&(p(this.glUniformLocationWrappers,P),P.destroy()),this},deleteBuffer:function(P){return P?(p(this.glBufferWrappers,P),P.destroy(),this):this},preRenderCamera:function(P){var M=P.x,R=P.y,I=P.width,D=P.height,Y=P.backgroundColor;if(P.emit(o.PRE_RENDER,P),this.pipelines.preBatchCamera(P),this.pushScissor(M,R,I,D),P.mask&&(this.currentCameraMask.mask=P.mask,this.currentCameraMask.camera=P._maskCamera,P.mask.preRenderWebGL(this,P,P._maskCamera)),Y.alphaGL>0){var B=this.pipelines.setMulti();B.drawFillRect(M,R,I,D,g.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var P=null,M=this.maskStack,R=this.currentCameraMask;return M.length>0?P=M[M.length-1]:R.mask&&R.mask.isStencil&&(P=R),P},postRenderCamera:function(P){var M=P.flashEffect,R=P.fadeEffect;if(M.isRunning||R.isRunning||R.isComplete){var I=this.pipelines.setMulti();M.postRenderWebGL(I,g.getTintFromFloats),R.postRenderWebGL(I,g.getTintFromFloats)}P.dirty=!1,this.popScissor(),P.mask&&(this.currentCameraMask.mask=null,P.mask.postRenderWebGL(this,P._maskCamera)),this.pipelines.postBatchCamera(P),P.emit(o.POST_RENDER,P)},preRender:function(){if(!this.contextLost){var P=this.gl;if(P.bindFramebuffer(P.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var M=this.config.backgroundColor;P.clearColor(M.redGL,M.greenGL,M.blueGL,M.alphaGL),P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT|P.STENCIL_BUFFER_BIT)}P.enable(P.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&P.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(P,M,R){if(!this.contextLost){var I=M.length;if(this.emit(n.RENDER,P,R),this.preRenderCamera(R),I===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(R);return}this.currentType="";for(var D=this.currentMask,Y=0;Y<I;Y++){this.finalType=Y===I-1;var B=M[Y],O=B.mask;D=this.currentMask,D.mask&&D.mask!==O&&D.mask.postRenderWebGL(this,D.camera),O&&D.mask!==O&&O.preRenderWebGL(this,B,R),B.blendMode!==this.currentBlendMode&&this.setBlendMode(B.blendMode);var N=B.type;N!==this.currentType&&(this.newType=!0,this.currentType=N),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=M[Y+1].type===this.currentType,B.renderWebGL(this,B,R),this.newType=!1}D=this.currentMask,D.mask&&D.mask.postRenderWebGL(this,D.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(R)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var P=this.snapshotState;P.callback&&(y(this.gl,P),P.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var P=this.gl,M=this.getCurrentStencilMask();if(M){var R=M.mask;P.enable(P.STENCIL_TEST),R.invertAlpha?P.stencilFunc(P.NOTEQUAL,R.level,255):P.stencilFunc(P.EQUAL,R.level,255)}},snapshot:function(P,M,R){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,P,M,R)},snapshotArea:function(P,M,R,I,D,Y,B){var O=this.snapshotState;return O.callback=D,O.type=Y,O.encoder=B,O.getPixel=!1,O.x=P,O.y=M,O.width=R,O.height=I,this},snapshotPixel:function(P,M,R){return this.snapshotArea(P,M,1,1,R),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(P,M,R,I,D,Y,B,O,N,L,W){D===void 0&&(D=!1),Y===void 0&&(Y=0),B===void 0&&(B=0),O===void 0&&(O=M),N===void 0&&(N=R),L==="pixel"&&(D=!0,L="image/png");var F=this.currentFramebuffer;this.snapshotArea(Y,B,O,N,I,L,W);var U=this.snapshotState;return U.getPixel=D,U.isFramebuffer=!0,U.bufferWidth=M,U.bufferHeight=R,U.width=Math.min(U.width,M),U.height=Math.min(U.height,R),this.setFramebuffer(P),y(this.gl,U),this.setFramebuffer(F),U.callback=null,U.isFramebuffer=!1,this},canvasToTexture:function(P,M,R,I){R===void 0&&(R=!1),I===void 0&&(I=!1);var D=this.gl,Y=D.NEAREST,B=D.NEAREST,O=P.width,N=P.height,L=D.CLAMP_TO_EDGE,W=l(O,N);return!R&&W&&(L=D.REPEAT),this.config.antialias&&(Y=W&&this.mipmapFilter?this.mipmapFilter:D.LINEAR,B=D.LINEAR),M?(M.update(P,O,N,I,L,L,Y,B,M.format),M):this.createTexture2D(0,Y,B,L,L,D.RGBA,P,O,N,!0,!1,I)},createCanvasTexture:function(P,M,R){return M===void 0&&(M=!1),R===void 0&&(R=!1),this.canvasToTexture(P,null,M,R)},updateCanvasTexture:function(P,M,R,I){return R===void 0&&(R=!1),I===void 0&&(I=!1),this.canvasToTexture(P,M,I,R)},videoToTexture:function(P,M,R,I){R===void 0&&(R=!1),I===void 0&&(I=!1);var D=this.gl,Y=D.NEAREST,B=D.NEAREST,O=P.videoWidth,N=P.videoHeight,L=D.CLAMP_TO_EDGE,W=l(O,N);return!R&&W&&(L=D.REPEAT),this.config.antialias&&(Y=W&&this.mipmapFilter?this.mipmapFilter:D.LINEAR,B=D.LINEAR),M?(M.update(P,O,N,I,L,L,Y,B,M.format),M):this.createTexture2D(0,Y,B,L,L,D.RGBA,P,O,N,!0,!0,I)},createVideoTexture:function(P,M,R){return M===void 0&&(M=!1),R===void 0&&(R=!1),this.videoToTexture(P,null,M,R)},updateVideoTexture:function(P,M,R,I){return R===void 0&&(R=!1),I===void 0&&(I=!1),this.videoToTexture(P,M,I,R)},createUint8ArrayTexture:function(P,M,R){var I=this.gl,D=I.NEAREST,Y=I.NEAREST,B=I.CLAMP_TO_EDGE,O=l(M,R);return O&&(B=I.REPEAT),this.createTexture2D(0,D,Y,B,B,I.RGBA,P,M,R)},setTextureFilter:function(P,M){var R=this.gl,I=M===0?R.LINEAR:R.NEAREST;R.activeTexture(R.TEXTURE0);var D=R.getParameter(R.TEXTURE_BINDING_2D);return R.bindTexture(R.TEXTURE_2D,P.webGLTexture),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,I),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,I),P.minFilter=I,P.magFilter=I,D&&R.bindTexture(R.TEXTURE_2D,D),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var P=function(M){M.destroy()};a(this.glAttribLocationWrappers,P),a(this.glBufferWrappers,P),a(this.glFramebufferWrappers,P),a(this.glProgramWrappers,P),a(this.glTextureWrappers,P),a(this.glUniformLocationWrappers,P),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=A},38683:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95428),o=t(95540),s=t(14500),r=new a({initialize:function(n,l,i,h,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var n=0,l=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var f=e[h],d=f.name,u=o(f,"size",1),v=o(f,"type",s.FLOAT),g=v.enum,y=v.size,m=!!f.normalized;i.push({name:d,size:u,type:g,normalized:m,offset:l,enabled:!1,location:-1}),y===4?n+=u:n++,l+=u*y}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,i=this.vertexSize,h=this.attributes,f=this.program,d=0;d<h.length;d++){var u=h[d],v=u.size,g=u.type,y=u.offset,m=u.enabled,T=u.location,S=!!u.normalized;if(e){T!==-1&&l.deleteAttribLocation(T);var E=this.renderer.createAttribLocation(f,u.name);E.webGLAttribLocation>=0?(n.enableVertexAttribArray(E.webGLAttribLocation),n.vertexAttribPointer(E.webGLAttribLocation,v,g,S,i,y),u.enabled=!0,u.location=E):E.webGLAttribLocation!==-1&&n.disableVertexAttribArray(E.webGLAttribLocation)}else m?n.vertexAttribPointer(T.webGLAttribLocation,v,g,S,i,y):!m&&T!==-1&&T.webGLAttribLocation>-1&&(n.disableVertexAttribArray(T.webGLAttribLocation),u.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,i,h,f,d=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var u=e.getActiveUniform(n.webGLProgram,i);if(u){h=u.name,f=this.renderer.createUniformLocation(n,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var v=h.indexOf("[");v>0&&(h=h.substr(0,v),l.hasOwnProperty(h)||(f=this.renderer.createUniformLocation(n,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,i){var h=this.uniforms[n];return h?((i||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,i,h){var f=this.uniforms[n];return f?((h||f.value1!==l||f.value2!==i)&&(f.setter||(f.setter=e),f.value1=l,f.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,i,h,f){var d=this.uniforms[n];return d?((f||d.value1!==l||d.value2!==i||d.value3!==h)&&(d.setter||(d.setter=e),d.value1=l,d.value2=i,d.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,i,h,f,d){var u=this.uniforms[n];return u?((d||u.value1!==l||u.value2!==i||u.value3!==h||u.value4!==f)&&(u.setter||(u.setter=e),u.value1=l,u.value2=i,u.value3=h,u.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l,i,h,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,i){return this.setUniform3(this.gl.uniform3f,e,n,l,i)},set4f:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4f,e,n,l,i,h)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,i){return this.setUniform3(this.gl.uniform3i,e,n,l,i)},set4i:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4i,e,n,l,i,h)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,p(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=r},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=x},4159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14500),p=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=p(!1,o,a),c.exports=o},31302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(78908),s=t(85191),r=t(14500),e=t(29100),n=new a({Extends:e,initialize:function(i){i.fragShader=p(i,"fragShader",o),i.vertShader=p(i,"vertShader",s),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,i){e.prototype.resize.call(this,l,i),this.set2f("uResolution",l,i)},beginMask:function(l,i,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,i,h){var f=this.gl,d=this.renderer,u=l.bitmapMask;u&&f&&(d.drawBitmapMask(u,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=n},92651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(58918),o=t(14811),s=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new a({Extends:r,initialize:function(h){h.shaders=[n.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,h);var f=this.game;this.glow=new p.Glow(f),this.shadow=new p.Shadow(f),this.pixelate=new p.Pixelate(f),this.vignette=new p.Vignette(f),this.shine=new p.Shine(f),this.gradient=new p.Gradient(f),this.circle=new p.Circle(f),this.barrel=new p.Barrel(f),this.wipe=new p.Wipe(f),this.bokeh=new p.Bokeh(f);var d=[];d[o.GLOW]=this.onGlow,d[o.SHADOW]=this.onShadow,d[o.PIXELATE]=this.onPixelate,d[o.VIGNETTE]=this.onVignette,d[o.SHINE]=this.onShine,d[o.BLUR]=this.onBlur,d[o.GRADIENT]=this.onGradient,d[o.BLOOM]=this.onBloom,d[o.COLOR_MATRIX]=this.onColorMatrix,d[o.CIRCLE]=this.onCircle,d[o.BARREL]=this.onBarrel,d[o.DISPLACEMENT]=this.onDisplacement,d[o.WIPE]=this.onWipe,d[o.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,h,f){this.source=i,this.target=h,this.swap=f;var d=i.width,u=i.height,v=this.tempSprite,g=this.fxHandlers;if(v&&v.preFX)for(var y=v.preFX.list,m=0;m<y.length;m++){var T=y[m];T.active&&g[T.type].call(this,T,d,u)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,f){var d=this.shaders[o.GLOW];this.setShader(d),this.glow.onPreRender(i,d,h,f),this.runDraw()},onShadow:function(i){var h=this.shaders[o.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,f){var d=this.shaders[o.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,h,f),this.runDraw()},onVignette:function(i){var h=this.shaders[o.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,f){var d=this.shaders[o.SHINE];this.setShader(d),this.shine.onPreRender(i,d,h,f),this.runDraw()},onBlur:function(i,h,f){var d=s(i,"quality"),u=this.shaders[o.BLUR+d];this.setShader(u),this.set1i("uMainSampler",0),this.set2f("resolution",h,f),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var v=s(i,"x"),g=s(i,"y"),y=s(i,"steps"),m=0;m<y;m++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var h=this.shaders[o.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,f){var d=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var u=2/h*s(i,"offsetX"),v=2/f*s(i,"offsetY"),g=s(i,"steps"),y=0;y<g;y++)this.set2f("offset",u,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,f){var d=this.shaders[o.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,h,f),this.runDraw()},onBarrel:function(i){var h=this.shaders[o.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[o.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,f){var d=this.shaders[o.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,h,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});c.exports=l},96569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(31063),s=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new a({Extends:s,initialize:function(h){var f=p(h,"fragShader",o);h.fragShader=f.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),s.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,h){var f=i.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var d=f.getLights(h),u=d.length;this.lightsActive=!0;var v,g=this.renderer,y=g.height,m=h.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",u),v=0;v<u;v++){var S=d[v].light,E=S.color,C="uLights["+v+"].";m.transformPoint(S.x,S.y,T),this.set2f(C+"position",T.x-h.scrollX*S.scrollFactorX*h.zoom,y-(T.y-h.scrollY*S.scrollFactorY*h.zoom)),this.set3f(C+"color",E.r,E.g,E.b),this.set1f(C+"intensity",S.intensity),this.set1f(C+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var f=-i,d=Math.cos(f),u=Math.sin(f);h[1]=u,h[3]=-u,h[0]=h[4]=d}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var f=this.renderer;i===void 0&&(i=f.whiteTexture);var d=this.getNormalMap(h);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var u=0;if(h&&h.parentContainer){var v=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);u=v.rotationNormalized}else h&&(u=h.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(u),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var f=h.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(f,d)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var u=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(u.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,f){this.lightsActive&&s.prototype.batchSprite.call(this,i,h,f)},batchTexture:function(i,h,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O,N,L,W,F,U,Z,J,Q,k){this.lightsActive&&s.prototype.batchTexture.call(this,i,h,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O,N,L,W,F,U,Z,J,Q,k)},batchTextureFrame:function(i,h,f,d,u,v,g){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,h,f,d,u,v,g)}});c.exports=l},56527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new a({Extends:o,initialize:function(h){h.fragShader=p(h,"fragShader",s),h.vertShader=p(h,"vertShader",r),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",o.call(this,h)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});c.exports=l},57516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94811),o=t(95540),s=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),i=t(29100),h=new a({Extends:i,initialize:function(d){var u=d.game.renderer,v=o(d,"fragShader",s);d.fragShader=n.parseFragmentShaderMaxTextures(v,u.maxTextures),d.vertShader=o(d,"vertShader",r),d.attributes=o(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,d,u){this.manager.set(this,f);var v=this._tempMatrix1,g=this._tempMatrix2,y=this._tempMatrix3,m=f.frame,T=m.glTexture,S=m.u0,E=m.v0,C=m.u1,w=m.v1,A=m.x,P=m.y,M=m.cutWidth,R=m.cutHeight,I=m.customPivot,D=f.displayOriginX,Y=f.displayOriginY,B=-D+A,O=-Y+P;if(f.isCropped){var N=f._crop;(N.flipX!==f.flipX||N.flipY!==f.flipY)&&m.updateCropUVs(N,f.flipX,f.flipY),S=N.u0,E=N.v0,C=N.u1,w=N.v1,M=N.width,R=N.height,A=N.x,P=N.y,B=-D+A,O=-Y+P}var L=1,W=1;f.flipX&&(I||(B+=-m.realWidth+D*2),L=-1),f.flipY&&(I||(O+=-m.realHeight+Y*2),W=-1);var F=f.x,U=f.y;d.roundPixels&&(F=Math.floor(F),U=Math.floor(U)),g.applyITRS(F,U,f.rotation,f.scaleX*L,f.scaleY*W),v.copyFrom(d.matrix),u?(v.multiplyWithOffset(u,-d.scrollX*f.scrollFactorX,-d.scrollY*f.scrollFactorY),g.e=F,g.f=U):(g.e-=d.scrollX*f.scrollFactorX,g.f-=d.scrollY*f.scrollFactorY),v.multiply(g,y);var Z=y.setQuad(B,O,B+M,O+R,d.renderRoundPixels),J=n.getTintAppendFloatAlpha,Q=d.alpha,k=J(f.tintTopLeft,Q*f._alphaTL),et=J(f.tintTopRight,Q*f._alphaTR),it=J(f.tintBottomLeft,Q*f._alphaBL),q=J(f.tintBottomRight,Q*f._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(f,m);this.manager.preBatch(f),this.batchQuad(f,Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],S,E,C,w,k,et,it,q,f.tintFill,T,tt),this.manager.postBatch(f)},batchTexture:function(f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O,N,L,W,F,U,Z,J,Q,k,et,it,q){q===void 0&&(q=!1),this.manager.set(this,f);var tt=this._tempMatrix1,nt=this._tempMatrix2,ht=this._tempMatrix3,gt=D/u+Z,mt=Y/v+J,at=(D+B)/u+Z,ft=(Y+O)/v+J,xt=m,vt=T,Pt=-R,H=-I;if(f.isCropped){var K=f._crop,$=K.width,_=K.height;xt=$,vt=_,m=$,T=_,D=K.x,Y=K.y;var st=D,dt=Y;w&&(st=B-K.x-$),A&&(dt=O-K.y-_),gt=st/u+Z,mt=dt/v+J,at=(st+$)/u+Z,ft=(dt+_)/v+J,Pt=-R+D,H=-I+Y}A=A^(!et&&d.isRenderTexture?1:0),w&&(xt*=-1,Pt+=m),A&&(vt*=-1,H+=T),Q.roundPixels&&(g=Math.floor(g),y=Math.floor(y)),nt.applyITRS(g,y,C,S,E),tt.copyFrom(Q.matrix),k?(tt.multiplyWithOffset(k,-Q.scrollX*P,-Q.scrollY*M),nt.e=g,nt.f=y):(nt.e-=Q.scrollX*P,nt.f-=Q.scrollY*M),tt.multiply(nt,ht);var pt=ht.setQuad(Pt,H,Pt+xt,H+vt,Q.renderRoundPixels);it==null&&(it=this.setTexture2D(d)),f&&!q&&this.manager.preBatch(f),this.batchQuad(f,pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],gt,mt,at,ft,N,L,W,F,U,d,it),f&&!q&&this.manager.postBatch(f)},batchTextureFrame:function(f,d,u,v,g,y,m){this.manager.set(this);var T=this._tempMatrix1.copyFrom(y),S=this._tempMatrix2;m?T.multiply(m,S):S=T;var E=S.setQuad(d,u,d+f.width,u+f.height),C=this.setTexture2D(f.source.glTexture);v=n.getTintAppendFloatAlpha(v,g),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],f.u0,f.v0,f.u1,f.v1,v,v,v,v,0,f.glTexture,C)},batchFillRect:function(f,d,u,v,g,y){this.renderer.pipelines.set(this);var m=this.calcMatrix;y&&y.multiply(g,m);var T=m.setQuad(f,d,f+u,d+v),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(f,d,u,v,g,y,m,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(m,S);var E=S.getX(f,d),C=S.getY(f,d),w=S.getX(u,v),A=S.getY(u,v),P=S.getX(g,y),M=S.getY(g,y),R=this.fillTint;this.batchTri(null,E,C,w,A,P,M,0,0,1,1,R.TL,R.TR,R.BL,2)},batchStrokeTriangle:function(f,d,u,v,g,y,m,T,S){var E=this.tempTriangle;E[0].x=f,E[0].y=d,E[0].width=m,E[1].x=u,E[1].y=v,E[1].width=m,E[2].x=g,E[2].y=y,E[2].width=m,E[3].x=f,E[3].y=d,E[3].width=m,this.batchStrokePath(E,m,!1,T,S)},batchFillPath:function(f,d,u){this.renderer.pipelines.set(this);var v=this.calcMatrix;u&&u.multiply(d,v);for(var g=f.length,y=this.polygonCache,m,T,S=this.fillTint.TL,E=this.fillTint.TR,C=this.fillTint.BL,w=0;w<g;++w)T=f[w],y.push(T.x,T.y);m=p(y),g=m.length;for(var A=0;A<g;A+=3){var P=m[A+0]*2,M=m[A+1]*2,R=m[A+2]*2,I=y[P+0],D=y[P+1],Y=y[M+0],B=y[M+1],O=y[R+0],N=y[R+1],L=v.getX(I,D),W=v.getY(I,D),F=v.getX(Y,B),U=v.getY(Y,B),Z=v.getX(O,N),J=v.getY(O,N);this.batchTri(null,L,W,F,U,Z,J,0,0,1,1,S,E,C,2)}y.length=0},batchStrokePath:function(f,d,u,v,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=f.length-1,m=0;m<y;m++){var T=f[m],S=f[m+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,d,m,!u&&m===y-1,v,g)}},batchLine:function(f,d,u,v,g,y,m,T,S,E,C){this.renderer.pipelines.set(this);var w=this.calcMatrix;C&&C.multiply(E,w);var A=u-f,P=v-d,M=Math.sqrt(A*A+P*P);if(M!==0){var R=g*(v-d)/M,I=g*(f-u)/M,D=y*(v-d)/M,Y=y*(f-u)/M,B=u-D,O=v-Y,N=f-R,L=d-I,W=u+D,F=v+Y,U=f+R,Z=d+I,J=w.getX(B,O),Q=w.getY(B,O),k=w.getX(N,L),et=w.getY(N,L),it=w.getX(W,F),q=w.getY(W,F),tt=w.getX(U,Z),nt=w.getY(U,Z),ht=this.strokeTint,gt=ht.TL,mt=ht.TR,at=ht.BL,ft=ht.BR;if(this.batchQuad(null,tt,nt,k,et,J,Q,it,q,0,0,1,1,gt,mt,at,ft,2),!(m<=2)){var xt=this.prevQuad,vt=this.firstQuad;T>0&&xt[4]?this.batchQuad(null,tt,nt,k,et,xt[0],xt[1],xt[2],xt[3],0,0,1,1,gt,mt,at,ft,2):(vt[0]=tt,vt[1]=nt,vt[2]=k,vt[3]=et,vt[4]=1),S&&vt[4]?this.batchQuad(null,J,Q,it,q,vt[0],vt[1],vt[2],vt[3],0,0,1,1,gt,mt,at,ft,2):(xt[0]=J,xt[1]=Q,xt[2]=it,xt[3]=q,xt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});c.exports=h},43439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(4127),s=t(89924),r=t(29100),e=new a({Extends:r,initialize:function(l){l.vertShader=p(l,"vertShader",s),l.fragShader=p(l,"fragShader",o),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,i,h,f,d,u,v,g,y,m,T){var S=n.color,E=n.intensity,C=n.radius,w=n.attenuation,A=S.r*E,P=S.g*E,M=S.b*E,R=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,m,T,C,w,A,P,M,R),this.batchLightVert(f,d,m,T,C,w,A,P,M,R),this.batchLightVert(u,v,m,T,C,w,A,P,M,R),this.batchLightVert(i,h,m,T,C,w,A,P,M,R),this.batchLightVert(u,v,m,T,C,w,A,P,M,R),this.batchLightVert(g,y,m,T,C,w,A,P,M,R),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,i,h,f,d,u,v,g,y){var m=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;m[++T]=n,m[++T]=l,m[++T]=i,m[++T]=h,m[++T]=f,m[++T]=d,m[++T]=u,m[++T]=v,m[++T]=g,m[++T]=y,this.vertexCount++}});c.exports=e},84057:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89422),o=t(95540),s=t(27681),r=t(49627),e=t(29100),n=new a({Extends:e,initialize:function(i){i.renderTarget=o(i,"renderTarget",1),i.fragShader=o(i,"fragShader",s),i.vertShader=o(i,"vertShader",r),i.attributes=o(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var h=this.renderTargets,f=0;f<h.length;f++)h[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,i,h){h===void 0&&(h=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var d=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),h&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,d))},copyFrame:function(l,i,h,f,d){this.manager.copyFrame(l,i,h,f,d)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,i,h){this.manager.drawFrame(l,i,h,this.colorMatrix)},blendFrames:function(l,i,h,f,d){this.manager.blendFrames(l,i,h,f,d)},blendFramesAdditive:function(l,i,h,f,d){this.manager.blendFramesAdditive(l,i,h,f,d)},clearFrame:function(l,i){this.manager.clearFrame(l,i)},blitFrame:function(l,i,h,f,d,u){this.manager.blitFrame(l,i,h,f,d,u)},copyFrameRect:function(l,i,h,f,d,u,v,g){this.manager.copyFrameRect(l,i,h,f,d,u,v,g)},bindAndDraw:function(l,i,h,f,d){h===void 0&&(h=!0),f===void 0&&(f=!0);var u=this.gl,v=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(u.viewport(0,0,i.width,i.height),u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),h&&(f?u.clearColor(0,0,0,0):u.clearColor(0,0,0,1),u.clear(u.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||u.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.texture.webGLTexture),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),i&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,v.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=n},43558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(67502),o=t(83419),s=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),i=t(32302),h=t(45561),f=t(60722),d=t(29100),u=new o({Extends:e,initialize:function(g){var y=r(g,"fragShader",n),m=r(g,"vertShader",f),T=r(g,"drawShader",n),S=[{name:"DrawSprite",fragShader:h,vertShader:f},{name:"CopySprite",fragShader:y,vertShader:m},{name:"DrawGame",fragShader:T,vertShader:f},{name:"ColorMatrix",fragShader:s}],E=r(g,"shaders",[]);g.shaders=S.concat(E),g.vertShader||(g.vertShader=m),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var v=this.shaders,g=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var y=new ArrayBuffer(168);this.quadVertexData=y,this.quadVertexViewF32=new Float32Array(y),this.quadVertexBuffer=g.createVertexBuffer(y,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(v,g){var y=this.quadVertexViewF32;y[1]=g,y[22]=g,y[14]=v,y[28]=v,y[35]=v,y[36]=g},batchQuad:function(v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O,N){var L=Math.min(g,m,S,C),W=Math.min(y,T,E,w),F=Math.max(g,m,S,C),U=Math.max(y,T,E,w),Z=F-L,J=U-W,Q=this.spriteBounds.setTo(L,W,Z,J),k=v?v.preFX.padding:0,et=Z+k*2,it=J+k*2,q=Math.abs(Math.max(et,it)),tt=this.manager.getRenderTarget(q),nt=this.targetBounds.setTo(0,0,tt.width,tt.height);p(nt,Math.round(Q.centerX),Math.round(Q.centerY)),this.tempSprite=v;var ht=this.gl,gt=this.renderer;gt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",gt.width,gt.height),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,tt),v.preFX.onFX(this));var mt=this.fsTarget;return this.flush(),ht.viewport(0,0,gt.width,gt.height),ht.bindFramebuffer(ht.FRAMEBUFFER,mt.framebuffer.webGLFramebuffer),ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,mt.texture.webGLTexture,0),ht.clearColor(0,0,0,0),ht.clear(ht.COLOR_BUFFER_BIT),this.setTexture2D(N),this.batchVert(g,y,A,P,0,O,I),this.batchVert(m,T,A,R,0,O,Y),this.batchVert(S,E,M,R,0,O,B),this.batchVert(g,y,A,P,0,O,I),this.batchVert(S,E,M,R,0,O,B),this.batchVert(C,w,M,P,0,O,D),this.flush(),this.flipProjectionMatrix(!1),ht.activeTexture(ht.TEXTURE0),ht.bindTexture(ht.TEXTURE_2D,tt.texture.webGLTexture),ht.copyTexSubImage2D(ht.TEXTURE_2D,0,0,0,nt.x,nt.y,nt.width,nt.height),ht.bindFramebuffer(ht.FRAMEBUFFER,null),ht.bindTexture(ht.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,g,y,m,T,S,E){y===void 0&&(y=!0),m===void 0&&(m=!0),T===void 0&&(T=!1),E===void 0&&(E=this.copyShader);var C=this.gl,w=this.tempSprite;S&&(E=this.colorMatrixShader),this.currentShader=E;var A=this.setVertexBuffer(this.quadVertexBuffer);E.bind(A,!1);var P=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",P.width,P.height),w.preFX.onFXCopy(this),this.onCopySprite(v,g,w),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture.webGLTexture),v.height>g.height)C.viewport(0,0,v.width,v.height),this.setTargetUVs(v,g);else{var M=g.height-v.height;C.viewport(0,M,v.width,v.height),this.resetUVs()}if(C.bindFramebuffer(C.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,g.texture.webGLTexture,0),y&&(C.clearColor(0,0,0,+!m),C.clear(C.COLOR_BUFFER_BIT)),T){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),T&&this.renderer.setBlendMode(R),C.bindFramebuffer(C.FRAMEBUFFER,null)},copy:function(v,g){var y=this.gl;this.set1i("uMainSampler",0),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture.webGLTexture),y.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),y.bindFramebuffer(y.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,g.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.quadVertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null)},blendFrames:function(v,g,y,m,T){this.manager.blendFrames(v,g,y,m,T)},blendFramesAdditive:function(v,g,y,m,T){this.manager.blendFramesAdditive(v,g,y,m,T)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var g=this.gl,y=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var m=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,E=T+v.width,C=S+v.height,w=m.getX(T,S),A=m.getX(T,C),P=m.getX(E,C),M=m.getX(E,S),R=m.getY(T,S),I=m.getY(T,C),D=m.getY(E,C),Y=m.getY(E,S),B=16777215;this.batchVert(w,R,0,0,0,0,B),this.batchVert(A,I,0,1,0,0,B),this.batchVert(P,D,1,1,0,0,B),this.batchVert(w,R,0,0,0,0,B),this.batchVert(P,D,1,1,0,0,B),this.batchVert(M,Y,1,0,0,0,B),y.restoreFramebuffer(!1,!0),y.currentFramebuffer||g.viewport(0,0,y.width,y.height),y.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,g,y,m,T,S,E,C){var w=this.quadVertexViewF32;w[2]=v,w[3]=g,w[9]=y,w[10]=m,w[16]=T,w[17]=S,w[23]=v,w[24]=g,w[30]=T,w[31]=S,w[37]=E,w[38]=C},setTargetUVs:function(v,g){var y=g.height/v.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=u},81041:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=new a({Extends:o,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),o.call(this,e)}});c.exports=s},12385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(29100),n=new a({Extends:o,initialize:function(i){i.fragShader=p(i,"fragShader",s),i.vertShader=p(i,"vertShader",r),i.forceZero=!0,o.call(this,i)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});c.exports=n},7589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35407),p=t(10312),o=t(83419),s=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),i=t(49627),h=t(29100),f=new o({Extends:h,initialize:function(u){u.renderTarget=n(u,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),u.vertShader=n(u,"vertShader",i),u.shaders=n(u,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),u.attributes=n(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],u.batchSize=1,h.call(this,u),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var d=this.shaders,u=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=u[0],this.fullFrame2=u[1],this.halfFrame1=u[2],this.halfFrame2=u[3]},copyFrame:function(d,u,v,g,y){v===void 0&&(v=1),g===void 0&&(g=!0),y===void 0&&(y=!0);var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,d.texture.webGLTexture),u?(m.viewport(0,0,u.width,u.height),m.bindFramebuffer(m.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u.texture.webGLTexture,0)):m.viewport(0,0,d.width,d.height),g&&(y?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT)),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blitFrame:function(d,u,v,g,y,m,T){v===void 0&&(v=1),g===void 0&&(g=!0),y===void 0&&(y=!0),m===void 0&&(m=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,d.texture.webGLTexture),d.height>u.height)S.viewport(0,0,d.width,d.height),this.setTargetUVs(d,u);else{var E=u.height-d.height;S.viewport(0,E,d.width,d.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,u.texture.webGLTexture,0),g&&(y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),m){var C=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),m&&this.renderer.setBlendMode(C),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,u,v,g,y,m,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0),T&&(S?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,u.texture.webGLTexture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,v,g,y,m),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(d){var u=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,d.texture.webGLTexture),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6)},drawFrame:function(d,u,v,g){v===void 0&&(v=!0),g===void 0&&(g=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture.webGLTexture),u?(y.viewport(0,0,u.width,u.height),y.bindFramebuffer(y.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,u.texture.webGLTexture,0)):y.viewport(0,0,d.width,d.height),v?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(d,u,v,g,y,m){g===void 0&&(g=1),y===void 0&&(y=!0),m===void 0&&(m=this.linearShader);var T=this.gl;this.setShader(m),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,u.texture.webGLTexture),v?(T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0),T.viewport(0,0,v.width,v.height)):T.viewport(0,0,d.width,d.height),y?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(d,u,v,g,y){this.blendFrames(d,u,v,g,y,this.addShader)},clearFrame:function(d,u){u===void 0&&(u=!0);var v=this.gl;v.viewport(0,0,d.width,d.height),v.bindFramebuffer(v.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),u?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(d,u,v,g,y,m,T,S){var E=this.vertexViewF32;E[2]=d,E[3]=u,E[6]=v,E[7]=g,E[10]=y,E[11]=m,E[14]=d,E[15]=u,E[18]=y,E[19]=m,E[22]=T,E[23]=S},setTargetUVs:function(d,u){var v=u.height/d.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=x},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(99155),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});c.exports=s},67329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(24400),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var i=2/r.width*e.offsetX,h=2/r.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,h),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});c.exports=s},8861:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(41514),o=t(51078),s=t(94328),r=t(84057),e=new a({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),i=this.gl,h=this.fullFrame1,f=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var d=0;d<l.steps;d++)this.set2f("offset",l.x,0),this.copySprite(n,h),this.set2f("offset",0,l.y),this.copySprite(h,n);i.bindFramebuffer(i.FRAMEBUFFER,f),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=e},51051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(90610),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},89428:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91899),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},88904:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(84057),o=new a({Extends:p,initialize:function(r){p.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});c.exports=o},63563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(47838),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});c.exports=s},94045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(98656),s=t(84057),r=t(70554),e=new a({Extends:s,initialize:function(l,i){var h=p(i,"quality",.1),f=p(i,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(o,l,h,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,i,h){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),i&&h&&this.set2f("resolution",i,h,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=e},74088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(70463),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});c.exports=s},99636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50831),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},34700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92595),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});c.exports=s},91157:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72464),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},27797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39249),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});c.exports=s},67603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(2878),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,i=r.direction,h=r.axis;this.set4f("config",n,l,i,h,e),this.setBoolean("reveal",r.reveal,e)}});c.exports=s},58918:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=a},96615:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36060),p=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=p(!1,o,a),c.exports=o},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=p},26128:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var s=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(s,this.webGLBuffer),o.bufferData(s,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(s,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=p},84387:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new a({initialize:function(r,e,n,l,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,e=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=o},1482:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var s=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),e=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(e,this.fragmentSource),o.compileShader(r),o.compileShader(e);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(e,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(e));if(o.attachShader(s,r),o.attachShader(s,e),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(s));o.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=p},82751:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50030),o=new a({initialize:function(r,e,n,l,i,h,f,d,u,v,g,y,m){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=i,this.wrapS=h,this.format=f,this.pixels=d,this.width=u,this.height=v,this.pma=g??!0,this.forceSize=!!y,this.flipY=!!m,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,e,n,l,i,h,f,d){if(!(r===0||e===0)){this.pixels=s,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=i,this.minFilter=h,this.magFilter=f,this.format=d;var u=this.gl;u.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,i=this.height,h=this.format,f=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,null),f=p(l,i);else if(e.compressed){l=e.width,i=e.height,f=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)s.compressedTexImage2D(s.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,e),f=p(l,i)):(this.forceSize||(l=e.width,i=e.height),s.texImage2D(s.TEXTURE_2D,n,h,h,s.UNSIGNED_BYTE,e),f=p(l,i));f&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=o},57183:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=p},9503:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=a},76531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),p=t(83419),o=t(45319),s=t(50792),r=t(97480),e=t(8443),n=t(57811),l=t(74403),i=t(45818),h=t(29747),f=t(87841),d=t(86555),u=t(56583),v=t(26099),g=t(38058),y=new p({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(e.BOOT,this.boot,this)},boot:function(){var m=this.game;this.canvas=m.canvas,this.fullscreen=m.device.fullscreen;var T=this.scaleMode;T!==a.SCALE_MODE.RESIZE&&T!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(T),T===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),m.events.on(e.PRE_STEP,this.step,this),m.events.once(e.READY,this.refresh,this),m.events.once(e.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(m){this.getParent(m),this.getParentBounds();var T=m.width,S=m.height,E=m.scaleMode,C=m.zoom,w=m.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var A=this.parentSize.width;A===0&&(A=window.innerWidth);var P=parseInt(T,10)/100;T=Math.floor(A*P)}if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var M=this.parentSize.height;M===0&&(M=window.innerHeight);var R=parseInt(S,10)/100;S=Math.floor(M*R)}this.scaleMode=E,this.autoRound=w,this.autoCenter=m.autoCenter,this.resizeInterval=m.resizeInterval,w&&(T=Math.floor(T),S=Math.floor(S)),this.gameSize.setSize(T,S),C===a.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,S),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),m.minWidth>0&&this.displaySize.setMin(m.minWidth*C,m.minHeight*C),m.maxWidth>0&&this.displaySize.setMax(m.maxWidth*C,m.maxHeight*C),this.displaySize.setSize(T,S),(m.snapWidth>0||m.snapHeight>0)&&this.displaySize.setSnap(m.snapWidth,m.snapHeight),this.orientation=i(T,S)},getParent:function(m){var T=m.parent;if(T!==null){if(this.parent=l(T),this.parentIsWindow=this.parent===document.body,m.expandParent&&m.scaleMode!==a.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}m.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(m.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var m=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=n(!0));var S=T.width,E=T.height;if(m.width!==S||m.height!==E)return m.setSize(S,E),!0;if(this.canvas){var C=this.canvasBounds,w=this.canvas.getBoundingClientRect();if(w.x!==C.x||w.y!==C.y)return!0}return!1},lockOrientation:function(m){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,m):!1},setParentSize:function(m,T){return this.parentSize.setSize(m,T),this.refresh()},setGameSize:function(m,T){var S=this.autoRound;S&&(m=Math.floor(m),T=Math.floor(T));var E=this.width,C=this.height;return this.gameSize.resize(m,T),this.baseSize.resize(m,T),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(m/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(E,C)},resize:function(m,T){var S=this.zoom,E=this.autoRound;E&&(m=Math.floor(m),T=Math.floor(T));var C=this.width,w=this.height;this.gameSize.resize(m,T),this.baseSize.resize(m,T),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(m*S,T*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var A=this.canvas.style,P=m*S,M=T*S;return E&&(P=Math.floor(P),M=Math.floor(M)),(P!==m||M!==T)&&(A.width=P+"px",A.height=M+"px"),this.refresh(C,w)},setZoom:function(m){return this.zoom=m,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(m,T){return m===void 0&&(m=0),T===void 0&&(T=m),this.displaySize.setSnap(m,T),this.refresh()},refresh:function(m,T){m===void 0&&(m=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var E=this.canvas.style,C=S.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=E.marginLeft,C.marginTop=E.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,m,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var m=i(this.width,this.height);m!==this.orientation&&(this.orientation=m,this.emit(r.ORIENTATION_CHANGE,m))}},updateScale:function(){var m=this.canvas.style,T=this.gameSize.width,S=this.gameSize.height,E,C,w=this.zoom,A=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(T*w,S*w),E=this.displaySize.width,C=this.displaySize.height,A&&(E=Math.floor(E),C=Math.floor(C)),this._resetZoom&&(m.width=E+"px",m.height=C+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),E=this.displaySize.width,C=this.displaySize.height,A&&(E=Math.floor(E),C=Math.floor(C)),this.canvas.width=E,this.canvas.height=C;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var P=this.game.config.width,M=this.game.config.height,R=this.parentSize.width,I=this.parentSize.height,D=R/P,Y=I/M,B,O;D<Y?(B=P,O=D!==0?I/D:M):(B=Y!==0?R/Y:P,O=M);var N=o(B,this.displaySize.minWidth,this.displaySize.maxWidth),L=o(O,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(N,L),this.gameSize.setSize(N,L),A&&(N=Math.floor(N),L=Math.floor(L)),this.canvas.width=N,this.canvas.height=L;var W=R*(N/B),F=I*(L/O);this.displaySize.setSize(W,F),E=this.displaySize.width,C=this.displaySize.height,A&&(E=Math.floor(E),C=Math.floor(C)),m.width=E+"px",m.height=C+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),E=this.displaySize.width,C=this.displaySize.height,A&&(E=Math.floor(E),C=Math.floor(C)),m.width=E+"px",m.height=C+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var m=u(this.parentSize.width,this.gameSize.width,0,!0),T=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(m,T),1)},updateCenter:function(){var m=this.autoCenter;if(m!==a.CENTER.NO_CENTER){var T=this.canvas,S=T.style,E=T.getBoundingClientRect(),C=E.width,w=E.height,A=Math.floor((this.parentSize.width-C)/2),P=Math.floor((this.parentSize.height-w)/2);m===a.CENTER.CENTER_HORIZONTALLY?P=0:m===a.CENTER.CENTER_VERTICALLY&&(A=0),S.marginLeft=A+"px",S.marginTop=P+"px"}},updateBounds:function(){var m=this.canvasBounds,T=this.canvas.getBoundingClientRect();m.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),m.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),m.width=T.width,m.height=T.height},transformX:function(m){return(m-this.canvasBounds.left)*this.displayScale.x},transformY:function(m){return(m-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(m){m===void 0&&(m={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var S=this.getFullscreenTarget();T.keyboard?S[T.request](Element.ALLOW_KEYBOARD_INPUT):S[T.request](m)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(m){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,m)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var m=document.createElement("div");m.style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",this.fullscreenTarget=m,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var m=this.fullscreenTarget;if(m&&m.parentNode){var T=m.parentNode;T.insertBefore(this.canvas,m),T.removeChild(m)}}},stopFullscreen:function(){var m=this.fullscreen;if(!m.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;m.active&&document[m.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(m){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(m)},startListeners:function(){var m=this,T=this.domlisteners;if(T.orientationChange=function(){m.updateBounds(),m._checkOrientation=!0,m.dirty=!0,m.refresh()},T.windowResize=function(){m.updateBounds(),m.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",T.orientationChange,!1):window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(E){return m.onFullScreenChange(E)},T.fullScreenError=function(E){return m.onFullScreenError(E)};var S=["webkit","moz",""];S.forEach(function(E){document.addEventListener(E+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(E+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(m,T){m instanceof g||(T=m,m=void 0),T===void 0&&(T=new f);var S=this.baseSize,E=this.parentSize,C=this.canvasBounds,w=this.displayScale,A=C.x>=0?0:-(C.x*w.x),P=C.y>=0?0:-(C.y*w.y),M;E.width>=C.width?M=S.width:M=S.width-(C.width-E.width)*w.x;var R;return E.height>=C.height?R=S.height:R=S.height-(C.height-E.height)*w.y,T.setTo(A,P,M,R),m&&(T.width/=m.zoomX,T.height/=m.zoomY,T.centerX=m.centerX+m.scrollX,T.centerY=m.centerY+m.scrollY),T},step:function(m,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var m=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",m.orientationChange,!1):window.removeEventListener("orientationchange",m.orientationChange,!1),window.removeEventListener("resize",m.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(S){document.removeEventListener(S+"fullscreenchange",m.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",m.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",m.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=y},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=a},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=a(!1,o,p.CENTER),o=a(!1,o,p.ORIENTATION),o=a(!1,o,p.SCALE_MODE),o=a(!1,o,p.ZOOM),c.exports=o},27397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(35355),o=function(s){var r=s.game.config.defaultPhysicsSystem,e=a(s.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(p(r+"Physics")),e)for(var l in e)l=p(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};c.exports=o},52106:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o){var s=o.plugins.getDefaultScenePlugins(),r=a(o.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};c.exports=p},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=x},97482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(2368),o=new a({initialize:function(r){this.sys=new p(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=o},60903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89993),o=t(44594),s=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),i=t(2368),h=new a({initialize:function(d,u){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++)this._pending.push({key:"default",scene:u[v],autoStart:v===0,data:{}})}d.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var f,d,u,v;for(f=0;f<this._pending.length;f++){d=this._pending[f],u=d.key,v=d.scene;var g;v instanceof l?g=this.createSceneFromInstance(u,v):typeof v=="object"?g=this.createSceneFromObject(u,v):typeof v=="function"&&(g=this.createSceneFromFunction(u,v)),u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),this._data[u]&&(g.sys.settings.data=this._data[u].data,this._data[u].autoStart&&(d.autoStart=!0)),(d.autoStart||g.sys.settings.active)&&this._start.push(u)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)d=this._start[f],this.start(d);this._start.length=0}},processQueue:function(){var f=this._pending.length,d=this._queue.length;if(!(f===0&&d===0)){var u,v;if(f){for(u=0;u<f;u++)v=this._pending[u],this.add(v.key,v.scene,v.autoStart,v.data);for(u=0;u<this._start.length;u++)v=this._start[u],this.start(v);this._start.length=0,this._pending.length=0}for(u=0;u<this._queue.length;u++)v=this._queue[u],this[v.op](v.keyA,v.keyB,v.data);this._queue.length=0}},add:function(f,d,u,v){if(u===void 0&&(u=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:d,autoStart:u,data:v}),this.isBooted||(this._data[f]={data:v}),null;f=this.getKey(f,d);var g;return d instanceof l?g=this.createSceneFromInstance(f,d):typeof d=="object"?(d.key=f,g=this.createSceneFromObject(f,d)):typeof d=="function"&&(g=this.createSceneFromFunction(f,d)),g.sys.settings.data=v,f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),(u||g.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),g},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var d=this.getScene(f);if(!d||d.sys.isTransitioning())return this;var u=this.scenes.indexOf(d),v=d.sys.settings.key;return u>-1&&(delete this.keys[v],this.scenes.splice(u,1),this._start.indexOf(v)>-1&&(u=this._start.indexOf(v),this._start.splice(u,1)),d.sys.destroy()),this},bootScene:function(f){var d=f.sys,u=d.settings;d.sceneUpdate=n,f.init&&(f.init.call(f,u.data),u.status=p.INIT,u.isTransition&&d.events.emit(o.TRANSITION_INIT,u.transitionFrom,u.transitionDuration));var v;d.load&&(v=d.load,v.reset()),v&&f.preload?(f.preload.call(f),u.status=p.LOADING,v.once(e.COMPLETE,this.loadComplete,this),v.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,d){this.processQueue(),this.isProcessing=!0;for(var u=this.scenes.length-1;u>=0;u--){var v=this.scenes[u].sys;v.settings.status>p.START&&v.settings.status<=p.RUNNING&&v.step(f,d),v.scenePlugin&&v.scenePlugin._target&&v.scenePlugin.step(f,d)}},render:function(f){for(var d=0;d<this.scenes.length;d++){var u=this.scenes[d].sys;u.settings.visible&&u.settings.status>=p.LOADING&&u.settings.status<p.SLEEPING&&u.render(f)}this.isProcessing=!1},create:function(f){var d=f.sys,u=d.settings;f.create&&(u.status=p.CREATING,f.create.call(f,u.data),u.status===p.DESTROYED)||(u.isTransition&&d.events.emit(o.TRANSITION_START,u.transitionFrom,u.transitionDuration),f.update&&(d.sceneUpdate=f.update),u.status=p.RUNNING,d.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,d){var u=new d;if(u instanceof l){var v=u.sys.settings.key;if(v!==""&&(f=v),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,u)}else return u.sys=new i(u),u.sys.settings.key=f,u.sys.init(this.game),u},createSceneFromInstance:function(f,d){var u=d.sys.settings.key;return u===""&&(d.sys.settings.key=f),d.sys.init(this.game),d},createSceneFromObject:function(f,d){var u=new l(d),v=u.sys.settings.key;v!==""?f=v:u.sys.settings.key=f,u.sys.init(this.game);for(var g=["init","preload","create","update","render"],y=0;y<g.length;y++){var m=r(d,g[y],null);m&&(u[g[y]]=m)}if(d.hasOwnProperty("extend")){for(var T in d.extend)if(d.extend.hasOwnProperty(T)){var S=d.extend[T];T==="data"&&u.hasOwnProperty("data")&&typeof S=="object"?u.data.merge(S):T!=="sys"&&(u[T]=S)}}return u},getKey:function(f,d){if(f||(f="default"),typeof d=="function")return f;if(d instanceof l?f=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(f=d.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,d){f===void 0&&(f=!0),d===void 0&&(d=!1);for(var u=[],v=this.scenes,g=0;g<v.length;g++){var y=v[g];y&&(!f||f&&y.sys.isActive())&&u.push(y)}return d?u.reverse():u},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var d=0;d<this.scenes.length;d++)if(f===this.scenes[d])return f;return null},isActive:function(f){var d=this.getScene(f);return d?d.sys.isActive():null},isPaused:function(f){var d=this.getScene(f);return d?d.sys.isPaused():null},isVisible:function(f){var d=this.getScene(f);return d?d.sys.isVisible():null},isSleeping:function(f){var d=this.getScene(f);return d?d.sys.isSleeping():null},pause:function(f,d){var u=this.getScene(f);return u&&u.sys.pause(d),this},resume:function(f,d){var u=this.getScene(f);return u&&u.sys.resume(d),this},sleep:function(f,d){var u=this.getScene(f);return u&&!u.sys.isTransitioning()&&u.sys.sleep(d),this},wake:function(f,d){var u=this.getScene(f);return u&&u.sys.wake(d),this},run:function(f,d){var u=this.getScene(f);if(!u){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===f){this.queueOp("start",f,d);break}return this}u.sys.isSleeping()?u.sys.wake(d):u.sys.isPaused()?u.sys.resume(d):this.start(f,d)},start:function(f,d){if(!this.isBooted)return this._data[f]={autoStart:!0,data:d},this;var u=this.getScene(f);if(!u)return console.warn("Scene key not found: "+f),this;var v=u.sys,g=v.settings.status;if(g>=p.START&&g<=p.CREATING)return this;if(g>=p.RUNNING&&g<=p.SLEEPING)v.shutdown(),v.sceneUpdate=n,v.start(d);else{v.sceneUpdate=n,v.start(d);var y;if(v.load&&(y=v.load),y&&v.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:v.settings.pack})))return v.settings.status=p.LOADING,y.once(e.COMPLETE,this.payloadComplete,this),y.start(),this}return this.bootScene(u),this},stop:function(f,d){var u=this.getScene(f);if(u&&!u.sys.isTransitioning()&&u.sys.settings.status!==p.SHUTDOWN){var v=u.sys.load;v&&(v.off(e.COMPLETE,this.loadComplete,this),v.off(e.COMPLETE,this.payloadComplete,this)),u.sys.shutdown(d)}return this},switch:function(f,d,u){var v=this.getScene(f),g=this.getScene(d);return v&&g&&v!==g&&(this.sleep(f),this.isSleeping(d)?this.wake(d,u):this.start(d,u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var d=this.getScene(f);return this.scenes.indexOf(d)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var d=this.getIndex(f),u=this.scenes;if(d!==-1&&d<u.length){var v=this.getScene(f);u.splice(d,1),u.push(v)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var d=this.getIndex(f);if(d!==-1&&d>0){var u=this.getScene(f);this.scenes.splice(d,1),this.scenes.unshift(u)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var d=this.getIndex(f);if(d>0){var u=d-1,v=this.getScene(f),g=this.getAt(u);this.scenes[d]=g,this.scenes[u]=v}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var d=this.getIndex(f);if(d<this.scenes.length-1){var u=d+1,v=this.getScene(f),g=this.getAt(u);this.scenes[d]=g,this.scenes[u]=v}return this},moveAbove:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,d);var u=this.getIndex(f),v=this.getIndex(d);if(u!==-1&&v!==-1&&v<u){var g=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(u+(v>u),0,g)}return this},moveBelow:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,d);var u=this.getIndex(f),v=this.getIndex(d);if(u!==-1&&v!==-1&&v>u){var g=this.getAt(v);this.scenes.splice(v,1),u===0?this.scenes.unshift(g):this.scenes.splice(u-(v<u),0,g)}return this},queueOp:function(f,d,u,v){return this._queue.push({op:f,keyA:d,keyB:u,data:v}),this},swapPosition:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,d);var u=this.getIndex(f),v=this.getIndex(d);if(u!==v&&u!==-1&&v!==-1){var g=this.getAt(u);this.scenes[u]=this.scenes[v],this.scenes[v]=g}return this},dump:function(){for(var f=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],u=0;u<this.scenes.length;u++){var v=this.scenes[u].sys,g=v.settings.visible&&(v.settings.status===p.RUNNING||v.settings.status===p.PAUSED)?"[*] ":"[-] ";g+=v.settings.key+" ("+d[v.settings.status]+")",f.push(g)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=h},52209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(44594),s=t(95540),r=t(37277),e=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=s(n,"target",!1),i=this.manager.getScene(l);if(!l||!this.checkValidTransition(i))return!1;var h=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var f=s(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var d=s(n,"allowInput",!1);this.settings.transitionAllowInput=d;var u=i.sys.settings;u.isTransition=!0,u.transitionFrom=this.scene,u.transitionDuration=h,u.transitionAllowInput=d,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(l,s(n,"data"));var v=s(n,"onStart",null),g=s(n,"onStartScope",this.scene);return v&&v.call(g,this.scene,i,h),this.systems.events.emit(o.TRANSITION_OUT,i,h),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,i,h){return this.manager.add(n,l,i,h)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,i){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(n,i),this},setVisible:function(n,l){l===void 0&&(l=this.key);var i=this.manager.getScene(l);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),p=t(35154),o=t(46975),s=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:a.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",o(s,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};c.exports=r},2368:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89993),o=t(42363),s=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),i=new a({initialize:function(f,d){this.scene=f,this.game,this.renderer,this.config=d,this.settings=l.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(h){this.settings.status=p.INIT,this.sceneUpdate=n,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var f=h.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(h,f){var d=this.events;d.emit(s.PRE_UPDATE,h,f),d.emit(s.UPDATE,h,f),this.sceneUpdate.call(this.scene,h,f),d.emit(s.POST_UPDATE,h,f)},render:function(h){var f=this.displayList;f.depthSort(),this.events.emit(s.PRE_RENDER,h),this.cameras.render(h,f),this.events.emit(s.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var f=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=p.PAUSED,f.active=!1,this.events.emit(s.PAUSE,this,h)),this},resume:function(h){var f=this.events,d=this.settings;return this.settings.active||(d.status=p.RUNNING,d.active=!0,f.emit(s.RESUME,this,h)),this},sleep:function(h){var f=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=p.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(s.SLEEP,this,h)),this},wake:function(h){var f=this.events,d=this.settings;return d.status=p.RUNNING,d.active=!0,d.visible=!0,f.emit(s.WAKE,this,h),d.isTransition&&f.emit(s.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>p.PENDING&&h<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,f){return h?this.resume(f):this.pause(f)},start:function(h){var f=this.events,d=this.settings;h&&(d.data=h),d.status=p.START,d.active=!0,d.visible=!0,f.emit(s.START,this),f.emit(s.READY,this,h)},shutdown:function(h){var f=this.events,d=this.settings;f.off(s.TRANSITION_INIT),f.off(s.TRANSITION_START),f.off(s.TRANSITION_COMPLETE),f.off(s.TRANSITION_OUT),d.status=p.SHUTDOWN,d.active=!1,d.visible=!1,f.emit(s.SHUTDOWN,this,h)},destroy:function(){var h=this.events,f=this.settings;f.status=p.DESTROYED,f.active=!1,f.visible=!1,h.emit(s.DESTROY,this),h.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],u=0;u<d.length;u++)this[d[u]]=null}});c.exports=i},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=x},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),p=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=p(!1,o,a),c.exports=o},30341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(14463),s=t(79291),r=t(29747),e=new a({Extends:p,initialize:function(l,i,h){p.call(this),this.manager=l,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(41786),o=t(50792),s=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),i=t(26099),h=new a({Extends:o,initialize:function(d){o.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var u=d.events;u.on(r.BLUR,this.onGameBlur,this),u.on(r.FOCUS,this.onGameFocus,this),u.on(r.PRE_STEP,this.update,this),u.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,d){d===void 0&&(d={});var u=this.add(f,d);u.spritemap=this.jsonCache.get(f).spritemap;for(var v in u.spritemap)if(u.spritemap.hasOwnProperty(v)){var g=p(d),y=u.spritemap[v];g.loop=y.hasOwnProperty("loop")?y.loop:!1,u.addMarker({name:v,start:y.start,duration:y.end-y.start,config:g})}return u},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,d){var u=this.add(f);return u.once(s.COMPLETE,u.destroy,u),d?d.name?(u.addMarker(d),u.play(d.name)):u.play(d):u.play()},playAudioSprite:function(f,d,u){var v=this.addAudioSprite(f);return v.once(s.COMPLETE,v.destroy,v),v.play(d,u)},remove:function(f){var d=this.sounds.indexOf(f);return d!==-1?(f.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var d=0,u=this.sounds.length-1;u>=0;u--){var v=this.sounds[u];v.key===f&&(v.destroy(),this.sounds.splice(u,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(f){var d=0;return this.getAll(f).forEach(function(u){u.stop()&&d++}),d},isPlaying:function(f){var d=this.sounds,u=d.length-1,v;if(f===void 0){for(;u>=0;u--)if(v=this.sounds[u],v.isPlaying)return!0}else for(;u>=0;u--)if(v=this.sounds[u],v.key===f&&v.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var u=this.sounds.length-1;u>=0;u--)this.sounds[u].pendingRemove&&this.sounds.splice(u,1);this.sounds.forEach(function(v){v.update(f,d)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,d){var u=this;this.sounds.forEach(function(v,g){v&&!v.pendingRemove&&f.call(d||u,v,g,u.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,f)}}});c.exports=h},14747:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33684),p=t(25960),o=t(57490),s={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new p(r):n.webAudio&&!e.disableWebAudio?new o(r):new a(r)}};c.exports=s},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(14463),s=t(45319),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,l,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!a.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,f){return h.loop===f.loop?f.seek/f.duration-h.seek/h.duration:h.loop?1:-1});var i=l[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-l),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(o.LOOPED,this);else if(i>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=i}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},33684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),p=t(83419),o=t(14463),s=t(64895),r=new p({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(e,n){var l=new s(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,f){for(var d=0;d<f.length;d++)if(f[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(d,u){for(var v=0;v<u.length;v++){var g=u[v];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var f=h[h.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,h.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(d){d.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});c.exports=r},23717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(50792),s=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},i=new p({Extends:o,initialize:function(f,d,u){u===void 0&&(u={}),o.call(this),this.manager=f,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},u),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){a.prototype.destroy.call(this)}});c.exports=i},25960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),p=t(83419),o=t(50792),s=t(4603),r=t(29747),e=new p({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var i=new s(this,n,l);return this.sounds.push(i),i},addAudioSprite:function(n,l){var i=this.add(n,l);return i.spritemap={},i},get:function(n){return a.prototype.get.call(this,n)},getAll:function(n){return a.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,i){return!1},remove:function(n){return a.prototype.remove.call(this,n)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(n){return a.prototype.removeByKey.call(this,n)},stopByKey:function(n){return a.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){a.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){a.prototype.destroy.call(this)}});c.exports=e},71741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(14463),s=t(95540),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,n,l,i)},play:function(e,n){return a.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var i=l.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(e,"panningModel","equalpower"),n.distanceModel=s(e,"distanceModel","inverse"),n.orientationX.value=s(e,"orientationX",0),n.orientationY.value=s(e,"orientationY",0),n.orientationZ.value=s(e,"orientationZ",-1),n.refDistance=s(e,"refDistance",1),n.maxDistance=s(e,"maxDistance",1e4),n.rolloffFactor=s(e,"rolloffFactor",1),n.coneInnerAngle=s(e,"coneInnerAngle",360),n.coneOuterAngle=s(e,"coneOuterAngle",0),n.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(n.positionX.value=s(e,"x",0),n.positionY.value=s(e,"y",0),n.positionZ.value=s(e,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},57490:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(53134),p=t(85034),o=t(83419),s=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new o({Extends:p,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",p.call(this,h),this.locked&&(h.isBooted?this.unlock():h.events.once(r.BOOT,this.unlock,this)),h.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var f=new e(this,i,h);return this.sounds.push(f),f},decodeAudio:function(i,h){var f;Array.isArray(i)?f=i:f=[{key:i,data:h}];for(var d=this.game.cache.audio,u=f.length,v=0;v<f.length;v++){var g=f[v],y=g.key,m=g.data;typeof m=="string"&&(m=a(m));var T=(function(E,C){d.add(E,C),this.emit(s.DECODED,E),u--,u===0&&this.emit(s.DECODED_ALL)}).bind(this,y),S=(function(E,C){console.error("Error decoding audio: "+E+" - ",C?C.message:""),u--,u===0&&this.emit(s.DECODED_ALL)}).bind(this,y);this.context.decodeAudioData(m,T,S)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,f=function d(){if(i.context&&h){var u=h.removeEventListener.bind(h);i.context.resume().then(function(){u("touchstart",d),u("touchend",d),u("mousedown",d),u("mouseup",d),u("keydown",d),i.unlocked=!0},function(){u("touchstart",d),u("touchend",d),u("mousedown",d),u("mouseup",d),u("keydown",d)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("mousedown",f,!1),h.addEventListener("mouseup",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var f=this.context.listener,d=n(this.listenerPosition,"x",null),u=n(this.listenerPosition,"y",null);if(f&&f.positionX!==void 0)d&&d!==this._spatialx&&(this._spatialx=f.positionX.value=d),u&&u!==this._spatialy&&(this._spatialy=f.positionY.value=u);else if(f){d&&d!==this._spatialx&&(this._spatialx=d),u&&u!==this._spatialy&&(this._spatialy=u);var v=n(f,"z",0);f.setPosition(this._spatialx||0,this._spatialy||0,v)}p.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});c.exports=l},73162:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),p=t(83419),o=t(29747),s=t(19186),r=new p({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,n){return n?a.Add(this.list,e):a.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?a.AddAt(this.list,e,n):a.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,i){return l[e]-i[e]}),s(this.list,n),this):this},getByName:function(e){return a.GetFirst(this.list,"name",e)},getRandom:function(e,n){return a.GetRandom(this.list,e,n)},getFirst:function(e,n,l,i){return a.GetFirst(this.list,e,n,l,i)},getAll:function(e,n,l,i){return a.GetAll(this.list,e,n,l,i)},count:function(e,n){return a.CountAllMatching(this.list,e,n)},swap:function(e,n){a.Swap(this.list,e,n)},moveTo:function(e,n){return a.MoveTo(this.list,e,n)},moveAbove:function(e,n){return a.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return a.MoveBelow(this.list,e,n)},remove:function(e,n){return n?a.Remove(this.list,e):a.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?a.RemoveAt(this.list,e):a.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?a.RemoveBetween(this.list,e,n):a.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return a.BringToTop(this.list,e)},sendToBack:function(e){return a.SendToBack(this.list,e)},moveUp:function(e){return a.MoveUp(this.list,e),e},moveDown:function(e){return a.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(e,n){return a.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,i){return a.SetAll(this.list,e,n,l,i),this},each:function(e,n){for(var l=[null],i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;i<this.list.length;i++)l[0]=this.list[i],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=r},90330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(o){if(Array.isArray(o))for(var s=0;s<o.length;s++)this.set(o[s][0],o[s][1]);return this},set:function(o,s){return this.has(o)||this.size++,this.entries[o]=s,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var s in o)console.log(s,o[s]);console.groupEnd()},each:function(o){var s=this.entries;for(var r in s)if(o(r,s[r])===!1)break;return this},contains:function(o){var s=this.entries;for(var r in s)if(s[r]===o)return!0;return!1},merge:function(o,s){s===void 0&&(s=!1);var r=this.entries,e=o.entries;for(var n in e)r.hasOwnProperty(n)&&s?r[n]=e[n]:this.set(n,e[n]);return this}});c.exports=p},25774:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(82348),s=new a({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var i=e.indexOf(l);i!==-1&&(e.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=s},59542:(c,x,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43886);function p(m){if(!(this instanceof p))return new p(m);this._maxEntries=Math.max(4,m||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(m){var T=this.data,S=[],E=this.toBBox;if(!v(m,T))return S;for(var C=[],w,A,P,M;T;){for(w=0,A=T.children.length;w<A;w++)P=T.children[w],M=T.leaf?E(P):P,v(m,M)&&(T.leaf?S.push(P):u(m,M)?this._all(P,S):C.push(P));T=C.pop()}return S},collides:function(m){var T=this.data,S=this.toBBox;if(!v(m,T))return!1;for(var E=[],C,w,A,P;T;){for(C=0,w=T.children.length;C<w;C++)if(A=T.children[C],P=T.leaf?S(A):A,v(m,P)){if(T.leaf||u(m,P))return!0;E.push(A)}T=E.pop()}return!1},load:function(m){if(!(m&&m.length))return this;if(m.length<this._minEntries){for(var T=0,S=m.length;T<S;T++)this.insert(m[T]);return this}var E=this._build(m.slice(),0,m.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var C=this.data;this.data=E,E=C}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(m){return m&&this._insert(m,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(m,T){if(!m)return this;for(var S=this.data,E=this.toBBox(m),C=[],w=[],A,P,M,R;S||C.length;){if(S||(S=C.pop(),P=C[C.length-1],A=w.pop(),R=!0),S.leaf&&(M=o(m,S.children,T),M!==-1))return S.children.splice(M,1),C.push(S),this._condense(C),this;!R&&!S.leaf&&u(S,E)?(C.push(S),w.push(A),A=0,P=S,S=S.children[0]):P?(A++,S=P.children[A],R=!1):S=null}return this},toBBox:function(m){return m},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(m){return this.data=m,this},_all:function(m,T){for(var S=[];m;)m.leaf?T.push.apply(T,m.children):S.push.apply(S,m.children),m=S.pop();return T},_build:function(m,T,S,E){var C=S-T+1,w=this._maxEntries,A;if(C<=w)return A=g(m.slice(T,S+1)),s(A,this.toBBox),A;E||(E=Math.ceil(Math.log(C)/Math.log(w)),w=Math.ceil(C/Math.pow(w,E-1))),A=g([]),A.leaf=!1,A.height=E;var P=Math.ceil(C/w),M=P*Math.ceil(Math.sqrt(w)),R,I,D,Y;for(y(m,T,S,M,this.compareMinX),R=T;R<=S;R+=M)for(D=Math.min(R+M-1,S),y(m,R,D,P,this.compareMinY),I=R;I<=D;I+=P)Y=Math.min(I+P-1,D),A.children.push(this._build(m,I,Y,E-1));return s(A,this.toBBox),A},_chooseSubtree:function(m,T,S,E){for(var C,w,A,P,M,R,I,D;E.push(T),!(T.leaf||E.length-1===S);){for(I=D=1/0,C=0,w=T.children.length;C<w;C++)A=T.children[C],M=i(A),R=f(m,A)-M,R<D?(D=R,I=M<I?M:I,P=A):R===D&&M<I&&(I=M,P=A);T=P||T.children[0]}return T},_insert:function(m,T,S){var E=this.toBBox,C=S?m:E(m),w=[],A=this._chooseSubtree(C,this.data,T,w);for(A.children.push(m),e(A,C);T>=0&&w[T].children.length>this._maxEntries;)this._split(w,T),T--;this._adjustParentBBoxes(C,w,T)},_split:function(m,T){var S=m[T],E=S.children.length,C=this._minEntries;this._chooseSplitAxis(S,C,E);var w=this._chooseSplitIndex(S,C,E),A=g(S.children.splice(w,S.children.length-w));A.height=S.height,A.leaf=S.leaf,s(S,this.toBBox),s(A,this.toBBox),T?m[T-1].children.push(A):this._splitRoot(S,A)},_splitRoot:function(m,T){this.data=g([m,T]),this.data.height=m.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(m,T,S){var E,C,w,A,P,M,R,I;for(M=R=1/0,E=T;E<=S-T;E++)C=r(m,0,E,this.toBBox),w=r(m,E,S,this.toBBox),A=d(C,w),P=i(C)+i(w),A<M?(M=A,I=E,R=P<R?P:R):A===M&&P<R&&(R=P,I=E);return I},_chooseSplitAxis:function(m,T,S){var E=m.leaf?this.compareMinX:n,C=m.leaf?this.compareMinY:l,w=this._allDistMargin(m,T,S,E),A=this._allDistMargin(m,T,S,C);w<A&&m.children.sort(E)},_allDistMargin:function(m,T,S,E){m.children.sort(E);var C=this.toBBox,w=r(m,0,T,C),A=r(m,S-T,S,C),P=h(w)+h(A),M,R;for(M=T;M<S-T;M++)R=m.children[M],e(w,m.leaf?C(R):R),P+=h(w);for(M=S-T-1;M>=T;M--)R=m.children[M],e(A,m.leaf?C(R):R),P+=h(A);return P},_adjustParentBBoxes:function(m,T,S){for(var E=S;E>=0;E--)e(T[E],m)},_condense:function(m){for(var T=m.length-1,S;T>=0;T--)m[T].children.length===0?T>0?(S=m[T-1].children,S.splice(S.indexOf(m[T]),1)):this.clear():s(m[T],this.toBBox)},compareMinX:function(m,T){return m.left-T.left},compareMinY:function(m,T){return m.top-T.top},toBBox:function(m){return{minX:m.left,minY:m.top,maxX:m.right,maxY:m.bottom}}};function o(m,T,S){if(!S)return T.indexOf(m);for(var E=0;E<T.length;E++)if(S(m,T[E]))return E;return-1}function s(m,T){r(m,0,m.children.length,T,m)}function r(m,T,S,E,C){C||(C=g(null)),C.minX=1/0,C.minY=1/0,C.maxX=-1/0,C.maxY=-1/0;for(var w=T,A;w<S;w++)A=m.children[w],e(C,m.leaf?E(A):A);return C}function e(m,T){return m.minX=Math.min(m.minX,T.minX),m.minY=Math.min(m.minY,T.minY),m.maxX=Math.max(m.maxX,T.maxX),m.maxY=Math.max(m.maxY,T.maxY),m}function n(m,T){return m.minX-T.minX}function l(m,T){return m.minY-T.minY}function i(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function h(m){return m.maxX-m.minX+(m.maxY-m.minY)}function f(m,T){return(Math.max(T.maxX,m.maxX)-Math.min(T.minX,m.minX))*(Math.max(T.maxY,m.maxY)-Math.min(T.minY,m.minY))}function d(m,T){var S=Math.max(m.minX,T.minX),E=Math.max(m.minY,T.minY),C=Math.min(m.maxX,T.maxX),w=Math.min(m.maxY,T.maxY);return Math.max(0,C-S)*Math.max(0,w-E)}function u(m,T){return m.minX<=T.minX&&m.minY<=T.minY&&T.maxX<=m.maxX&&T.maxY<=m.maxY}function v(m,T){return T.minX<=m.maxX&&T.minY<=m.maxY&&T.maxX>=m.minX&&T.maxY>=m.minY}function g(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(m,T,S,E,C){for(var w=[T,S],A;w.length;)S=w.pop(),T=w.pop(),!(S-T<=E)&&(A=T+Math.ceil((S-T)/E/2)*E,a(m,A,T,S,C),w.push(T,A,A,S))}c.exports=p},35072:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[o]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var s=this.entries.indexOf(o);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var s=this.entries[o];console.log(s)}console.groupEnd()},each:function(o,s){var r,e=this.entries.slice(),n=e.length;if(s)for(r=0;r<n&&o.call(s,e[r],r)!==!1;r++);else for(r=0;r<n&&o(e[r],r)!==!1;r++);return this},iterate:function(o,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&o.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var n=this.entries[s];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var s=new p;return o.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)&&s.set(r)}),s},difference:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});c.exports=p},86555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(56583),s=t(26099),r=new p({initialize:function(n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=n),i===void 0&&(i=0),h===void 0&&(h=null),this._width=n,this._height=l,this._parent=h,this.aspectMode=i,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=a(e,0,this.maxWidth),this.minHeight=a(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=a(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,h=n===0?1:e/n;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=o(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=o(n,i.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(n=o(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=o(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,c.exports=r},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(40987),s=t(8054),r=t(50030),e=t(79237),n=new a({Extends:e,initialize:function(i,h,f,d,u){e.call(this,i,h,f,d,u),this.add("__BASE",0,0,0,d,u),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=u,this.imageData=this.context.getImageData(0,0,d,u),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,i,h,f){return f===void 0&&(f=!0),this.context.drawImage(h,l,i),f&&this.update(),this},drawFrame:function(l,i,h,f,d){h===void 0&&(h=0),f===void 0&&(f=0),d===void 0&&(d=!0);var u=this.manager.getFrame(l,i);if(u){var v=u.canvasData,g=u.cutWidth,y=u.cutHeight,m=u.source.resolution;this.context.drawImage(u.source.image,v.x,v.y,g,y,h,f,g/m,y/m),d&&this.update()}return this},setPixel:function(l,i,h,f,d,u){u===void 0&&(u=255),l=Math.abs(Math.floor(l)),i=Math.abs(Math.floor(i));var v=this.getIndex(l,i);if(v>-1){var g=this.context.getImageData(l,i,1,1);g.data[0]=h,g.data[1]=f,g.data[2]=d,g.data[3]=u,this.context.putImageData(g,l,i)}return this},putData:function(l,i,h,f,d,u,v){return f===void 0&&(f=0),d===void 0&&(d=0),u===void 0&&(u=l.width),v===void 0&&(v=l.height),this.context.putImageData(l,i,h,f,d,u,v),this},getData:function(l,i,h,f){l=p(Math.floor(l),0,this.width-1),i=p(Math.floor(i),0,this.height-1),h=p(h,1,this.width-l),f=p(f,1,this.height-i);var d=this.context.getImageData(l,i,h,f);return d},getPixel:function(l,i,h){h||(h=new o);var f=this.getIndex(l,i);if(f>-1){var d=this.data,u=d[f+0],v=d[f+1],g=d[f+2],y=d[f+3];h.setTo(u,v,g,y)}return h},getPixels:function(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),f===void 0&&(f=h),l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i));for(var d=p(l,0,this.width),u=p(l+h,0,this.width),v=p(i,0,this.height),g=p(i+f,0,this.height),y=new o,m=[],T=v;T<g;T++){for(var S=[],E=d;E<u;E++)y=this.getPixel(E,T,y),S.push({x:E,y:T,color:y.color,alpha:y.alphaGL});m.push(S)}return m},getIndex:function(l,i){return l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i)),l<this.width&&i<this.height?(l+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,i,h,f,d){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),f===void 0&&(f=this.height),d===void 0&&(d=!0),this.context.clearRect(l,i,h,f),d&&this.update(),this},setSize:function(l,i){return i===void 0&&(i=l),(l!==this.width||i!==this.height)&&(this.canvas.width=l,this.canvas.height=i,this._source.width=l,this._source.height=i,this._source.isPowerOf2=r(l,i),this.frames.__BASE.setSize(l,i,0,0),this.width=l,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(38058),o=t(27919),s=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),i=t(32302),h=t(79237),f=t(70554),d=new s({Extends:h,initialize:function(v,g,y,m,T){y===void 0&&(y=256),m===void 0&&(m=256),T===void 0&&(T=!0),this.type="DynamicTexture";var S=v.game.renderer,E=S&&S.type===r.CANVAS,C=E?o.create2D(this,y,m):[this];h.call(this,v,g,C,y,m),this.add("__BASE",0,0,0,y,m),this.renderer=S,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=E?C:null,this.context=E?C.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,y,m).setScene(v.game.scene.systemScene,!1),this.renderTarget=E?null:new i(S,y,m,1,0,!1,!1,!0,!1),this.pipeline=E?null:S.pipelines.get(l.SINGLE_PIPELINE),this.setSize(y,m,T)},setSize:function(u,v,g){v===void 0&&(v=u),g===void 0&&(g=!0),g&&(u=Math.floor(u),v=Math.floor(v),u%2!==0&&u++,v%2!==0&&v++);var y=this.get(),m=y.source;if(u!==this.width||v!==this.height){this.canvas&&(this.canvas.width=u,this.canvas.height=v);var T=this.renderTarget;T&&(T.willResize(u,v)&&T.resize(u,v),T.texture!==m.glTexture&&this.renderer.deleteTexture(m.glTexture),this.setFromRenderTarget()),this.camera.setSize(u,v),m.width=u,m.height=v,y.setSize(u,v),this.width=u,this.height=v}else{var S=this.getSourceImage();y.cutX+u>S.width&&(u=S.width-y.cutX),y.cutY+v>S.height&&(v=S.height-y.cutY),y.setSize(u,v,y.cutX,y.cutY)}return this},setFromRenderTarget:function(){var u=this.get(),v=u.source,g=this.renderTarget;return v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=g.texture,this},setIsSpriteTexture:function(u){return this.isSpriteTexture=u,this},fill:function(u,v,g,y,m,T){var S=this.camera,E=this.renderer;v===void 0&&(v=1),g===void 0&&(g=0),y===void 0&&(y=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height);var C=u>>16&255,w=u>>8&255,A=u&255,P=this.renderTarget;if(S.preRender(),P){P.bind(!0);var M=this.pipeline.manager.set(this.pipeline),R=E.width/P.width,I=E.height/P.height,D=P.height-(y+T);M.drawFillRect(g*R,D*I,m*R,T*I,f.getTintFromFloats(A/255,w/255,C/255,1),v),P.unbind(!0)}else{var Y=this.context;E.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+C+","+w+","+A+","+v+")",Y.fillRect(g,y,m,T),E.setContext()}return this.dirty=!0,this},clear:function(u,v,g,y){if(this.dirty){var m=this.context,T=this.renderTarget;T?T.clear(u,v,g,y):m&&(u!==void 0&&v!==void 0&&g!==void 0&&y!==void 0?m.clearRect(u,v,g,y):(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore())),this.dirty=!1}return this},stamp:function(u,v,g,y,m){g===void 0&&(g=0),y===void 0&&(y=0);var T=n(m,"alpha",1),S=n(m,"tint",16777215),E=n(m,"angle",0),C=n(m,"rotation",0),w=n(m,"scale",1),A=n(m,"scaleX",w),P=n(m,"scaleY",w),M=n(m,"originX",.5),R=n(m,"originY",.5),I=n(m,"blendMode",0),D=n(m,"erase",!1),Y=n(m,"skipBatch",!1),B=this.manager.resetStamp(T,S);return B.setAngle(0),E!==0?B.setAngle(E):C!==0&&B.setRotation(C),B.setScale(A,P),B.setTexture(u,v),B.setOrigin(M,R),B.setBlendMode(I),D&&(this._eraseMode=!0),Y?this.batchGameObject(B,g,y):this.draw(B,g,y),D&&(this._eraseMode=!1),this},erase:function(u,v,g){return this._eraseMode=!0,this.draw(u,v,g),this._eraseMode=!1,this},draw:function(u,v,g,y,m){return this.beginDraw(),this.batchDraw(u,v,g,y,m),this.endDraw(),this},drawFrame:function(u,v,g,y,m,T){return this.beginDraw(),this.batchDrawFrame(u,v,g,y,m,T),this.endDraw(),this},repeat:function(u,v,g,y,m,T,S,E,C){if(g===void 0&&(g=0),y===void 0&&(y=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),E===void 0&&(E=16777215),C===void 0&&(C=!1),u instanceof e?v=u:v=this.manager.getFrame(u,v),!v)return this;var w=this.manager.resetStamp(S,E);w.setFrame(v),w.setOrigin(0);var A=v.width,P=v.height;m=Math.floor(m),T=Math.floor(T);var M=Math.ceil(m/A),R=Math.ceil(T/P),I=M*A-m,D=R*P-T;I>0&&(I=A-I),D>0&&(D=P-D),g<0&&(M+=Math.ceil(Math.abs(g)/A)),y<0&&(R+=Math.ceil(Math.abs(y)/P));var Y=g,B=y,O=!1,N=this.manager.stampCrop.setTo(0,0,A,P);C||this.beginDraw();for(var L=0;L<R;L++){if(B+P<0){B+=P;continue}for(var W=0;W<M;W++){if(O=!1,Y+A<0){Y+=A;continue}else Y<0&&(O=!0,N.width=A+Y,N.x=A-N.width);B<0&&(O=!0,N.height=P+B,N.y=P-N.height),I>0&&W===M-1&&(O=!0,N.width=I),D>0&&L===R-1&&(O=!0,N.height=D),O&&w.setCrop(N),this.batchGameObject(w,Y,B),w.isCropped=!1,N.setTo(0,0,A,P),Y+=A}Y=g,B+=P}return C||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var u=this.camera,v=this.renderer,g=this.renderTarget;u.preRender(),g?v.beginCapture(g.width,g.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(u,v,g,y,m){return Array.isArray(u)||(u=[u]),this.batchList(u,v,g,y,m),this},batchDrawFrame:function(u,v,g,y,m,T){g===void 0&&(g=0),y===void 0&&(y=0),m===void 0&&(m=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(u,v);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,g,y,T,m,this.camera.matrix,null):this.batchTextureFrame(S,g,y,m,T)),this},endDraw:function(u){if(u===void 0&&(u=this._eraseMode),this.isDrawing){var v=this.renderer,g=this.renderTarget;if(g){var y=v.endCapture(),m=v.pipelines.setUtility();m.blitFrame(y,g,1,!1,!1,u,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(u,v,g,y,m){var T=u.length;if(T!==0)for(var S=0;S<T;S++){var E=u[S];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,v,g):E.isParent||E.list?this.batchGroup(E.getChildren(),v,g):typeof E=="string"?this.batchTextureFrameKey(E,null,v,g,y,m):E instanceof e?this.batchTextureFrame(E,v,g,y,m):Array.isArray(E)&&this.batchList(E,v,g,y,m))}},batchGroup:function(u,v,g){v===void 0&&(v=0),g===void 0&&(g=0);for(var y=0;y<u.length;y++){var m=u[y];m.willRender(this.camera)&&this.batchGameObject(m,m.x+v,m.y+g)}},batchGameObject:function(u,v,g){v===void 0&&(v=u.x),g===void 0&&(g=u.y);var y=u.x,m=u.y,T=this.camera,S=this.renderer,E=this._eraseMode,C=u.mask;if(u.setPosition(v,g),this.canvas){if(E){var w=u.blendMode;u.blendMode=a.ERASE}C&&C.preRenderCanvas(S,u,T),u.renderCanvas(S,u,T,null),C&&C.postRenderCanvas(S,u,T),E&&(u.blendMode=w)}else S&&(C&&C.preRenderWebGL(S,u,T),E||S.setBlendMode(u.blendMode),u.renderWebGL(S,u,T),C&&C.postRenderWebGL(S,T,this.renderTarget));u.setPosition(y,m)},batchTextureFrameKey:function(u,v,g,y,m,T){var S=this.manager.getFrame(u,v);S&&this.batchTextureFrame(S,g,y,m,T)},batchTextureFrame:function(u,v,g,y,m){v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=1),m===void 0&&(m=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(u,v,g,m,y,T,null);else{var E=this.context,C=u.canvasData,w=u.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=y,T.setToContext(E),C.width>0&&C.height>0&&E.drawImage(w,C.x,C.y,C.width,C.height,v,g,C.width,C.height),E.restore()}},snapshotArea:function(u,v,g,y,m,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,m,!1,u,v,g,y,T,S):this.renderer.snapshotCanvas(this.canvas,m,!1,u,v,g,y,T,S),this},snapshot:function(u,v,g){return this.snapshotArea(0,0,this.width,this.height,u,v,g)},snapshotPixel:function(u,v,g){return this.snapshotArea(u,v,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(u,v,g,y){var m=this.manager.resetStamp();m.setTexture(this),m.setOrigin(0),m.renderWebGL(u,m,g,y)},renderCanvas:function(){},destroy:function(){var u=this.manager.stamp;u&&u.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=d},4327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(79291),s=new a({initialize:function(e,n,l,i,h,f,d){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,d,i,h)},setCutPosition:function(r,e){return r===void 0&&(r=0),e===void 0&&(e=0),this.cutX=r,this.cutY=e,this.updateUVs()},setCutSize:function(r,e){return this.cutWidth=r,this.cutHeight=e,this.updateUVs()},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,e),this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=n,h.y=l,h.w=r,h.h=e,h.r=n+r,h.b=l+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var f=i.drawImage;return f.x=n,f.y=l,f.width=r,f.height=e,this.updateUVs()},setTrim:function(r,e,n,l,i,h){var f=this.data,d=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=e,d.x=n,d.y=l,d.w=i,d.h=h,d.r=n+i,d.b=l+h,this.x=n,this.y=l,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(r,e,n,l){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&l===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,i,h,f){var d=this.cutX,u=this.cutY,v=this.cutWidth,g=this.cutHeight,y=this.realWidth,m=this.realHeight;e=p(e,0,y),n=p(n,0,m),l=p(l,0,y-e),i=p(i,0,m-n);var T=d+e,S=u+n,E=l,C=i,w=this.data;if(w.trim){var A=w.spriteSourceSize;l=p(l,0,A.x+v-e),i=p(i,0,A.y+g-n);var P=e+l,M=n+i,R=!(A.r<e||A.b<n||A.x>P||A.y>M);if(R){var I=Math.max(A.x,e),D=Math.max(A.y,n),Y=Math.min(A.r,P)-I,B=Math.min(A.b,M)-D;E=Y,C=B,h?T=d+(v-(I-A.x)-Y):T=d+(I-A.x),f?S=u+(g-(D-A.y)-B):S=u+(D-A.y),e=I,n=D,l=Y,i=B}else T=0,S=0,E=0,C=0}else h&&(T=d+(v-e-l)),f&&(S=u+(g-n-i));var O=this.source.width,N=this.source.height;return r.u0=Math.max(0,T/O),r.v0=Math.max(0,S/N),r.u1=Math.min(1,(T+E)/O),r.v1=Math.min(1,(S+C)/N),r.x=e,r.y=n,r.cx=T,r.cy=S,r.cw=E,r.ch=C,r.width=l,r.height=i,r.flipX=h,r.flipY=f,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,i,h){var f=this.data.drawImage;return f.width=r,f.height=e,this.u0=n,this.v0=l,this.u1=i,this.v1=h,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=l;var h=this.source.width,f=this.source.height;return this.u0=r/h,this.v0=e/f,this.u1=(r+n)/h,this.v1=(e+l)/f,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=s},79237:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(4327),o=t(11876),s='Texture "%s" has no frame "%s"',r=new a({initialize:function(n,l,i,h,f){Array.isArray(i)||(i=[i]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new o(this,i[d],h,f))},add:function(e,n,l,i,h,f){if(this.has(e))return null;var d=new p(this,e,n,l,i,h,f);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(s,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var h=this.frames[i];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e,!0),l=n[0],i=l.cutX,h=l.cutY,f=l.cutX+l.cutWidth,d=l.cutY+l.cutHeight,u=1;u<n.length;u++){var v=n[u];v.cutX<i&&(i=v.cutX),v.cutY<h&&(h=v.cutY),v.cutX+v.cutWidth>f&&(f=v.cutX+v.cutWidth),v.cutY+v.cutHeight>d&&(d=v.cutY+v.cutHeight)}return{x:i,y:h,width:f-i,height:d-h}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new o(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=r},17130:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(57382),o=t(83419),s=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),i=t(4327),h=t(8443),f=t(99584),d=t(35154),u=t(88571),v=t(41212),g=t(61309),y=t(87841),m=t(79237),T=new o({Extends:n,initialize:function(E){n.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,E.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var S=this.game.config;S.defaultImage!==null&&this.addBase64("__DEFAULT",S.defaultImage),S.missingImage!==null&&this.addBase64("__MISSING",S.missingImage),S.whiteImage!==null&&this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(E){this.stamp=new u(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(S){return!S||typeof S!="string"||this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var E=S.key;return this.list.hasOwnProperty(E)&&(S.destroy(),this.emit(l.REMOVE,E),this.emit(l.REMOVE_KEY+E)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,E){if(this.checkKey(S)){var C=this,w=new Image;w.onerror=function(){C.emit(l.ERROR,S)},w.onload=function(){var A=C.create(S,w);A&&(g.Image(A,0),C.emit(l.ADD,S,A),C.emit(l.ADD_KEY+S,A),C.emit(l.LOAD,S,A))},w.src=E}return this},getBase64:function(S,E,C,w){C===void 0&&(C="image/png"),w===void 0&&(w=.92);var A="",P=this.getFrame(S,E);if(P&&(P.source.isRenderTexture||P.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(P){var M=P.canvasData,R=a.create2D(this,M.width,M.height),I=R.getContext("2d",{willReadFrequently:!0});M.width>0&&M.height>0&&I.drawImage(P.source.image,M.x,M.y,M.width,M.height,0,0,M.width,M.height),A=R.toDataURL(C,w),a.remove(R)}return A},addImage:function(S,E,C){var w=null;return this.checkKey(S)&&(w=this.create(S,E),g.Image(w,0),C&&w.setDataSource(C),this.emit(l.ADD,S,w),this.emit(l.ADD_KEY+S,w)),w},addGLTexture:function(S,E){var C=null;if(this.checkKey(S)){var w=E.width,A=E.height;C=this.create(S,E,w,A),C.add("__BASE",0,0,0,w,A),this.emit(l.ADD,S,C),this.emit(l.ADD_KEY+S,C)}return C},addCompressedTexture:function(S,E,C){var w=null;if(this.checkKey(S)){if(w=this.create(S,E),w.add("__BASE",0,0,0,E.width,E.height),C){var A=function(M,R,I){Array.isArray(I.textures)||Array.isArray(I.frames)?g.JSONArray(M,R,I):g.JSONHash(M,R,I)};if(Array.isArray(C))for(var P=0;P<C.length;P++)A(w,P,C[P]);else A(w,0,C)}this.emit(l.ADD,S,w),this.emit(l.ADD_KEY+S,w)}return w},addRenderTexture:function(S,E){var C=null;return this.checkKey(S)&&(C=this.create(S,E),C.add("__BASE",0,0,0,E.width,E.height),this.emit(l.ADD,S,C),this.emit(l.ADD_KEY+S,C)),C},generate:function(S,E){if(this.checkKey(S)){var C=a.create(this,1,1);return E.canvas=C,f(E),this.addCanvas(S,C)}else return null},createCanvas:function(S,E,C){if(E===void 0&&(E=256),C===void 0&&(C=256),this.checkKey(S)){var w=a.create(this,E,C,r.CANVAS,!0);return this.addCanvas(S,w)}return null},addCanvas:function(S,E,C){C===void 0&&(C=!1);var w=null;return C?w=new p(this,S,E,E.width,E.height):this.checkKey(S)&&(w=new p(this,S,E,E.width,E.height),this.list[S]=w,this.emit(l.ADD,S,w),this.emit(l.ADD_KEY+S,w)),w},addDynamicTexture:function(S,E,C){var w=null;return typeof S=="string"&&!this.exists(S)?w=new e(this,S,E,C):(w=S,S=w.key),this.checkKey(S)?(this.list[S]=w,this.emit(l.ADD,S,w),this.emit(l.ADD_KEY+S,w)):w=null,w},addAtlas:function(S,E,C,w){return Array.isArray(C.textures)||Array.isArray(C.frames)?this.addAtlasJSONArray(S,E,C,w):this.addAtlasJSONHash(S,E,C,w)},addAtlasJSONArray:function(S,E,C,w){var A=null;if(E instanceof m?(S=E.key,A=E):this.checkKey(S)&&(A=this.create(S,E)),A){if(Array.isArray(C))for(var P=C.length===1,M=0;M<A.source.length;M++){var R=P?C[0]:C[M];g.JSONArray(A,M,R)}else g.JSONArray(A,0,C);w&&A.setDataSource(w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A)}return A},addAtlasJSONHash:function(S,E,C,w){var A=null;if(E instanceof m?(S=E.key,A=E):this.checkKey(S)&&(A=this.create(S,E)),A){if(Array.isArray(C))for(var P=0;P<C.length;P++)g.JSONHash(A,P,C[P]);else g.JSONHash(A,0,C);w&&A.setDataSource(w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A)}return A},addAtlasXML:function(S,E,C,w){var A=null;return E instanceof m?(S=E.key,A=E):this.checkKey(S)&&(A=this.create(S,E)),A&&(g.AtlasXML(A,0,C),w&&A.setDataSource(w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A)),A},addUnityAtlas:function(S,E,C,w){var A=null;return E instanceof m?(S=E.key,A=E):this.checkKey(S)&&(A=this.create(S,E)),A&&(g.UnityYAML(A,0,C),w&&A.setDataSource(w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A)),A},addSpriteSheet:function(S,E,C,w){var A=null;if(E instanceof m?(S=E.key,A=E):this.checkKey(S)&&(A=this.create(S,E)),A){var P=A.source[0].width,M=A.source[0].height;g.SpriteSheet(A,0,0,0,P,M,C),w&&A.setDataSource(w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A)}return A},addSpriteSheetFromAtlas:function(S,E){if(!this.checkKey(S))return null;var C=d(E,"atlas",null),w=d(E,"frame",null);if(!(!C||!w)){var A=this.get(C),P=A.get(w);if(P){var M=P.source.image;M||(M=P.source.glTexture);var R=this.create(S,M);return P.trimmed?g.SpriteSheetFromAtlas(R,P,E):g.SpriteSheet(R,0,P.cutX,P.cutY,P.cutWidth,P.cutHeight,E),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R),R}}},addUint8Array:function(S,E,C,w){if(!this.checkKey(S)||E.length/4!==C*w)return null;var A=this.create(S,E,C,w);return A.add("__BASE",0,0,0,C,w),this.emit(l.ADD,S,A),this.emit(l.ADD_KEY+S,A),A},create:function(S,E,C,w){var A=null;return this.checkKey(S)&&(A=new m(this,S,E,C,w),this.list[S]=A),A},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof m?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,E){if(this.list[S])return this.list[S].get(E).clone()},getFrame:function(S,E){if(this.list[S])return this.list[S].get(E)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(v(S))return this.getFrame(S.key,S.frame);if(S instanceof m)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&E!=="__NORMAL"&&S.push(E);return S},getPixel:function(S,E,C,w){var A=this.getFrame(C,w);if(A){S-=A.x,E-=A.y;var P=A.data.cut;if(S+=P.x,E+=P.y,S>=P.x&&S<P.r&&E>=P.y&&E<P.b){var M=this._tempContext;M.clearRect(0,0,1,1),M.drawImage(A.source.image,S,E,1,1,0,0,1,1);var R=M.getImageData(0,0,1,1);return new s(R.data[0],R.data[1],R.data[2],R.data[3])}}return null},getPixelAlpha:function(S,E,C,w){var A=this.getFrame(C,w);if(A){S-=A.x,E-=A.y;var P=A.data.cut;if(S+=P.x,E+=P.y,S>=P.x&&S<P.r&&E>=P.y&&E<P.b){var M=this._tempContext;M.clearRect(0,0,1,1),M.drawImage(A.source.image,S,E,1,1,0,0,1,1);var R=M.getImageData(0,0,1,1);return R.data[3]}}return null},setTexture:function(S,E,C){return this.list[E]&&(S.texture=this.list[E],S.frame=S.texture.get(C)),S},renameTexture:function(S,E){var C=this.get(S);return C&&S!==E?(C.key=E,this.list[E]=C,delete this.list[S],!0):!1},each:function(S,E){for(var C=[null],w=1;w<arguments.length;w++)C.push(arguments[w]);for(var A in this.list)C[0]=this.list[A],S.apply(E,C)},resetStamp:function(S,E){S===void 0&&(S=1),E===void 0&&(E=16777215);var C=this.stamp;return C.setCrop(),C.setPosition(0),C.setAngle(0),C.setScale(1),C.setAlpha(S),C.setTint(E),C.setTexture("__WHITE"),C},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});c.exports=T},11876:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(83419),o=t(50030),s=t(29795),r=t(82751),e=new p({initialize:function(l,i,h,f,d){d===void 0&&(d=!1);var u=l.manager.game;this.renderer=u.renderer,this.texture=l,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=f||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(u)},init:function(n){var l=this.renderer;if(l){var i=this.source;if(l.gl){var h=this.image,f=this.flipY,d=this.width,u=this.height,v=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,d,u,v):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(i,void 0,void 0,v):i instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(i,d,u,v):this.glTexture=l.createTextureFromSource(h,d,u,v)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,i=this.flipY,h=n.gl;h&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,i):h&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};c.exports=x},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=a(!1,o,p),c.exports=o},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[a];t.add("__BASE",a,0,0,o.width,o.height);for(var s=p.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var n=s[e].attributes,l=n.name.value,i=parseInt(n.x.value,10),h=parseInt(n.y.value,10),f=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(r=t.add(l,a,i,h,f,d),n.frameX){var u=Math.abs(parseInt(n.frameX.value,10)),v=Math.abs(parseInt(n.frameY.value,10)),g=parseInt(n.frameWidth.value,10),y=parseInt(n.frameHeight.value,10);r.setTrim(f,d,u,v,g,y)}}return t};c.exports=x},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};c.exports=x},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};c.exports=x},78566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,i=0;i<n.length;i++){var h=n[i];if(l=o.add(h.filename,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=p},39711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);var n=r.frames,l;for(var i in n)if(n.hasOwnProperty(i)){var h=n[i];if(l=o.add(i,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=p},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],p,o=new Uint8Array(t,0,12);for(p=0;p<o.length;p++)if(o[p]!==a[p]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),i=r.getUint32(6*s,e),h=r.getUint32(7*s,e),f=Math.max(1,r.getUint32(11*s,e)),d=r.getUint32(12*s,e),u=new Array(f),v=12+13*4+d,g=i,y=h;for(p=0;p<f;p++){var m=new Int32Array(t,v,1)[0];v+=4,u[p]={data:new Uint8Array(t,v,m),width:g,height:y},g=Math.max(1,g>>1),y=Math.max(1,y>>1),v+=m}return{mipmaps:u,width:i,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=x},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(E,C,w,A,P,M,R){return R===void 0&&(R=16),Math.floor((E+w)/P)*Math.floor((C+A)/M)*R}function t(E,C){return E=Math.max(E,16),C=Math.max(C,8),E*C/4}function a(E,C){return E=Math.max(E,8),C=Math.max(C,8),E*C/2}function p(E,C){return Math.ceil(E/4)*Math.ceil(C/4)*16}function o(E,C){return x(E,C,3,3,4,4,8)}function s(E,C){return x(E,C,3,3,4,4)}function r(E,C){return x(E,C,4,3,5,4)}function e(E,C){return x(E,C,4,4,5,5)}function n(E,C){return x(E,C,5,4,6,5)}function l(E,C){return x(E,C,5,5,6,6)}function i(E,C){return x(E,C,7,4,8,5)}function h(E,C){return x(E,C,7,5,8,6)}function f(E,C){return x(E,C,7,7,8,8)}function d(E,C){return x(E,C,9,4,10,5)}function u(E,C){return x(E,C,9,5,10,6)}function v(E,C){return x(E,C,9,7,10,8)}function g(E,C){return x(E,C,9,9,10,10)}function y(E,C){return x(E,C,11,9,12,10)}function m(E,C){return x(E,C,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:u,glFormat:[37817,37849]},37:{sizeFunc:v,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:y,glFormat:[37820,37852]},40:{sizeFunc:m,glFormat:[37821,37853]}},S=function(E){for(var C=new Uint32Array(E,0,13),w=C[0],A=w===55727696,P=A?C[2]:C[3],M=C[4],R=T[P].glFormat[M],I=T[P].sizeFunc,D=C[11],Y=C[7],B=C[6],O=52+C[12],N=new Uint8Array(E,O),L=new Array(D),W=0,F=Y,U=B,Z=0;Z<D;Z++){var J=I(F,U);L[Z]={data:new Uint8Array(N.buffer,N.byteOffset+W,J),width:F,height:U},F=Math.max(1,F>>1),U=Math.max(1,U>>1),W+=J}return{mipmaps:L,width:Y,height:B,internalFormat:R,compressed:!0,generateMipmap:!1}};c.exports=S},75549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r,e,n,l,i){var h=a(i,"frameWidth",null),f=a(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=o.source[s];o.add("__BASE",s,0,0,d.width,d.height);var u=a(i,"startFrame",0),v=a(i,"endFrame",-1),g=a(i,"margin",0),y=a(i,"spacing",0),m=Math.floor((n-g+y)/(h+y)),T=Math.floor((l-g+y)/(f+y)),S=m*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(u>S||u<-S)&&(u=0),u<0&&(u=S+u),(v===-1||v>S||v<u)&&(v=S);for(var E=g,C=g,w=0,A=0,P=0,M=0;M<S;M++){w=0,A=0;var R=E+h,I=C+f;R>n&&(w=R-n),I>l&&(A=I-l),M>=u&&M<=v&&(o.add(P,s,r+E,e+C,h-w,f-A),P++),E+=h+y,E+h>n&&(E=g,C+=f+y)}return o};c.exports=p},47534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r){var e=a(r,"frameWidth",null),n=a(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),a(r,"startFrame",0),a(r,"endFrame",-1);for(var i=a(r,"margin",0),h=a(r,"spacing",0),f=s.cutX,d=s.cutY,u=s.cutWidth,v=s.cutHeight,g=s.realWidth,y=s.realHeight,m=Math.floor((g-i+h)/(e+h)),T=Math.floor((y-i+h)/(n+h)),S=s.x,E=e-S,C=e-(g-u-S),w=s.y,A=n-w,P=n-(y-v-w),M,R=i,I=i,D=0,Y=0,B=0;B<T;B++){for(var O=B===0,N=B===T-1,L=0;L<m;L++){var W=L===0,F=L===m-1;if(M=o.add(D,Y,f+R,d+I,e,n),W||O||F||N){var U=W?S:0,Z=O?w:0,J=0,Q=0;W&&(J+=e-E),F&&(J+=e-C),O&&(Q+=n-A),N&&(Q+=n-P);var k=e-J,et=n-Q;M.cutWidth=k,M.cutHeight=et,M.setTrim(e,n,U,Z,k,et)}R+=h,W?R+=E:F?R+=C:R+=e,D++}R=i,I+=h,O?I+=A:N?I+=P:I+=n}return o};c.exports=p},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,t=function(p,o,s,r){var e=x-r.y-r.height;p.add(s,o,r.x,e,r.width,r.height)},a=function(p,o,s){var r=p.source[o];p.add("__BASE",o,0,0,r.width,r.height),x=r.height;for(var e=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",i="",h={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var d=e[f].match(n);if(d){var u=d[1]==="- ",v=d[2],g=d[3];if(u&&(i!==l&&(t(p,o,i,h),l=i),h={x:0,y:0,width:0,height:0}),v==="name"){i=g;continue}switch(v){case"x":case"y":case"width":case"height":h[v]=parseInt(g,10);break}}}return i!==l&&t(p,o,i,h),p};c.exports=a},55222:(c,x,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50030),p=function(l){for(var i=l.mipmaps,h=1;h<i.length;h++){var f=i[h].width,d=i[h].height;if(!a(f,d))return console.warn("Mip level "+h+" is not a power-of-two size: "+f+"x"+d),!1}var u=n[l.internalFormat];return u?u(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var i=l.mipmaps,h=0;h<i.length;h++){var f=i[h].width,d=i[h].height;if((f<<h)%4!==0||(d<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+f+"x"+d),!1}return!0}function s(){return!0}function r(l){var i=l.mipmaps,h=i[0];return a(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var i=l.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:e,35917:e,35918:e,35919:e};c.exports=p},61309:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,s,r,e){return this.images.push({gid:o,image:s,width:r,height:e}),this.total++,this}});c.exports=p},27462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var s=this.gids[o.gid];if(s){var r=s.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=e.gid-n.firstgid),o.scene.textures.getFrame(s,r)||(s=null,r=null))}o.setTexture(s,r)},setPropertiesFromTiledObject:function(o,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(s.gid))}this.setFromJSON(o,s.properties)},setFromJSON:function(o,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var e=s[r];o[e.name]!==void 0?o[e.name]=e.value:o.setData(e.name,e.value)}return}for(var n in s)o[n]!==void 0?o[n]=s[n]:o.setData(n,s[n])}}});c.exports=p},31989:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(87010),o=t(46177),s=t(49075),r=function(e,n,l,i,h,f,d,u){l===void 0&&(l=32),i===void 0&&(i=32),h===void 0&&(h=10),f===void 0&&(f=10),u===void 0&&(u=!1);var v=null;if(Array.isArray(d)){var g=n!==void 0?n:"map";v=o(g,a.ARRAY_2D,d,l,i,u)}else if(n!==void 0){var y=e.cache.tilemap.get(n);y?v=o(n,y.format,y.data,l,i,u):console.warn("No map data found for key "+n)}return v===null&&(v=new p({tileWidth:l,tileHeight:i,width:h,height:f})),new s(e,v)};c.exports=r},23029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(91907),s=t(62644),r=t(93232),e=new a({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(l,i,h,f,d,u,v,g){this.layer=l,this.index=i,this.x=h,this.y=f,this.width=d,this.height=u,this.right,this.bottom,this.baseWidth=v!==void 0?v:d,this.baseHeight=g!==void 0?g:u,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,i,h){return!(i<=this.pixelX||h<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,i,h,f){if(l===void 0&&(l=n),i===void 0&&(i=n),h===void 0&&(h=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=i,this.collideDown=h,this.faceLeft=n,this.faceRight=l,this.faceTop=i,this.faceBottom=h,f){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,i,h){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,f,d;l==="y"?(d=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):l==="x"&&(f=(this.baseWidth-h)/2+h,this.pixelX=this.x*f,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=e},49075:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84101),p=t(83419),o=t(39506),s=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),i=t(36305),h=t(19133),f=t(68287),d=t(23029),u=t(81086),v=t(20442),g=t(33629),y=new p({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:u.GetWorldToTileXYFunction(E),WorldToTileX:u.GetWorldToTileXFunction(E),WorldToTileY:u.GetWorldToTileYFunction(E),TileToWorldXY:u.GetTileToWorldXYFunction(E),TileToWorldX:u.GetTileToWorldXFunction(E),TileToWorldY:u.GetTileToWorldYFunction(E),GetTileCorners:u.GetTileCornersFunction(E)}},setRenderOrder:function(m){var T=["right-down","left-down","right-up","left-up"];return typeof m=="number"&&(m=T[m]),T.indexOf(m)>-1&&(this.renderOrder=m),this},addTilesetImage:function(m,T,S,E,C,w,A,P){if(m===void 0)return null;T==null&&(T=m);var M=this.scene.sys.textures;if(!M.exists(T))return console.warn('Texture key "%s" not found',T),null;var R=M.get(T),I=this.getTilesetIndex(m);if(I===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',m,this.tilesets),null;var D=this.tilesets[I];return D?((S||E)&&D.setTileSize(S,E),(C||w)&&D.setSpacing(C,w),D.setImage(R),D):(S===void 0&&(S=this.tileWidth),E===void 0&&(E=this.tileHeight),C===void 0&&(C=0),w===void 0&&(w=0),A===void 0&&(A=0),P===void 0&&(P={x:0,y:0}),D=new g(m,A,S,E,C,w,void 0,void 0,P),D.setImage(R),this.tilesets.push(D),this.tiles=a(this),D)},copy:function(m,T,S,E,C,w,A,P){return P=this.getLayer(P),P!==null?(u.Copy(m,T,S,E,C,w,A,P),this):null},createBlankLayer:function(m,T,S,E,C,w,A,P){S===void 0&&(S=0),E===void 0&&(E=0),C===void 0&&(C=this.width),w===void 0&&(w=this.height),A===void 0&&(A=this.tileWidth),P===void 0&&(P=this.tileHeight);var M=this.getLayerIndex(m);if(M!==null)return console.warn("Invalid Tilemap Layer ID: "+m),null;for(var R=new e({name:m,tileWidth:A,tileHeight:P,width:C,height:w,orientation:this.orientation,hexSideLength:this.hexSideLength}),I,D=0;D<w;D++){I=[];for(var Y=0;Y<C;Y++)I.push(new d(R,-1,Y,D,A,P,this.tileWidth,this.tileHeight));R.data.push(I)}this.layers.push(R),this.currentLayerIndex=this.layers.length-1;var B=new v(this.scene,this,this.currentLayerIndex,T,S,E);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createLayer:function(m,T,S,E){var C=this.getLayerIndex(m);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+m),typeof m=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var w=this.layers[C];if(w.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+m),null;this.currentLayerIndex=C,S===void 0&&(S=w.x),E===void 0&&(E=w.y);var A=new v(this.scene,this,C,T,S,E);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(m,T,S){S===void 0&&(S=!0);var E=[],C=this.getObjectLayer(m);if(!C)return console.warn("createFromObjects: Invalid objectLayerName given: "+m),E;var w=new n(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var A=C.objects,P=0;P<T.length;P++){var M=T[P],R=r(M,"id",null),I=r(M,"gid",null),D=r(M,"name",null),Y=r(M,"type",null);w.enabled=!r(M,"ignoreTileset",null);for(var B,O=[],N=0;N<A.length;N++)B=A[N],(R===null&&I===null&&D===null&&Y===null||R!==null&&B.id===R||I!==null&&B.gid===I||D!==null&&B.name===D||Y!==null&&w.getTypeIncludingTile(B)===Y)&&O.push(B);for(var L=r(M,"classType",f),W=r(M,"scene",this.scene),F=r(M,"container",null),U=r(M,"key",null),Z=r(M,"frame",null),J=0;J<O.length;J++){B=O[J];var Q=new L(W);if(Q.setName(B.name),Q.setPosition(B.x,B.y),w.setTextureAndFrame(Q,U,Z,B),B.width&&(Q.displayWidth=B.width),B.height&&(Q.displayHeight=B.height),this.orientation===l.ISOMETRIC){var k=this.tileWidth/this.tileHeight,et={x:Q.x-Q.y,y:(Q.x+Q.y)/k};Q.x=et.x,Q.y=et.y}var it={x:Q.originX*B.width,y:(Q.originY-(B.gid?1:0))*B.height};if(B.rotation){var q=o(B.rotation);i(it,q),Q.rotation=q}Q.x+=it.x,Q.y+=it.y,(B.flippedHorizontal!==void 0||B.flippedVertical!==void 0)&&Q.setFlip(B.flippedHorizontal,B.flippedVertical),B.visible||(Q.visible=!1),w.setPropertiesFromTiledObject(Q,B),F?F.add(Q):W.add.existing(Q),E.push(Q)}}return E},createFromTiles:function(m,T,S,E,C,w){return w=this.getLayer(w),w===null?null:u.CreateFromTiles(m,T,S,E,C,w)},fill:function(m,T,S,E,C,w,A){return w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:(u.Fill(m,T,S,E,C,w,A),this)},filterObjects:function(m,T,S){if(typeof m=="string"){var E=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+E),null}return m.objects.filter(T,S)},filterTiles:function(m,T,S,E,C,w,A,P){return P=this.getLayer(P),P===null?null:u.FilterTiles(m,T,S,E,C,w,A,P)},findByIndex:function(m,T,S,E){return E=this.getLayer(E),E===null?null:u.FindByIndex(m,T,S,E)},findObject:function(m,T,S){if(typeof m=="string"){var E=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+E),null}return m.objects.find(T,S)||null},findTile:function(m,T,S,E,C,w,A,P){return P=this.getLayer(P),P===null?null:u.FindTile(m,T,S,E,C,w,A,P)},forEachTile:function(m,T,S,E,C,w,A,P){return P=this.getLayer(P),P===null?null:(u.ForEachTile(m,T,S,E,C,w,A,P),this)},getImageIndex:function(m){return this.getIndex(this.images,m)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(m){return m.name})},getIndex:function(m,T){for(var S=0;S<m.length;S++)if(m[S].name===T)return S;return null},getLayer:function(m){var T=this.getLayerIndex(m);return T!==null?this.layers[T]:null},getObjectLayer:function(m){var T=this.getIndex(this.objects,m);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(m){return m.name})},getLayerIndex:function(m){return m===void 0?this.currentLayerIndex:typeof m=="string"?this.getLayerIndexByName(m):typeof m=="number"&&m<this.layers.length?m:m instanceof v&&m.tilemap===this?m.layerIndex:null},getLayerIndexByName:function(m){return this.getIndex(this.layers,m)},getTileAt:function(m,T,S,E){return E=this.getLayer(E),E===null?null:u.GetTileAt(m,T,S,E)},getTileAtWorldXY:function(m,T,S,E,C){return C=this.getLayer(C),C===null?null:u.GetTileAtWorldXY(m,T,S,E,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(m){return m.name})},getTilesWithin:function(m,T,S,E,C,w){return w=this.getLayer(w),w===null?null:u.GetTilesWithin(m,T,S,E,C,w)},getTilesWithinShape:function(m,T,S,E){return E=this.getLayer(E),E===null?null:u.GetTilesWithinShape(m,T,S,E)},getTilesWithinWorldXY:function(m,T,S,E,C,w,A){return A=this.getLayer(A),A===null?null:u.GetTilesWithinWorldXY(m,T,S,E,C,w,A)},getTileset:function(m){var T=this.getIndex(this.tilesets,m);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(m){return this.getIndex(this.tilesets,m)},hasTileAt:function(m,T,S){return S=this.getLayer(S),S===null?null:u.HasTileAt(m,T,S)},hasTileAtWorldXY:function(m,T,S,E){return E=this.getLayer(E),E===null?null:u.HasTileAtWorldXY(m,T,S,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(m){this.setLayer(m)}},putTileAt:function(m,T,S,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:u.PutTileAt(m,T,S,E,C)},putTileAtWorldXY:function(m,T,S,E,C,w){return E===void 0&&(E=!0),w=this.getLayer(w),w===null?null:u.PutTileAtWorldXY(m,T,S,E,C,w)},putTilesAt:function(m,T,S,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(u.PutTilesAt(m,T,S,E,C),this)},randomize:function(m,T,S,E,C,w){return w=this.getLayer(w),w===null?null:(u.Randomize(m,T,S,E,C,w),this)},calculateFacesAt:function(m,T,S){return S=this.getLayer(S),S===null?null:(u.CalculateFacesAt(m,T,S),this)},calculateFacesWithin:function(m,T,S,E,C){return C=this.getLayer(C),C===null?null:(u.CalculateFacesWithin(m,T,S,E,C),this)},removeLayer:function(m){var T=this.getLayerIndex(m);if(T!==null){h(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(m){var T=this.getLayerIndex(m);return T!==null?(m=this.layers[T],m.tilemapLayer.destroy(),h(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var m=this.layers,T=0;T<m.length;T++)m[T].tilemapLayer&&m[T].tilemapLayer.destroy(!1);return m.length=0,this.currentLayerIndex=0,this},removeTile:function(m,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var E=[];Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++){var w=m[C];E.push(this.removeTileAt(w.x,w.y,!0,S,w.tilemapLayer)),T>-1&&this.putTileAt(T,w.x,w.y,S,w.tilemapLayer)}return E},removeTileAt:function(m,T,S,E,C){return S===void 0&&(S=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:u.RemoveTileAt(m,T,S,E,C)},removeTileAtWorldXY:function(m,T,S,E,C,w){return S===void 0&&(S=!0),E===void 0&&(E=!0),w=this.getLayer(w),w===null?null:u.RemoveTileAtWorldXY(m,T,S,E,C,w)},renderDebug:function(m,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===l.ORTHOGONAL&&u.RenderDebug(m,T,S),this)},renderDebugFull:function(m,T){for(var S=this.layers,E=0;E<S.length;E++)u.RenderDebug(m,T,S[E]);return this},replaceByIndex:function(m,T,S,E,C,w,A){return A=this.getLayer(A),A===null?null:(u.ReplaceByIndex(m,T,S,E,C,w,A),this)},setCollision:function(m,T,S,E,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(u.SetCollision(m,T,S,E,C),this)},setCollisionBetween:function(m,T,S,E,C){return S===void 0&&(S=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(u.SetCollisionBetween(m,T,S,E,C),this)},setCollisionByProperty:function(m,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(u.SetCollisionByProperty(m,T,S,E),this)},setCollisionByExclusion:function(m,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(u.SetCollisionByExclusion(m,T,S,E),this)},setCollisionFromCollisionGroup:function(m,T,S){return m===void 0&&(m=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(u.SetCollisionFromCollisionGroup(m,T,S),this)},setTileIndexCallback:function(m,T,S,E){return E=this.getLayer(E),E===null?null:(u.SetTileIndexCallback(m,T,S,E),this)},setTileLocationCallback:function(m,T,S,E,C,w,A){return A=this.getLayer(A),A===null?null:(u.SetTileLocationCallback(m,T,S,E,C,w,A),this)},setLayer:function(m){var T=this.getLayerIndex(m);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(m,T){this.tileWidth=m,this.tileHeight=T,this.widthInPixels=this.width*m,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=m,this.layers[S].baseTileHeight=T;for(var E=this.layers[S].data,C=this.layers[S].width,w=this.layers[S].height,A=0;A<w;A++)for(var P=0;P<C;P++){var M=E[A][P];M!==null&&M.setSize(void 0,void 0,m,T)}}return this},setLayerTileSize:function(m,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=m,S.tileHeight=T;for(var E=S.data,C=S.width,w=S.height,A=0;A<w;A++)for(var P=0;P<C;P++){var M=E[A][P];M!==null&&M.setSize(m,T)}return this},shuffle:function(m,T,S,E,C){return C=this.getLayer(C),C===null?null:(u.Shuffle(m,T,S,E,C),this)},swapByIndex:function(m,T,S,E,C,w,A){return A=this.getLayer(A),A===null?null:(u.SwapByIndex(m,T,S,E,C,w,A),this)},tileToWorldX:function(m,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(m,T,S)},tileToWorldY:function(m,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(m,T,S)},tileToWorldXY:function(m,T,S,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(m,T,S,E,C)},getTileCorners:function(m,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(m,T,S,E)},weightedRandomize:function(m,T,S,E,C,w){return w=this.getLayer(w),w===null?null:(u.WeightedRandomize(T,S,E,C,m,w),this)},worldToTileX:function(m,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(m,T,S,E)},worldToTileY:function(m,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(m,T,S,E)},worldToTileXY:function(m,T,S,E,C,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileXY(m,T,S,E,C,w)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=y},45939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(31989);a.register("tilemap",function(o){var s=o!==void 0?o:{};return p(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(31989);a.register("tilemap",function(o,s,r,e,n,l,i){return o===null&&(o=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),p(this.scene,o,s,r,e,n,l,i)})},20442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(78389),o=t(31401),s=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,p,e],initialize:function(h,f,d,u,v,g){s.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=d,this.layer=f.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(v,g),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],f=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++){var v=i[u];if(typeof v=="string"&&(v=d.getTileset(v)),v){f.push(v);for(var g=v.firstgid,y=0;y<v.total;y++)h[g+y]=v}}this.gidMap=h,this.tileset=f},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return r.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,f,d){return r.CalculateFacesWithin(i,h,f,d,this.layer),this},createFromTiles:function(i,h,f,d,u){return r.CreateFromTiles(i,h,f,d,u,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,f,d,u,v,g){return r.Copy(i,h,f,d,u,v,g,this.layer),this},fill:function(i,h,f,d,u,v){return r.Fill(i,h,f,d,u,v,this.layer),this},filterTiles:function(i,h,f,d,u,v,g){return r.FilterTiles(i,h,f,d,u,v,g,this.layer)},findByIndex:function(i,h,f){return r.FindByIndex(i,h,f,this.layer)},findTile:function(i,h,f,d,u,v,g){return r.FindTile(i,h,f,d,u,v,g,this.layer)},forEachTile:function(i,h,f,d,u,v,g){return r.ForEachTile(i,h,f,d,u,v,g,this.layer),this},setTint:function(i,h,f,d,u,v){i===void 0&&(i=16777215);var g=function(y){y.tint=i,y.tintFill=!1};return this.forEachTile(g,this,h,f,d,u,v)},setTintFill:function(i,h,f,d,u,v){i===void 0&&(i=16777215);var g=function(y){y.tint=i,y.tintFill=!0};return this.forEachTile(g,this,h,f,d,u,v)},getTileAt:function(i,h,f){return r.GetTileAt(i,h,f,this.layer)},getTileAtWorldXY:function(i,h,f,d){return r.GetTileAtWorldXY(i,h,f,d,this.layer)},getIsoTileAtWorldXY:function(i,h,f,d,u){f===void 0&&(f=!0);var v=this.tempVec;return r.IsometricWorldToTileXY(i,h,!0,v,u,this.layer,f),this.getTileAt(v.x,v.y,d)},getTilesWithin:function(i,h,f,d,u){return r.GetTilesWithin(i,h,f,d,u,this.layer)},getTilesWithinShape:function(i,h,f){return r.GetTilesWithinShape(i,h,f,this.layer)},getTilesWithinWorldXY:function(i,h,f,d,u,v){return r.GetTilesWithinWorldXY(i,h,f,d,u,v,this.layer)},hasTileAt:function(i,h){return r.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,f){return r.HasTileAtWorldXY(i,h,f,this.layer)},putTileAt:function(i,h,f,d){return r.PutTileAt(i,h,f,d,this.layer)},putTileAtWorldXY:function(i,h,f,d,u){return r.PutTileAtWorldXY(i,h,f,d,u,this.layer)},putTilesAt:function(i,h,f,d){return r.PutTilesAt(i,h,f,d,this.layer),this},randomize:function(i,h,f,d,u){return r.Randomize(i,h,f,d,u,this.layer),this},removeTileAt:function(i,h,f,d){return r.RemoveTileAt(i,h,f,d,this.layer)},removeTileAtWorldXY:function(i,h,f,d,u){return r.RemoveTileAtWorldXY(i,h,f,d,u,this.layer)},renderDebug:function(i,h){return r.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,f,d,u,v){return r.ReplaceByIndex(i,h,f,d,u,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,f,d){return r.SetCollision(i,h,f,this.layer,d),this},setCollisionBetween:function(i,h,f,d){return r.SetCollisionBetween(i,h,f,d,this.layer),this},setCollisionByProperty:function(i,h,f){return r.SetCollisionByProperty(i,h,f,this.layer),this},setCollisionByExclusion:function(i,h,f){return r.SetCollisionByExclusion(i,h,f,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return r.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,f){return r.SetTileIndexCallback(i,h,f,this.layer),this},setTileLocationCallback:function(i,h,f,d,u,v){return r.SetTileLocationCallback(i,h,f,d,u,v,this.layer),this},shuffle:function(i,h,f,d){return r.Shuffle(i,h,f,d,this.layer),this},swapByIndex:function(i,h,f,d,u,v){return r.SwapByIndex(i,h,f,d,u,v,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,f,d){return this.tilemap.tileToWorldXY(i,h,f,d,this)},getTileCorners:function(i,h,f){return this.tilemap.getTileCorners(i,h,f,this)},weightedRandomize:function(i,h,f,d,u){return r.WeightedRandomize(h,f,d,u,i,this.layer),this},worldToTileX:function(i,h,f){return this.tilemap.worldToTileX(i,h,f,this)},worldToTileY:function(i,h,f){return this.tilemap.worldToTileY(i,h,f,this)},worldToTileXY:function(i,h,f,d,u){return this.tilemap.worldToTileXY(i,h,f,d,u,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});c.exports=l},16153:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=new a,o=new a,s=new a,r=function(e,n,l,i){var h=n.cull(l),f=h.length,d=l.alpha*n.alpha;if(!(f===0||d<=0)){var u=p,v=o,g=s;v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix);var y=e.currentContext,m=n.gidMap;y.save(),i?(u.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y,u.multiply(v,g),g.copyToContext(y)):(v.e-=l.scrollX*n.scrollFactorX,v.f-=l.scrollY*n.scrollFactorY,v.copyToContext(y)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var T=0;T<f;T++){var S=h[T],E=m[S.index];if(E){var C=E.image.getSourceImage(),w=E.getTileTextureCoordinates(S.index),A=E.tileWidth,P=E.tileHeight;if(!(w===null||A===0||P===0)){var M=A*.5,R=P*.5;w.x+=E.tileOffset.x,w.y+=E.tileOffset.y,y.save(),y.translate(S.pixelX+M,S.pixelY+R),S.rotation!==0&&y.rotate(S.rotation),(S.flipX||S.flipY)&&y.scale(S.flipX?-1:1,S.flipY?-1:1),y.globalAlpha=d*S.alpha,y.drawImage(C,w.x,w.y,A,P,-M,-R,A,P),y.restore()}}}y.restore()}};c.exports=r},19218:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99558),o=t(16153),c.exports={renderWebGL:p,renderCanvas:o}},99558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r){var e=s.cull(r),n=e.length,l=r.alpha*s.alpha;if(!(n===0||l<=0)){var i=s.gidMap,h=o.pipelines.set(s.pipeline,s),f=a.getTintAppendFloatAlpha,d=s.scrollFactorX,u=s.scrollFactorY,v=s.x,g=s.y,y=s.scaleX,m=s.scaleY;o.pipelines.preBatch(s);for(var T=0;T<n;T++){var S=e[T],E=i[S.index];if(E){var C=E.getTileTextureCoordinates(S.index),w=E.tileWidth,A=E.tileHeight;if(!(!C||w===0||A===0)){var P=w*.5,M=A*.5,R=E.glTexture,I=h.setTexture2D(R,s),D=w,Y=A,B=C.x,O=C.y,N=E.tileOffset.x,L=E.tileOffset.y,W=f(S.tint,l*S.alpha);h.batchTexture(s,R,R.width,R.height,v+S.pixelX*y+(P*y-N),g+S.pixelY*m+(M*m-L),w,A,y,m,S.rotation,S.flipX,S.flipY,d,u,P,M,B,O,D,Y,W,W,W,W,S.tintFill,0,0,r,null,!0,I,!0)}}}o.pipelines.postBatch(s)}};c.exports=p},33629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r,e,n,l,i,h,f,d,u){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f={}),d===void 0&&(d={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=f,this.tileData=d,this.tileOffset=new p,u!==void 0&&this.tileOffset.set(u.x,u.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),e=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),i=Math.floor(i),this.rows=l,this.columns=i,this.total=l*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,f=this.tileMargin+n,d=0;d<this.rows;d++){for(var u=0;u<this.columns;u++)this.texCoordinates.push({x:h,y:f}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=o},72023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=function(o,s,r){var e=a(o,s,!0,r),n=a(o,s-1,!0,r),l=a(o,s+1,!0,r),i=a(o-1,s,!0,r),h=a(o+1,s,!0,r),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(f&&(e.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),i&&i.collides&&(f&&(e.faceLeft=!1),i.faceRight=!f),h&&h.collides&&(f&&(e.faceRight=!1),h.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};c.exports=p},42573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=t(7386),o=function(s,r,e,n,l){for(var i=null,h=null,f=null,d=null,u=p(s,r,e,n,null,l),v=0;v<u.length;v++){var g=u[v];g&&(g.collides?(i=a(g.x,g.y-1,!0,l),h=a(g.x,g.y+1,!0,l),f=a(g.x-1,g.y,!0,l),d=a(g.x+1,g.y,!0,l),g.faceTop=!(i&&i.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(f&&f.collides),g.faceRight=!(d&&d.collides)):g.resetFaces())}};c.exports=o},33528:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=new a,o=function(s,r,e,n){var l=e.tilemapLayer,i=l.cullPaddingX,h=l.cullPaddingY,f=l.tilemap.tileToWorldXY(s,r,p,n,l);return f.x>n.worldView.x+l.scaleX*e.tileWidth*(-i-.5)&&f.x<n.worldView.right+l.scaleX*e.tileWidth*(i-.5)&&f.y>n.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&f.y<n.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};c.exports=o},1785:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),p=t(7386),o=t(62991),s=t(23029),r=function(e,n,l,i,h,f,d,u){d===void 0&&(d=!0);var v=p(e,n,l,i,null,u),g=[];v.forEach(function(w){var A=new s(w.layer,w.index,w.x,w.y,w.width,w.height,w.baseWidth,w.baseHeight);A.copy(w),g.push(A)});for(var y=h-e,m=f-n,T=0;T<g.length;T++){var S=g[T],E=S.x+y,C=S.y+m;o(E,C,u)&&u.data[C][E]&&(S.x=E,S.y=C,S.updatePixelXY(),u.data[C][E]=S)}d&&a(h-1,f-1,l+2,i+2,u),v.length=0,g.length=0};c.exports=r},78419:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p=t(7386),o=t(27987),s=function(r,e,n,l,i,h){n||(n={}),Array.isArray(r)||(r=[r]);var f=h.tilemapLayer;l||(l=f.scene),i||(i=l.cameras.main);var d=h.width,u=h.height,v=p(0,0,d,u,null,h),g=[],y,m=function(C,w,A){for(var P=0;P<A.length;P++){var M=A[P];C.hasOwnProperty(M)||(C[M]=w[M])}};for(y=0;y<v.length;y++){var T=v[y],S=a(n);if(r.indexOf(T.index)!==-1){var E=f.tileToWorldXY(T.x,T.y,void 0,i,h);S.x=E.x,S.y=E.y,m(S,T,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=T.width*.5,S.y+=T.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=T.tileset.image,S.frame=T.index-T.tileset.firstgid),g.push(l.make.sprite(S))}}if(Array.isArray(e))for(y=0;y<r.length;y++)o(r[y],e[y],0,0,d,u,h);else if(e!==null)for(y=0;y<r.length;y++)o(r[y],e,0,0,d,u,h);return g};c.exports=s},19545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(63448),o=t(56583),s=new a,r=function(e,n){var l=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(l.tileWidth*i.scaleX),f=Math.floor(l.tileHeight*i.scaleY),d=o(n.worldView.x-i.x,h,0,!0)-i.cullPaddingX,u=p(n.worldView.right-i.x,h,0,!0)+i.cullPaddingX,v=o(n.worldView.y-i.y,f,0,!0)-i.cullPaddingY,g=p(n.worldView.bottom-i.y,f,0,!0)+i.cullPaddingY;return s.setTo(d,v,u-d,g-v)};c.exports=r},30003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19545),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},35137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(42573),o=t(20576),s=function(r,e,n,l,i,h,f){for(var d=f.collideIndexes.indexOf(r)!==-1,u=a(e,n,l,i,null,f),v=0;v<u.length;v++)u[v].index=r,o(u[v],d);h&&p(e-1,n-1,l+2,i+2,f)};c.exports=s},40253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);return f.filter(o,s)};c.exports=p},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=!1);var s=0,r,e,n;if(p){for(e=o.height-1;e>=0;e--)for(r=o.width-1;r>=0;r--)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}}else for(e=0;e<o.height;e++)for(r=0;r<o.width;r++)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}return null};c.exports=x},66151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);return f.find(o,s)||null};c.exports=p},97560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);f.forEach(o,s)};c.exports=p},43305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(30003),o=t(9474),s=t(14018),r=t(29747),e=t(54503),n=function(l){return l===a.ORTHOGONAL?p:l===a.HEXAGONAL?o:l===a.STAGGERED?e:l===a.ISOMETRIC?s:r};c.exports=n},7423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),p=function(o,s,r,e){if(a(o,s,e)){var n=e.data[s][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};c.exports=p},60540:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=t(26099),o=new p,s=function(r,e,n,l,i){return i.tilemapLayer.worldToTileXY(r,e,!0,o,l),a(o.x,o.y,n,i)};c.exports=s},55826:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,i=e.tilemapLayer,h=0,f=0;i&&(r||(r=i.scene.cameras.main),h=i.x+r.scrollX*(1-i.scrollFactorX),f=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,l*=i.scaleY);var d=h+o*n,u=f+s*l;return[new a(d,u),new a(d+n,u),new a(d+n,u+l),new a(d,u+l)]};c.exports=p},11758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(27229),o=t(29747),s=t(55826),r=function(e){return e===a.ORTHOGONAL?s:e===a.ISOMETRIC?o:e===a.HEXAGONAL?p:(e===a.STAGGERED,o)};c.exports=r},39167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(29747),o=t(97281),s=function(r){return r===a.ORTHOGONAL?o:p};c.exports=s},62e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(19951),o=t(14127),s=t(29747),r=t(97202),e=t(70326),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};c.exports=n},5984:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(29747),o=t(28054),s=t(29650),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};c.exports=r},7386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r,e,n,l){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var i=a(n,"isNotEmpty",!1),h=a(n,"isColliding",!1),f=a(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),s<0&&(e+=s,s=0),o+r>l.width&&(r=Math.max(l.width-o,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var d=[],u=s;u<s+e;u++)for(var v=o;v<o+r;v++){var g=l.data[u][v];if(g!==null){if(i&&g.index===-1||h&&!g.collides||f&&!g.hasInterestingFace)continue;d.push(g)}}return d};c.exports=p},91141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55738),p=t(7386),o=t(91865),s=t(29747),r=t(26099),e=t(91907),n=function(d,u){return o.RectangleToTriangle(u,d)},l=new r,i=new r,h=new r,f=function(d,u,v,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var y=s;d instanceof a.Circle?y=o.CircleToRectangle:d instanceof a.Rectangle?y=o.RectangleToRectangle:d instanceof a.Triangle?y=n:d instanceof a.Line&&(y=o.LineToRectangle),g.tilemapLayer.worldToTileXY(d.left,d.top,!0,i,v);var m=i.x,T=i.y;g.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,h,v);var S=Math.ceil(h.x),E=Math.ceil(h.y),C=Math.max(S-m,1),w=Math.max(E-T,1),A=p(m,T,C,w,u,g),P=g.tileWidth,M=g.tileHeight;g.tilemapLayer&&(P*=g.tilemapLayer.scaleX,M*=g.tilemapLayer.scaleY);for(var R=[],I=new a.Rectangle(0,0,P,M),D=0;D<A.length;D++){var Y=A[D];g.tilemapLayer.tileToWorldXY(Y.x,Y.y,l,v),I.x=l.x,I.y=l.y,y(d,I)&&R.push(Y)}return R};c.exports=f},96523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(26099),o=new p,s=new p,r=function(e,n,l,i,h,f,d){var u=d.tilemapLayer.tilemap._convert.WorldToTileXY;u(e,n,!0,o,f,d);var v=o.x,g=o.y;u(e+l,n+i,!1,s,f,d);var y=Math.ceil(s.x),m=Math.ceil(s.y);return a(v,g,y-v,m-g,h,d)};c.exports=r},96113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(20242),o=t(10095),s=function(r){return r===a.ORTHOGONAL?o:p};c.exports=s},16926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(86625),o=t(96897),s=t(29747),r=t(15108),e=t(85896),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};c.exports=n},55762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(20242),o=t(51900),s=t(63288),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};c.exports=r},45091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),p=function(o,s,r){if(a(o,s,r)){var e=r.data[s][o];return e!==null&&e.index>-1}else return!1};c.exports=p},24152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45091),p=t(26099),o=new p,s=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,o,n);var i=o.x,h=o.y;return a(i,h,l)};c.exports=s},90454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=s.hexSideLength,f,d,u,v;if(s.staggerAxis==="y"){var g=(i-h)/2+h;f=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,u=p(r.worldView.y-n.y,g,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,g,0,!0)+n.cullPaddingY}else{var y=(l-h)/2+h;f=p(r.worldView.x-n.x,y,0,!0)-n.cullPaddingX,d=a(r.worldView.right-n.x,y,0,!0)+n.cullPaddingX,u=p(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:f,right:d,top:u,bottom:v}};c.exports=o},9474:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90454),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},27229:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19951),p=t(26099),o=new p,s=function(r,e,n,l){var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(i*=f.scaleX,h*=f.scaleY);var d=a(r,e,o,n,l),u=[],v=.5773502691896257,g,y;l.staggerAxis==="y"?(g=v*i,y=h/2):(g=i/2,y=v*h);for(var m=0;m<6;m++){var T=2*Math.PI*(.5-m)/6;u.push(new p(d.x+g*Math.cos(T),d.y+y*Math.sin(T)))}return u};c.exports=s},19951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,d=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),d=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,i*=h.scaleY);var u=l/2,v=i/2,g,y,m=n.staggerAxis,T=n.staggerIndex;return m==="y"?(g=f+l*o+l,y=d+1.5*s*v+v,s%2===0&&(T==="odd"?g-=u:g+=u)):m==="x"&&T==="odd"&&(g=f+1.5*o*u+u,y=d+i*o+i,o%2===0&&(T==="odd"?y-=v:y+=v)),r.set(g,y)};c.exports=p},86625:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,h*=f.scaleY);var d=.5773502691896257,u=-.3333333333333333,v=0,g=.6666666666666666,y=i/2,m=h/2,T,S,E,C,w;l.staggerAxis==="y"?(T=(o-y)/(d*i),S=(s-m)/m,E=d*T+u*S,C=v*T+g*S):(T=(o-y)/y,S=(s-m)/(d*h),E=u*T+d*S,C=g*T+v*S),w=-E-C;var A=Math.round(E),P=Math.round(C),M=Math.round(w),R=Math.abs(A-E),I=Math.abs(P-C),D=Math.abs(M-w);R>I&&R>D?A=-P-M:I>D&&(P=-A-M);var Y,B=P;return l.staggerIndex==="odd"?Y=B%2===0?P/2+A:P/2+A-.5:Y=B%2===0?P/2+A:P/2+A+.5,e.set(Y,B)};c.exports=p},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t>=0&&t<p.width&&a>=0&&a<p.height};c.exports=x},14018:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33528),p=function(o,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=o.tilemapLayer,l=o.data,i=o.width,h=o.height,f=n.skipCull,d=0,u=i,v=0,g=h,y,m,T;if(e===0)for(m=v;m<g;m++)for(y=d;y<u;y++)T=l[m][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,m,o,s)||r.push(T));else if(e===1)for(m=v;m<g;m++)for(y=u;y>=d;y--)T=l[m][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,m,o,s)||r.push(T));else if(e===2)for(m=g;m>=v;m--)for(y=d;y<u;y++)T=l[m][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,m,o,s)||r.push(T));else if(e===3)for(m=g;m>=v;m--)for(y=u;y>=d;y--)T=l[m][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,m,o,s)||r.push(T));return n.tilesDrawn=r.length,n.tilesTotal=i*h,r};c.exports=p},14127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,d=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var u=f+(o-s)*(l/2),v=d+(o+s)*(i/2);return r.set(u,v)};c.exports=p},96897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l,i){e||(e=new a);var h=l.baseTileWidth,f=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),s=s-(d.y+n.scrollY*(1-d.scrollFactorY)),f*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),h*=d.scaleX);var u=h/2,v=f/2;o=o-u,i||(s=s-f);var g=.5*(o/u+s/v),y=.5*(-o/u+s/v);return r&&(g=Math.floor(g),y=Math.floor(y)),e.set(g,y)};c.exports=p},71558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),p=t(62991),o=t(72023),s=t(20576),r=function(e,n,l,i,h){if(i===void 0&&(i=!0),!p(n,l,h))return null;var f,d=h.data[l][n],u=d&&d.collides;e instanceof a?(h.data[l][n]===null&&(h.data[l][n]=new a(h,e.index,n,l,h.tileWidth,h.tileHeight)),h.data[l][n].copy(e)):(f=e,h.data[l][n]===null?h.data[l][n]=new a(h,f,n,l,h.tileWidth,h.tileHeight):h.data[l][n].index=f);var v=h.data[l][n],g=h.collideIndexes.indexOf(v.index)!==-1;if(f=e instanceof a?e.index:e,f===-1)v.width=h.tileWidth,v.height=h.tileHeight;else{var y=h.tilemapLayer.tilemap,m=y.tiles,T=m[f][2],S=y.tilesets[T];v.width=S.tileWidth,v.height=S.tileHeight}return s(v,g),i&&u!==v.collides&&o(n,l,h),v};c.exports=r},26303:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71558),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(e,n,!0,o,i,h),a(r,o.x,o.y,l,h)};c.exports=s},14051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),p=t(71558),o=function(s,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,h=s[0].length,f=0;f<i;f++)for(var d=0;d<h;d++){var u=s[f][d];p(u,r+d,e+f,!1,l)}n&&a(r-1,e-1,h+2,i+2,l)};c.exports=o},77389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(26546),o=function(s,r,e,n,l,i){var h,f=a(s,r,e,n,{},i);if(!l)for(l=[],h=0;h<f.length;h++)l.indexOf(f[h].index)===-1&&l.push(f[h].index);for(h=0;h<f.length;h++)f[h].index=p(l)};c.exports=o},63557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),p=t(62991),o=t(72023),s=function(r,e,n,l,i){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!p(r,e,i))return null;var h=i.data[e][r];if(h)i.data[e][r]=n?null:new a(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return l&&h&&h.collides&&o(r,e,i),h};c.exports=s},94178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63557),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(r,e,!0,o,i,h),a(o.x,o.y,n,l,h)};c.exports=s},15533:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(3956),o=new p(105,210,231,150),s=new p(243,134,48,200),r=new p(40,39,37,150),e=function(n,l,i){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:s,d=l.faceColor!==void 0?l.faceColor:r,u=a(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<u.length;v++){var g=u[v],y=g.tileset?g.tileset.tileOffset:{x:0,y:0},m=g.width,T=g.height,S=g.pixelX-y.x,E=g.pixelY-y.y,C=g.collides?f:h;C!==null&&(n.fillStyle(C.color,C.alpha/255),n.fillRect(S,E,m,T)),S+=1,E+=1,m-=2,T-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),g.faceTop&&n.lineBetween(S,E,S+m,E),g.faceRight&&n.lineBetween(S+m,E,S+m,E+T),g.faceBottom&&n.lineBetween(S,E+T,S+m,E+T),g.faceLeft&&n.lineBetween(S,E,S,E+T))}};c.exports=e},27987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),f=0;f<h.length;f++)h[f]&&h[f].index===o&&(h[f].index=s)};c.exports=p},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,a.left),i=Math.min(r,a.right),h=Math.max(0,a.top),f=Math.min(e,a.bottom),d,u,v;if(p===0)for(u=h;u<f;u++)for(d=l;s[u]&&d<i;d++)v=s[u][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===1)for(u=h;u<f;u++)for(d=i;s[u]&&d>=l;d--)v=s[u][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===2)for(u=f;u>=h;u--)for(d=l;s[u]&&d<i;d++)v=s[u][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===3)for(u=f;u>=h;u--)for(d=i;s[u]&&d>=l;d--)v=s[u][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);return n.tilesDrawn=o.length,n.tilesTotal=r*e,o};c.exports=x},57068:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++)o(r[h],e,l);if(i)for(var f=0;f<l.height;f++)for(var d=0;d<l.width;d++){var u=l.data[f][d];u&&r.indexOf(u.index)!==-1&&a(u,e)}n&&p(0,0,l.width,l.height,l)};c.exports=s},37266:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i,h){if(n===void 0&&(n=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(r>e)){for(var f=r;f<=e;f++)o(f,n,i);if(h)for(var d=0;d<i.height;d++)for(var u=0;u<i.width;u++){var v=i.data[d][u];v&&v.index>=r&&v.index<=e&&a(v,n)}l&&p(0,0,i.width,i.height,i)}};c.exports=s},75661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var f=l.data[i][h];f&&r.indexOf(f.index)===-1&&(a(f,e),o(f.index,e,l))}n&&p(0,0,l.width,l.height,l)};c.exports=s},64740:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(97022),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var f=l.data[i][h];if(f){for(var d in r)if(o(f.properties,d)){var u=r[d];Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++)f.properties[d]===u[v]&&a(f,e)}}}n&&p(0,0,l.width,l.height,l)};c.exports=s},63307:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var i=e.data[n][l];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&a(i,s)}}r&&p(0,0,e.width,e.height,e)};c.exports=o},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.collideIndexes.indexOf(t);a&&o===-1?p.collideIndexes.push(t):!a&&o!==-1&&p.collideIndexes.splice(o,1)};c.exports=x},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=x},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(typeof t=="number")o.callbacks[t]=a!==null?{callback:a,callbackContext:p}:void 0;else for(var s=0,r=t.length;s<r;s++)o.callbacks[t[s]]=a!==null?{callback:a,callbackContext:p}:void 0};c.exports=x},93254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(o,s,r,e,null,i),f=0;f<h.length;f++)h[f].setCollisionCallback(n,l)};c.exports=p},32903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(33680),o=function(s,r,e,n,l){var i=a(s,r,e,n,null,l),h=i.map(function(d){return d.index});p(h);for(var f=0;f<i.length;f++)i[f].index=h[f]};c.exports=o},61325:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=p(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,u=a(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:h,right:f,top:d,bottom:u}};c.exports=o},54503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61325),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},97202:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,d=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var u=f+o*l+s%2*(l/2),v=d+s*(i/2);return r.set(u,v)};c.exports=p},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*(o/2)+o};c.exports=x},15108:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),h*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),i*=f.scaleX);var d=r?Math.floor(s/(h/2)):s/(h/2),u=r?Math.floor((o+d%2*.5*i)/i):(o+d%2*.5*i)/i;return e.set(u,d)};c.exports=p},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=o.baseTileHeight,r=o.tilemapLayer;return r&&(p||(p=r.scene.cameras.main),t=t-(r.y+p.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};c.exports=x},86560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),f=0;f<h.length;f++)h[f]&&(h[f].index===o?h[f].index=s:h[f].index===s&&(h[f].index=o))};c.exports=p},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileWidth,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.x+a.scrollX*(1-s.scrollFactorX),o*=s.scaleX),r+t*o};c.exports=x},70326:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97281),p=t(29650),o=t(26099),s=function(r,e,n,l,i){return n||(n=new o(0,0)),n.x=a(r,l,i),n.y=p(e,l,i),n};c.exports=s},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*o};c.exports=x},77366:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(75508),o=function(s,r,e,n,l,i){if(l){var h,f=a(s,r,e,n,null,i),d=0;for(h=0;h<l.length;h++)d+=l[h].weight;if(!(d<=0))for(h=0;h<f.length;h++){for(var u=p.RND.frac()*d,v=0,g=-1,y=0;y<l.length;y++)if(v+=l[y].weight,u<=v){var m=l[y].index;g=Array.isArray(m)?m[Math.floor(p.RND.frac()*m.length)]:m;break}f[h].index=g}}};c.exports=o},10095:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(r,0,e,o,n,l),o.x};c.exports=s},85896:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){r===void 0&&(r=!0),e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,h*=f.scaleY);var d=o/i,u=s/h;return r&&(d=Math.floor(d),u=Math.floor(u)),e.set(d,u)};c.exports=p},63288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(0,r,e,o,n,l),o.y};c.exports=s},81086:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:t(91907)};c.exports=a},62501:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=a(!1,o,p.ORIENTATION),c.exports=o},14977:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.id=o(e,"id",0),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},87010:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},48700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=new a({initialize:function(r){r===void 0&&(r={}),this.name=p(r,"name","object layer"),this.id=p(r,"id",0),this.opacity=p(r,"opacity",1),this.properties=p(r,"properties",{}),this.propertyTypes=p(r,"propertytypes",{}),this.type=p(r,"type","objectgroup"),this.visible=p(r,"visible",!0),this.objects=p(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=o},6641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=function(o){return o=o.toLowerCase(),o==="isometric"?a.ISOMETRIC:o==="staggered"?a.STAGGERED:o==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};c.exports=p},46177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(2342),o=t(82593),s=t(46594),r=t(87021),e=function(n,l,i,h,f,d){var u;switch(l){case a.ARRAY_2D:u=p(n,i,h,f,d);break;case a.CSV:u=o(n,i,h,f,d);break;case a.TILED_JSON:u=s(n,i,d);break;case a.WELTMEISTER:u=r(n,i,d);break;default:console.warn("Unrecognized tilemap data format: "+l),u=null}return u};c.exports=e},2342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(14977),o=t(87010),s=t(23029),r=function(e,n,l,i,h){for(var f=new p({tileWidth:l,tileHeight:i}),d=new o({name:e,tileWidth:l,tileHeight:i,format:a.ARRAY_2D,layers:[f]}),u=[],v=n.length,g=0,y=0;y<n.length;y++){u[y]=[];for(var m=n[y],T=0;T<m.length;T++){var S=parseInt(m[T],10);isNaN(S)||S===-1?u[y][T]=h?null:new s(f,-1,T,y,l,i):u[y][T]=new s(f,S,T,y,l,i)}g===0&&(g=m.length)}return d.width=f.width=g,d.height=f.height=v,d.widthInPixels=f.widthInPixels=g*l,d.heightInPixels=f.heightInPixels=v*i,f.data=u,d};c.exports=r},82593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(2342),o=function(s,r,e,n,l){var i=r.trim().split(`
`).map(function(f){return f.split(",")}),h=p(s,i,e,n,l);return h.format=a.CSV,h};c.exports=o},6656:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14977),p=t(23029),o=function(s,r){for(var e=[],n=0;n<s.layer.length;n++){for(var l=s.layer[n],i=new a({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],f=[],d=0;d<l.data.length;d++){for(var u=0;u<l.data[d].length;u++){var v=l.data[d][u]-1,g;v>-1?g=new p(i,v,u,d,l.tilesize,l.tilesize):g=r?null:new p(i,-1,u,d,l.tilesize,l.tilesize),h.push(g)}f.push(h),h=[]}i.data=f,e.push(i)}return e};c.exports=o},96483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=function(o){for(var s=[],r=[],e=0;e<o.layer.length;e++){var n=o.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new a(l,0,n.tilesize,n.tilesize,0,0)))}return s};c.exports=p},87021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(87010),o=t(6656),s=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,f=0;f<n.layer.length;f++)n.layer[f].width>i&&(i=n.layer[f].width),n.layer[f].height>h&&(h=n.layer[f].height);var d=new p({width:i,height:h,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return d.layers=o(n,l),d.tilesets=s(n),d};c.exports=r},52833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=function(o){for(var s,r,e,n,l,i=0;i<o.layers.length;i++){s=o.layers[i],n=null;for(var h=0;h<s.data.length;h++){l=s.data[h];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(e=o.tiles[r.index][2],n=o.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=a(r.properties,n.tileProperties[r.index-n.firstgid])))}}};c.exports=p},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=window.atob(t),p=a.length,o=new Array(p/4),s=0;s<p;s+=4)o[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return o};c.exports=x},84101:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=function(o){var s,r,e=[];for(s=0;s<o.imageCollections.length;s++)for(var n=o.imageCollections[s],l=n.images,i=0;i<l.length;i++){var h=l[i],f={x:0,y:h.height-o.tileHeight};r=new a(h.image,h.gid,h.width,h.height,0,0,void 0,void 0,f),r.updateTileData(h.width,h.height),o.tilesets.push(r)}for(s=0;s<o.tilesets.length;s++){r=o.tilesets[s];for(var d=r.tileMargin,u=r.tileMargin,v=0,g=0,y=0,m=r.firstgid;m<r.firstgid+r.total&&(e[m]=[d,u,s],d+=r.tileWidth+r.tileSpacing,v++,!(v===r.total||(g++,g===r.columns&&(d=r.tileMargin,u+=r.tileHeight+r.tileSpacing,g=0,y++,y===r.rows))));m++);}return e};c.exports=p},79677:(c,x,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r){if(!s)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+a(s,"startx",0)*o.tilewidth+a(s,"offsetx",0),n=s.y+a(s,"starty",0)*o.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+n}};c.exports=p},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,t=1073741824,a=536870912,p=function(o){var s=!!(o&x),r=!!(o&t),e=!!(o&a);o=o&536870911;var n=0,l=!1;return s&&r&&e?(n=Math.PI/2,l=!0):s&&r&&!e?(n=Math.PI,l=!1):s&&!r&&e?(n=Math.PI/2,l=!1):s&&!r&&!e?(n=0,l=!0):!s&&r&&e?(n=3*Math.PI/2,l=!1):!s&&r&&!e?(n=Math.PI,l=!0):!s&&!r&&e?(n=3*Math.PI/2,l=!0):!s&&!r&&!e&&(n=0,l=!1),{gid:o,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};c.exports=p},12635:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(79677),o=function(s){for(var r=[],e=[],n=p(s);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var i=p(s,l,n);e.push(n),n=i}continue}var h=a(l,"offsetx",0)+a(l,"startx",0),f=a(l,"offsety",0)+a(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+h+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:a(l,"properties",{})})}return r};c.exports=o},46594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(51233),p=t(84101),o=t(91907),s=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),i=t(22611),h=t(28200),f=t(24619),d=function(u,v,g){var y=s(v),m=new n({width:y.width,height:y.height,name:u,tileWidth:y.tilewidth,tileHeight:y.tileheight,orientation:e(y.orientation),format:r.TILED_JSON,version:y.version,properties:y.properties,renderOrder:y.renderorder,infinite:y.infinite});if(m.orientation===o.HEXAGONAL)if(m.hexSideLength=y.hexsidelength,m.staggerAxis=y.staggeraxis,m.staggerIndex=y.staggerindex,m.staggerAxis==="y"){var T=(m.tileHeight-m.hexSideLength)/2;m.widthInPixels=m.tileWidth*(m.width+.5),m.heightInPixels=m.height*(m.hexSideLength+T)+T}else{var S=(m.tileWidth-m.hexSideLength)/2;m.widthInPixels=m.width*(m.hexSideLength+S)+S,m.heightInPixels=m.tileHeight*(m.height+.5)}m.layers=h(y,g),m.images=l(y);var E=f(y);return m.tilesets=E.tilesets,m.imageCollections=E.imageCollections,m.objects=i(y),m.tiles=p(m),a(m),m};c.exports=d},52205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18254),p=t(29920),o=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var i=a(e,s);if(i.x+=n,i.y+=l,e.gid){var h=p(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(o):e.polygon?i.polygon=e.polygon.map(o):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};c.exports=r},22611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(52205),o=t(48700),s=t(79677),r=function(e){for(var n=[],l=[],i=s(e);i.i<i.layers.length||l.length>0;){if(i.i>=i.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=l.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var f=s(e,h,i);l.push(i),i=f}continue}h.name=i.name+h.name;for(var d=i.x+a(h,"startx",0)+a(h,"offsetx",0),u=i.y+a(h,"starty",0)+a(h,"offsety",0),v=[],g=0;g<h.objects.length;g++){var y=p(h.objects[g],d,u);v.push(y)}var m=new o(h);m.objects=v,n.push(m)}return n};c.exports=r},28200:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41868),p=t(91907),o=t(79677),s=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),i=function(h,f){for(var d=r(h,"infinite",!1),u=[],v=[],g=o(h);g.i<g.layers.length||v.length>0;){if(g.i>=g.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=v.pop();continue}var y=g.layers[g.i];if(g.i++,y.type!=="tilelayer"){if(y.type==="group"){var m=o(h,y,g);v.push(g),g=m}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var T=0;T<y.chunks.length;T++)y.chunks[T].data=a(y.chunks[T].data);y.data&&(y.data=a(y.data)),delete y.encoding}var S,E,C,w,A,P,M=[],R=0;if(d){var I=r(y,"startx",0)+y.x,D=r(y,"starty",0)+y.y;S=new e({name:g.name+y.name,id:y.id,x:g.x+r(y,"offsetx",0)+I*h.tilewidth,y:g.y+r(y,"offsety",0)+D*h.tileheight,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(A=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+A)+A):(P=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+P)+P,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var Y=0;Y<y.height;Y++){M[Y]=[null];for(var B=0;B<y.width;B++)M[Y][B]=null}for(Y=0,et=y.chunks.length;Y<et;Y++)for(var O=y.chunks[Y],N=O.x-I,L=O.y-D,W=0,F=0,U=O.data.length;F<U;F++){var Z=R+N,J=W+L;E=n(O.data[F]),E.gid>0?(C=new l(S,E.gid,Z,J,h.tilewidth,h.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,M[J][Z]=C):(w=f?null:new l(S,-1,Z,J,h.tilewidth,h.tileheight),M[J][Z]=w),R++,R===O.width&&(W++,R=0)}}else{S=new e({name:g.name+y.name,id:y.id,x:g.x+r(y,"offsetx",0)+y.x,y:g.y+r(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(A=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+A)+A):(P=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+P)+P,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var Q=[],k=0,et=y.data.length;k<et;k++)E=n(y.data[k]),E.gid>0?(C=new l(S,E.gid,R,M.length,h.tilewidth,h.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,Q.push(C)):(w=f?null:new l(S,-1,R,M.length,h.tilewidth,h.tileheight),Q.push(w)),R++,R===y.width&&(M.push(Q),R=0,Q=[])}S.data=M,u.push(S)}return u};c.exports=i},24619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=t(16536),o=t(52205),s=t(57880),r=function(e){for(var n=[],l=[],i=null,h,f=0;f<e.tilesets.length;f++){var d=e.tilesets[f];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var u=new a(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var v=void 0,g=void 0;if(Array.isArray(d.tiles)){v=v||{},g=g||{};for(var y=0;y<d.tiles.length;y++){var m=d.tiles[y];if(m.properties){var T={};m.properties.forEach(function(Y){T[Y.name]=Y.value}),g[m.id]=T}if(m.objectgroup&&((v[m.id]||(v[m.id]={})).objectgroup=m.objectgroup,m.objectgroup.objects)){var S=m.objectgroup.objects.map(function(Y){return o(Y)});v[m.id].objectgroup.objects=S}m.animation&&((v[m.id]||(v[m.id]={})).animation=m.animation),m.type&&((v[m.id]||(v[m.id]={})).type=m.type)}}Array.isArray(d.wangsets)&&(v=v||{},g=g||{},s(d.wangsets,v)),v&&(u.tileData=v,u.tileProperties=g)}else if(d.tileproperties&&(u.tileProperties=d.tileproperties),d.tiles){u.tileData=d.tiles;for(h in u.tileData){var E=u.tileData[h].objectgroup;if(E&&E.objects){var C=E.objects.map(function(Y){return o(Y)});u.tileData[h].objectgroup.objects=C}}}u.updateTileData(d.imagewidth,d.imageheight),n.push(u)}else{var w=new p(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),A=0;for(y=0;y<d.tiles.length;y++){m=d.tiles[y];var P=m.image,M=parseInt(m.id,10),R=d.firstgid+M,I=m.imagewidth,D=m.imageheight;w.addImage(R,P,I,D),A=Math.max(M,A)}w.maxId=A,l.push(w)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:n,imageCollections:l}};c.exports=r},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<t.length;p++){var o=t[p],s=p;if(o.name&&o.name!==""&&(s=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},e={},n,l,i;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)i=1+n,l=o.edgecolors[n],l.name!==""&&(r[i]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)i=1+n,l=o.cornercolors[n],l.name!==""&&(e[i]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],i=1+n,l.name!==""&&(r[i]=e[i]=l.name);for(var h=[r,e,r,e,r,e,r,e],f=0;f<o.wangtiles.length;f++){var d=o.wangtiles[f],u=a[d.tileid]||(a[d.tileid]={});u=u.wangid||(u.wangid={});for(var v=[],g=0;g<Math.min(h.length,d.wangid.length);g++){if(l=d.wangid[g],l===0){v.push(void 0);continue}var y=h[g][l];if(y!==void 0){v.push(y);continue}v.push(l)}u[s]=v}}}};c.exports=x},96761:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=t(94880),r=t(72905),e=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof s){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new s(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,i,h){return this.addEvent({delay:n,callback:l,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=n[l];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var i,h;for(i=0;i<n;i++){h=this._pendingRemoval[i];var f=this._active.indexOf(h);f>-1&&this._active.splice(f,1),h.destroy()}for(i=0;i<l;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var f=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,f>=h.delay)for(;f>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),f-=h.delay,h.repeatCount--;h.elapsed=f,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),c.exports=e},96120:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(39429),s=t(95540),r=t(44594),e=t(89809),n=new a({Extends:p,initialize:function(i,h){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(r.PRE_UPDATE,this.preUpdate,this),f.on(r.UPDATE,this.update,this),f.once(r.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,i=this.events,h=!1,f=this.systems,d;for(l=0;l<i.length;l++){var u=i[l];if(!u.complete&&u.time<=this.elapsed){if(u.complete=!0,this.totalComplete++,d=u.target?u.target:this,u.if&&!u.if.call(d,u))continue;if(u.once&&(h=!0),u.set&&u.target)for(var v in u.set)u.target[v]=u.set[v];this.iteration&&u.repeat++,u.loop&&u.repeat&&u.loop.call(d),u.tween&&(u.tweenInstance=f.tweens.add(u.tween)),u.sound&&(typeof u.sound=="string"?f.sound.play(u.sound):f.sound.play(u.sound.key,u.sound.config)),u.event&&this.emit(u.event,d),u.run&&u.run.call(d),u.stop&&this.stop()}}if(h)for(l=0;l<i.length;l++)i[l].complete&&i[l].once&&(i.splice(l,1),l--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&(h.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&(h.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var i=this.events,h=0;h<i.length;h++){var f=i[h];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var f=0;f<l.length;f++){var d=l[f],u=s(d,"at",0),v=s(d,"in",null);v!==null&&(u=this.elapsed+v);var g=s(d,"from",null);g!==null&&(u=h+g),i.push({complete:!1,time:u,repeat:0,if:s(d,"if",null),run:s(d,"run",null),loop:s(d,"loop",null),event:s(d,"event",null),target:s(d,"target",null),set:s(d,"set",null),tween:s(d,"tween",null),sound:s(d,"sound",null),once:s(d,"once",!1),stop:s(d,"stop",!1)}),h=u}return this.complete=!1,this},clear:function(){for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&h.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),c.exports=n},94880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=new a({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=p(s,"delay",0),this.repeat=p(s,"repeat",0),this.loop=p(s,"loop",!1),this.callback=p(s,"callback",void 0),this.callbackScope=p(s,"callbackScope",this),this.args=p(s,"args",[]),this.timeScale=p(s,"timeScale",1),this.startAt=p(s,"startAt",0),this.paused=p(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=o},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(83419),o=t(43491),s=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),i=t(8357),h=t(43960),f=t(26012),d=new p({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(u){Array.isArray(u)||(u=[u]);for(var v=[],g=0;g<u.length;g++){var y=u[g];y instanceof l||y instanceof h?v.push(y):Array.isArray(y.tweens)?v.push(f(this,y)):v.push(i(this,y))}return v.length===1?v[0]:v},add:function(u){var v=u,g=this.tweens;return v instanceof l||v instanceof h||(Array.isArray(v.tweens)?v=f(this,v):v=i(this,v)),g.push(v.reset()),v},addMultiple:function(u){for(var v,g=[],y=this.tweens,m=0;m<u.length;m++)v=u[m],v instanceof l||v instanceof h||(Array.isArray(v.tweens)?v=f(this,v):v=i(this,v)),y.push(v.reset()),g.push(v);return g},chain:function(u){var v=f(this,u);return this.tweens.push(v.init()),v},getChainedTweens:function(u){return u.getChainedTweens()},has:function(u){return this.tweens.indexOf(u)>-1},existing:function(u){return this.has(u)||this.tweens.push(u.reset()),this},addCounter:function(u){var v=s(this,u);return this.tweens.push(v.reset()),v},stagger:function(u,v){return n(u,v)},setLagSmooth:function(u,v){return u===void 0&&(u=1/1e-8),v===void 0&&(v=0),this.maxLag=u,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(u){return u===void 0&&(u=240),this.gap=1e3/u,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(u){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var g=this.prevTime-this.startTime,y=g-this.nextTime,m=g-this.time*1e3;return y>0||u?(g/=1e3,this.time=g,this.nextTime+=y+(y>=this.gap?4:this.gap-y)):m=0,m},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(u){u===void 0&&(u=!1);var v=this.getDelta(u);if(!(v<=0)){this.processing=!0;var g,y,m=[],T=this.tweens;for(g=0;g<T.length;g++)y=T[g],y.update(v)&&m.push(y);var S=m.length;if(S&&T.length>0){for(g=0;g<S;g++){y=m[g];var E=T.indexOf(y);E>-1&&(y.isPendingRemove()||y.isDestroyed())&&(T.splice(E,1),y.destroy())}m.length=0}this.processing=!1}},remove:function(u){return this.processing?u.setPendingRemoveState():(a(this.tweens,u),u.setRemovedState()),this},reset:function(u){return this.existing(u),u.seek(),u.setActiveState(),this},makeActive:function(u){return this.existing(u),u.setActiveState(),this},each:function(u,v){var g,y=[null];for(g=1;g<arguments.length;g++)y.push(arguments[g]);return this.tweens.forEach(function(m){y[0]=m,u.apply(v,y)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(u){var v=[],g=this.tweens;Array.isArray(u)?u=o(u):u=[u];for(var y=u.length,m=0;m<g.length;m++)for(var T=g[m],S=0;S<y;S++)!T.isDestroyed()&&T.hasTarget(u[S])&&v.push(T);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(u){return this.timeScale=u,this},isTweening:function(u){for(var v=this.tweens,g,y=0;y<v.length;y++)if(g=v[y],g.isPlaying()&&g.hasTarget(u))return!0;return!1},killAll:function(){for(var u=this.processing?this.getTweens():this.tweens,v=0;v<u.length;v++)u[v].destroy();return this.processing||(u.length=0),this},killTweensOf:function(u){for(var v=this.getTweensOf(u),g=0;g<v.length;g++)v[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",d,"tweens"),c.exports=d},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t&&t.hasOwnProperty(a)?t[a]:p};c.exports=x},6113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62640),p=t(35355),o=function(s,r){var e=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))e=a[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}s=p(s.substring(0,s.indexOf(".")+1)+n),a.hasOwnProperty(s)&&(e=a[s])}else typeof s=="function"&&(e=s);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};c.exports=o},91389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89318),p=t(77259),o=t(28392),s={bezier:a,catmull:p,catmullrom:p,linear:o},r=function(e){if(e===null)return null;var n=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(n=s[e]):typeof e=="function"&&(n=e),n};c.exports=r},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?o=function(r,e,n,l,i,h){return t[a](r,e,n,l,i,h)}:o=function(){return t[a]}}else typeof p=="function"?o=p:o=function(){return p};return o};c.exports=x},82985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81076),p=function(o){var s,r=[];if(o.hasOwnProperty("props"))for(s in o.props)s.substring(0,1)!=="_"&&r.push({key:s,value:o.props[s]});else for(s in o)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:o[s]});return r};c.exports=p},62329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=function(o){var s=a(o,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};c.exports=p},17777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||o(l)}var n=function(l,i){var h,f=function(Y,B,O){return O},d=function(Y,B,O){return O},u=null,v=typeof i;if(v==="number")f=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},f=function(){return i[i.length-1]};else if(v==="string"){var g=i.toLowerCase(),y=g.substring(0,6)==="random",m=g.substring(0,3)==="int";if(y||m){var T=g.indexOf("("),S=g.indexOf(")"),E=g.indexOf(",");if(T&&S&&E){var C=parseFloat(g.substring(T+1,E)),w=parseFloat(g.substring(E+1,S));y?f=function(){return p(C,w)}:f=function(){return a(C,w)}}else throw new Error("invalid random() format")}else{g=g[0];var A=parseFloat(i.substr(2));switch(g){case"+":f=function(Y,B,O){return O+A};break;case"-":f=function(Y,B,O){return O-A};break;case"*":f=function(Y,B,O){return O*A};break;case"/":f=function(Y,B,O){return O/A};break;default:f=function(){return parseFloat(i)}}}}else if(v==="function")f=i;else if(v==="object")if(e(i))o(i)&&(u=i.getActive),r(i)&&(f=i.getEnd),s(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))h=n(l,i.value);else{var P=i.hasOwnProperty("to"),M=i.hasOwnProperty("from"),R=i.hasOwnProperty("start");if(P&&(M||R)){if(h=n(l,i.to),R){var I=n(l,i.start);h.getActive=I.getEnd}if(M){var D=n(l,i.from);h.getStart=D.getEnd}}}return h||(h={getActive:u,getEnd:f,getStart:d}),h};c.exports=n},88032:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(55292),l=t(35154),i=t(17777),h=t(269),f=t(86081),d=function(u,v,g){if(v instanceof f)return v.parent=u,v;g===void 0?g=p:g=h(p,g);var y=e(v,"from",0),m=e(v,"to",1),T=[{value:y}],S=e(v,"delay",g.delay),E=e(v,"easeParams",g.easeParams),C=e(v,"ease",g.ease),w=i("value",m),A=new f(u,T),P=A.add(0,"value",w.getEnd,w.getStart,w.getActive,r(e(v,"ease",C),e(v,"easeParams",E)),n(v,"delay",S),e(v,"duration",g.duration),s(v,"yoyo",g.yoyo),e(v,"hold",g.hold),e(v,"repeat",g.repeat),e(v,"repeatDelay",g.repeatDelay),!1,!1);P.start=y,P.current=y,A.completeDelay=o(v,"completeDelay",0),A.loop=Math.round(o(v,"loop",0)),A.loopDelay=Math.round(o(v,"loopDelay",0)),A.paused=s(v,"paused",!1),A.persist=s(v,"persist",!1),A.isNumberTween=!0,A.callbackScope=l(v,"callbackScope",A);for(var M=a.TYPES,R=0;R<M.length;R++){var I=M[R],D=l(v,I,!1);if(D){var Y=l(v,I+"Params",[]);A.setCallback(I,D,Y)}}return A};c.exports=d},93109:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6113),p=t(35154),o=t(36383),s=function(r,e){e===void 0&&(e={});var n,l=p(e,"start",0),i=p(e,"ease",null),h=p(e,"grid",null),f=p(e,"from",0),d=f==="first",u=f==="center",v=f==="last",g=typeof f=="number",y=Array.isArray(r),m=parseFloat(y?r[0]:r),T=y?parseFloat(r[1]):0,S=Math.max(m,T);if(y&&(l+=m),h){var E=h[0],C=h[1],w=0,A=0,P=0,M=0,R=[];v?(w=E-1,A=C-1):g?(w=f%E,A=Math.floor(f/E)):u&&(w=(E-1)/2,A=(C-1)/2);for(var I=o.MIN_SAFE_INTEGER,D=0;D<C;D++){R[D]=[];for(var Y=0;Y<E;Y++){P=w-Y,M=A-D;var B=Math.sqrt(P*P+M*M);B>I&&(I=B),R[D][Y]=B}}}var O=i?a(i):null;return h?n=function(N,L,W,F){var U=0,Z=F%E,J=Math.floor(F/E);Z>=0&&Z<E&&J>=0&&J<C&&(U=R[J][Z]);var Q;if(y){var k=T-m;O?Q=U/I*k*O(U/I):Q=U/I*k}else O?Q=U*m*O(U/I):Q=U*m;return Q+l}:n=function(N,L,W,F,U){U--;var Z;d?Z=F:u?Z=Math.abs(U/2-F):v?Z=U-F:g&&(Z=Math.abs(f-F));var J;if(y){var Q;u?Q=(T-m)/U*(Z*2):Q=(T-m)/U*Z,O?J=Q*O(Z/U):J=Q}else O?J=U*S*O(Z/U):J=Z*m;return J+l},n};c.exports=s},8357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(91389),l=t(55292),i=t(82985),h=t(62329),f=t(35154),d=t(17777),u=t(269),v=t(86081),g=function(y,m,T){if(m instanceof v)return m.parent=y,m;T===void 0?T=p:T=u(p,T);var S=h(m);!S&&T.targets&&(S=T.targets);for(var E=i(m),C=e(m,"delay",T.delay),w=e(m,"duration",T.duration),A=e(m,"easeParams",T.easeParams),P=e(m,"ease",T.ease),M=e(m,"hold",T.hold),R=e(m,"repeat",T.repeat),I=e(m,"repeatDelay",T.repeatDelay),D=s(m,"yoyo",T.yoyo),Y=s(m,"flipX",T.flipX),B=s(m,"flipY",T.flipY),O=e(m,"interpolation",T.interpolation),N=function(q,tt,nt,ht){if(nt==="texture"){var gt=ht,mt=void 0;Array.isArray(ht)?(gt=ht[0],mt=ht[1]):ht.hasOwnProperty("value")?(gt=ht.value,Array.isArray(ht.value)?(gt=ht.value[0],mt=ht.value[1]):typeof ht.value=="string"&&(gt=ht.value)):typeof ht=="string"&&(gt=ht),q.addFrame(tt,gt,mt,l(ht,"delay",C),e(ht,"duration",w),e(ht,"hold",M),e(ht,"repeat",R),e(ht,"repeatDelay",I),s(ht,"flipX",Y),s(ht,"flipY",B))}else{var at=d(nt,ht),ft=n(e(ht,"interpolation",O));q.add(tt,nt,at.getEnd,at.getStart,at.getActive,r(e(ht,"ease",P),e(ht,"easeParams",A)),l(ht,"delay",C),e(ht,"duration",w),s(ht,"yoyo",D),e(ht,"hold",M),e(ht,"repeat",R),e(ht,"repeatDelay",I),s(ht,"flipX",Y),s(ht,"flipY",B),ft,ft?ht:null)}},L=new v(y,S),W=0;W<E.length;W++)for(var F=E[W].key,U=E[W].value,Z=0;Z<S.length;Z++)F==="scale"&&!S[Z].hasOwnProperty("scale")?(N(L,Z,"scaleX",U),N(L,Z,"scaleY",U)):N(L,Z,F,U);L.completeDelay=o(m,"completeDelay",0),L.loop=Math.round(o(m,"loop",0)),L.loopDelay=Math.round(o(m,"loopDelay",0)),L.paused=s(m,"paused",!1),L.persist=s(m,"persist",!1),L.callbackScope=e(m,"callbackScope",L);for(var J=a.TYPES,Q=0;Q<J.length;Q++){var k=J[Q],et=f(m,k,!1);if(et){var it=f(m,k+"Params",[]);L.setCallback(k,et,it)}}return L};c.exports=g},26012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(23568),o=t(57355),s=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(i,h){if(h instanceof n)return h.parent=i,h;var f=new n(i);f.startDelay=r(h,"delay",0),f.completeDelay=p(h,"completeDelay",0),f.loop=Math.round(p(h,"loop",r(h,"repeat",0))),f.loopDelay=Math.round(p(h,"loopDelay",r(h,"repeatDelay",0))),f.paused=o(h,"paused",!1),f.persist=o(h,"persist",!1),f.callbackScope=r(h,"callbackScope",f);var d,u=a.TYPES;for(d=0;d<u.length;d++){var v=u[d],g=r(h,v,!1);if(g){var y=r(h,v+"Params",[]);f.setCallback(v,g,y)}}var m=r(h,"tweens",null);if(Array.isArray(m)){var T=[],S=s(h),E=void 0;for(S&&(E={targets:S}),d=0;d<m.length;d++)T.push(e(f,m[d],E));f.add(T)}return f};c.exports=l},30231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=a},70402:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(842),s=t(86353),r=new a({Extends:p,initialize:function(n){p.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=r},95042:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(842),o=t(86353),s=new a({initialize:function(e,n,l,i,h,f,d,u,v,g){this.tween=e,this.targetIndex=n,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=f,this.repeat=d,this.repeatDelay=u,this.repeatCounter=0,this.flipX=v,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,i,0,n,e,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var f=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=f*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,i=l.totalTargets,h=this.targetIndex,f=l.targets[h],d=this.key,u=d!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),u&&(e||n)&&(this.start=this.getStartValue(f,d,this.start,h,i,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,u&&(this.end=this.getEndValue(f,d,this.start,h,i,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,u&&(this.current=this.start,f[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=s},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=x},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(83419),o=t(842),s=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),i=t(42220),h=new p({Extends:a,initialize:function(d,u){a.call(this,d),this.targets=u,this.totalTargets=u.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R){var I=new l(this,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R);return this.totalData=this.data.push(I),I},addFrame:function(f,d,u,v,g,y,m,T,S,E){var C=new i(this,f,d,u,v,g,y,m,T,S,E);return this.totalData=this.data.push(C),C},getValue:function(f){f===void 0&&(f=0);var d=null;return this.data&&(d=this.data[f].current),d},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,d,u){if(u===void 0&&(u=!1),f!=="texture")for(var v=0;v<this.totalData;v++){var g=this.data[v];g.key===f&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=d,u&&(g.start=g.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,d,u){if(f===void 0&&(f=0),d===void 0&&(d=16.6),u===void 0&&(u=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;u||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,f>0){for(var g=Math.floor(f/d),y=f-g*d,m=0;m<g;m++)this.update(d);y>0&&this.update(y)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,u=0;u<this.totalData;u++)d[u].reset(f);this.duration=Math.max(this.duration,.01);var v=this.duration,g=this.completeDelay,y=this.loopCounter,m=this.loopDelay;y>0?this.totalDuration=v+g+(v+m)*y:this.totalDuration=v+g},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var d=!1;if(this.isActive())for(var u=this.data,v=0;v<this.totalData;v++)u[v].update(f)&&(d=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,d){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var u=this.callbacks[d];u&&u.func.apply(this.callbackScope,[this,this.targets].concat(u.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),s.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=h},43960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(70402),o=t(83419),s=t(842),r=t(44603),e=t(39429),n=t(86353),l=new o({Extends:p,initialize:function(h){p.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var f=this.data,d=0;d<h.length;d++){var u=h[d];u.parent=this,f.push(u.reset())}return this.totalData=f.length,this},remove:function(i){return a(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,f=0;f<this.totalData;f++)if(h[f].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,f=0;f<h;f++)i[f].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),i=0));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,h){this.emit(i,this);var f=this.callbacks[h];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),c.exports=l},48177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,f,d,u,v,g,y,m,T,S,E,C,w,A){a.call(this,n,l,v,g,y,m,T,S,E,C),this.key=i,this.getActiveValue=d,this.getEndValue=h,this.getStartValue=f,this.ease=u,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=w,this.interpolationData=A},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,i=this.targetIndex,h=n.targets[i],f=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,f,h[f],i,l,n),this.end=this.getEndValue(h,f,this.start,i,l,n),this.current=this.start,h[f]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),u=this.isPlayingBackward();if(d||u){var v=this.elapsed,g=this.duration,y=0,m=!1;v+=e,v>=g?(y=v-g,v=g,m=!0):v<0&&(v=0);var T=p(v/g,0,1);this.elapsed=v,this.progress=T,this.previous=this.current,d||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,h[f]=this.current,m&&(d?(n.isNumberTween&&(this.current=this.end,h[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(n.isNumberTween&&(this.current=this.start,h[f]=this.current),this.setStateFromStart(y))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key,f=this.current,d=this.previous;l.emit(e,l,h,i,f,d);var u=l.callbacks[n];u&&u.func.apply(l.callbackScope,[l,i,h,f,d].concat(u.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=r},42220:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,f,d,u,v,g,y,m){a.call(this,n,l,f,d,!1,u,v,g,y,m),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=v!==0},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,i=n.targets[l];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),f=this.isPlayingBackward();if(h||f){var d=this.elapsed,u=this.duration,v=0,g=!1;d+=e,d>=u?(v=d-u,d=u,g=!0):d<0&&(d=0);var y=p(d/u,0,1);this.elapsed=d,this.progress=y,g&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,i);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,i,h].concat(f.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=r},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=x},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&x(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function a(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function p(r,e,n,l){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,n);if(h!==!1){var f=l||r;if(a(f.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,h)}else r.prototype[i]=e[i]}}function o(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)p(r,e[n].prototype||e[n])}}function s(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),o(e,i),p(e,r,!0,n),e}s.extend=p,s.mixin=o,s.ignoreFinals=!1,c.exports=s},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};c.exports=x},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){if(s===void 0&&(s=t),p>0){var r=p-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),o&&o.call(s,a),a):null;for(var e=a.length-1;e>=0;)t.indexOf(a[e])!==-1&&a.splice(e,1),e--;if(e=a.length,e===0)return null;p>0&&e>r&&(a.splice(r),e=r);for(var n=0;n<e;n++){var l=a[n];t.push(l),o&&o.call(s,l)}return a};c.exports=x},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){if(p===void 0&&(p=0),r===void 0&&(r=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(p,0,a),s&&s.call(r,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.pop(),n--;if(n=a.length,n===0)return null;o>0&&n>e&&(a.splice(e),n=e);for(var l=n-1;l>=0;l--){var i=a[l];t.splice(p,0,i),s&&s.call(r,i)}return a};c.exports=x},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(a)),a};c.exports=x},21612:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=0;if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];h[s]===r&&l++}return l};c.exports=p},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o,s=[null];for(o=3;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t.length;o++)s[0]=t[o],a.apply(p,s);return t};c.exports=x},36914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n)){var l,i=[null];for(l=5;l<arguments.length;l++)i.push(arguments[l]);for(l=e;l<n;l++)i[0]=o[l],s.apply(r,i)}return o};c.exports=p},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a.length){if(a.length===1)return a[0]}else return NaN;var o=1,s,r;if(p){if(t<a[0][p])return a[0];for(;a[o][p]<t;)o++}else for(;a[o]<t;)o++;return o>a.length&&(o=a.length),p?(s=a[o-1][p],r=a[o][p],r-t<=t-s?a[o]:a[o-1]):(s=a[o-1],r=a[o],r-t<=t-s?r:s)};c.exports=x},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?x(t[p],a):a.push(t[p]);return a};c.exports=x},46710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=[];if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];(!s||s&&r===void 0&&h.hasOwnProperty(s)||s&&r!==void 0&&h[s]===r)&&l.push(h)}return l};c.exports=p},58731:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),e!==-1){if(a(o,e,n))for(var l=e;l<n;l++){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}}else if(a(o,0,n))for(var l=n;l>=0;l--){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};c.exports=p},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=t.length);var o=a+Math.floor(Math.random()*p);return t[o]===void 0?null:t[o]};c.exports=x},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o>s||(t.splice(o,1),s=t.indexOf(p),t.splice(s+1,0,a)),t};c.exports=x},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o<s||(t.splice(o,1),s===0?t.unshift(a):t.splice(s,0,a)),t};c.exports=x},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);if(p>0){var o=t[p-1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};c.exports=x},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.indexOf(a);if(o===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return o!==p&&(t.splice(o,1),t.splice(p,0,a)),a};c.exports=x},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);if(p!==-1&&p<t.length-1){var o=t[p+1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};c.exports=x},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=[],r,e=!1;if((p||o)&&(e=!0,p||(p=""),o||(o="")),a<t)for(r=t;r>=a;r--)e?s.push(p+r.toString()+o):s.push(r);else for(r=t;r<=a;r++)e?s.push(p+r.toString()+o):s.push(r);return s};c.exports=x},593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2284),p=function(o,s,r){o===void 0&&(o=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=o,o=0);for(var e=[],n=Math.max(a((s-o)/(r||1)),0),l=0;l<n;l++)e.push(o),o+=r;return e};c.exports=p},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(p,o,s){var r=p[o];p[o]=p[s],p[s]=r}function t(p,o){return p<o?-1:p>o?1:0}var a=function(p,o,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=p.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var n=r-s+1,l=o-s+1,i=Math.log(n),h=.5*Math.exp(2*i/3),f=.5*Math.sqrt(i*h*(n-h)/n)*(l-n/2<0?-1:1),d=Math.max(s,Math.floor(o-l*h/n+f)),u=Math.min(r,Math.floor(o+(n-l)*h/n+f));a(p,o,d,u,e)}var v=p[o],g=s,y=r;for(x(p,s,o),e(p[r],v)>0&&x(p,s,r);g<y;){for(x(p,g,y),g++,y--;e(p[g],v)<0;)g++;for(;e(p[y],v)>0;)y--}e(p[s],v)===0?x(p,s,y):(y++,x(p,y,r)),y<=o&&(s=y+1),o<=y&&(r=y-1)}};c.exports=a},88492:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=t(33680),o=function(r,e,n){for(var l=[],i=0;i<r.length;i++)for(var h=0;h<e.length;h++)for(var f=0;f<n;f++)l.push({a:r[i],b:e[h]});return l},s=function(r,e,n){var l=a(n,"max",0),i=a(n,"qty",1),h=a(n,"random",!1),f=a(n,"randomB",!1),d=a(n,"repeat",0),u=a(n,"yoyo",!1),v=[];if(f&&p(e),d===-1)if(l===0)d=0;else{var g=r.length*e.length*i;u&&(g*=2),d=Math.ceil(l/g)}for(var y=0;y<=d;y++){var m=o(r,e,i);h&&p(m),v=v.concat(m),u&&(m.reverse(),v=v.concat(m))}return l&&v.splice(l),v};c.exports=s},72905:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r,e){e===void 0&&(e=o);var n;if(!Array.isArray(s))return n=o.indexOf(s),n!==-1?(a(o,n),r&&r.call(e,s),s):null;for(var l=s.length-1,i=[];l>=0;){var h=s[l];n=o.indexOf(h),n!==-1&&(a(o,n),i.push(h),r&&r.call(e,h)),l--}return i};c.exports=p},60248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r,e){if(e===void 0&&(e=o),s<0||s>o.length-1)throw new Error("Index out of bounds");var n=a(o,s);return r&&r.call(e,n),n};c.exports=p},81409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(s===void 0&&(s=0),r===void 0&&(r=o.length),n===void 0&&(n=o),a(o,s,r)){var l=r-s,i=o.splice(s,l);if(e)for(var h=0;h<i.length;h++){var f=i[h];e.call(n,f)}return i}else return[]};c.exports=p},31856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r){s===void 0&&(s=0),r===void 0&&(r=o.length);var e=s+Math.floor(Math.random()*r);return a(o,e)};c.exports=p},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.indexOf(a),s=t.indexOf(p);return o!==-1&&s===-1?(t[o]=p,!0):!1};c.exports=x},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.shift(),t.push(p);return p};c.exports=x},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.pop(),t.unshift(p);return p};c.exports=x},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t.length;if(a<0||a>=s||a>=p||p>s){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=x},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(a)),a};c.exports=x},17810:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];i.hasOwnProperty(s)&&(i[s]=r)}return o};c.exports=p},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length-1;a>0;a--){var p=Math.floor(Math.random()*(a+1)),o=t[a];t[a]=t[p],t[p]=o}return t};c.exports=x},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=/\D/g;return t.sort(function(p,o){return parseInt(p.replace(a,""),10)-parseInt(o.replace(a,""),10)}),t};c.exports=x},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){if(!(a>=t.length)){for(var p=t.length-1,o=t[a],s=a;s<p;s++)t[s]=t[s+1];return t.length=p,o}};c.exports=x},19186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82264);function p(e,n){return String(e).localeCompare(n)}function o(e,n){var l=e.length;if(l<=1)return e;for(var i=new Array(l),h=1;h<l;h*=2){s(e,n,h,i);var f=e;e=i,i=f}return e}function s(e,n,l,i){var h=e.length,f=0,d=l*2,u,v,g,y,m;for(u=0;u<h;u+=d)for(v=u+l,g=v+l,v>h&&(v=h),g>h&&(g=h),y=u,m=v;;)if(y<v&&m<g)n(e[y],e[m])<=0?i[f++]=e[y++]:i[f++]=e[m++];else if(y<v)i[f++]=e[y++];else if(m<g)i[f++]=e[m++];else break}var r=function(e,n){if(n===void 0&&(n=p),!e||e.length<2)return e;if(a.features.stableSort)return e.sort(n);var l=o(e,n);return l!==e&&s(l,null,e.length,e),e};c.exports=r},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[o]=p,t[s]=a,t};c.exports=x},37105:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,p=1;p<t.length;p++)if(t[p].length!==a)return!1;return!0};c.exports=x},63362:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41836),p=t(86922),o=function(s){var r="";if(!p(s))return r;for(var e=0;e<s.length;e++){for(var n=0;n<s[e].length;n++){var l=s[e][n].toString();l!=="undefined"?r+=a(l,2):r+="?",n<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var i=0;i<s[e].length;i++)r+="---",i<s[e].length-1&&(r+="+");r+=`
`}}return r};c.exports=o},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.reverse()};c.exports=x},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};c.exports=x},98717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o){return a(o,180)};c.exports=p},44657:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,90);return o};c.exports=p},37829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86922),p=t(2429),o=function(s,r){if(r===void 0&&(r=90),!a(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=p(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=p(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};c.exports=o},92632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,-90);return o};c.exports=p},69512:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86003),p=t(49498),o=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?a(s,Math.abs(e)):p(s,e)),r!==0)for(var n=0;n<s.length;n++){var l=s[n];r<0?a(l,Math.abs(r)):p(l,r)}return s};c.exports=o},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length,p=t[0].length,o=new Array(p),s=0;s<p;s++){o[s]=new Array(a);for(var r=a-1;r>-1;r--)o[s][r]=t[r][s]}return o};c.exports=x},54915:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,p){for(var o=new Uint8Array(a),s=o.length,r=p?"data:"+p+";base64,":"",e=0;e<s;e+=3)r+=x[o[e]>>2],r+=x[(o[e]&3)<<4|o[e+1]>>4],r+=x[(o[e+1]&15)<<2|o[e+2]>>6],r+=x[o[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<x.length;a++)t[x.charCodeAt(a)]=a;var p=function(o){o=o.substr(o.indexOf(",")+1);var s=o.length,r=s*.75,e=0,n,l,i,h;o[s-1]==="="&&(r--,o[s-2]==="="&&r--);for(var f=new ArrayBuffer(r),d=new Uint8Array(f),u=0;u<s;u+=4)n=t[o.charCodeAt(u)],l=t[o.charCodeAt(u+1)],i=t[o.charCodeAt(u+2)],h=t[o.charCodeAt(u+3)],d[e++]=n<<2|l>>4,d[e++]=(l&15)<<4|i>>2,d[e++]=(i&3)<<6|h&63;return f};c.exports=p},65839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={};for(var p in t)Array.isArray(t[p])?a[p]=t[p].slice(0):a[p]=t[p];return a};c.exports=x},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a,p,o;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(o in t)p=t[o],a[o]=x(p);return a};c.exports=x},79291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41212),p=function(){var o,s,r,e,n,l,i=arguments[0]||{},h=1,f=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},h=2),f===h&&(i=this,--h);h<f;h++)if((o=arguments[h])!=null)for(s in o)r=i[s],e=o[s],i!==e&&(d&&e&&(a(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&a(r)?r:{},i[s]=p(d,l,e)):e!==void 0&&(i[s]=e));return i};c.exports=p},23568:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75508),p=t(35154),o=function(s,r,e){var n=p(s,r,null);if(n===null)return e;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};c.exports=o},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=typeof t;return!t||o==="number"||o==="string"?p:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:p};c.exports=x},82840:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=t(45319),o=function(s,r,e,n,l){l===void 0&&(l=e);var i=a(s,r,l);return p(i,e,n)};c.exports=o},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(!t&&!o||typeof t=="number")return p;if(t&&t.hasOwnProperty(a))return t[a];if(o&&o.hasOwnProperty(a))return o[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),r=t,e=o,n=p,l=p,i=!0,h=!0,f=0;f<s.length;f++)r&&r.hasOwnProperty(s[f])?(n=r[s[f]],r=r[s[f]]):i=!1,e&&e.hasOwnProperty(s[f])?(l=e[s[f]],e=e[s[f]]):h=!1;return i?n:h?l:p}else return p};c.exports=x},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<a.length;p++)if(!t.hasOwnProperty(a[p]))return!1;return!0};c.exports=x},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<a.length;p++)if(t.hasOwnProperty(a[p]))return!0;return!1};c.exports=x},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.hasOwnProperty(a)};c.exports=x},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=x},46975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};c.exports=p},269:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};c.exports=p},18254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97022),p=function(o,s){for(var r={},e=0;e<s.length;e++){var n=s[e];a(o,n)&&(r[n]=o[n])}return r};c.exports=p},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=p,!0;if(a.indexOf(".")!==-1){for(var o=a.split("."),s=t,r=t,e=0;e<o.length;e++)if(s.hasOwnProperty(o[e]))r=s,s=s[o[e]];else return!1;return r[o[o.length-1]]=p,!0}return!1};c.exports=x},1183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.replace(/%([0-9]+)/g,function(p,o){return a[Number(o)-1]})};c.exports=x},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=" "),o===void 0&&(o=3),t=t.toString();var s=0;if(a+1>=t.length)switch(o){case 1:t=new Array(a+1-t.length).join(p)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2),e=s-r;t=new Array(e+1).join(p)+t+new Array(r+1).join(p);break;default:t=t+new Array(a+1-t.length).join(p);break}return t};c.exports=x},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===0?t.slice(1):t.slice(0,a)+t.slice(a+1)};c.exports=x},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.split("").reverse().join("")};c.exports=x},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,p=t==="x"?a:a&3|8;return p.toString(16)})};c.exports=x},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=x},31749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},V={};function X(c){var x=V[c];if(x!==void 0)return x.exports;var t=V[c]={exports:{}};return G[c](t,t.exports,X),t.exports}X.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var b=X(85454);return b})())})(io);var Yh=io.exports;const Us=Xh(Yh);function Hh(j){j.actions||(j.actions={});for(const[z,G]of Object.entries(j.actions))if(typeof G.apply!="function")throw new Error(`Action "${z}" must have an apply function`);return j}function jh(j,z){const G=[];function V(X,b,c=[]){if(typeof X!=typeof b||X===null||b===null){X!==b&&G.push({op:"replace",path:c,value:b});return}if(Array.isArray(b)){if(!Array.isArray(X)||X.length!==b.length){G.push({op:"replace",path:c,value:b});return}for(let x=0;x<b.length;x++)V(X[x],b[x],[...c,String(x)]);return}if(typeof b=="object"){const x=Object.keys(X||{}),t=Object.keys(b||{});for(const a of x)a in b||G.push({op:"remove",path:[...c,a]});for(const a of t)a in X?V(X[a],b[a],[...c,a]):G.push({op:"add",path:[...c,a],value:b[a]});return}X!==b&&G.push({op:"replace",path:c,value:b})}return V(j,z),G}function Kh(j,z){const{op:G,path:V,value:X}=z;if(V.length===0)throw new Error("Cannot patch root - path must have at least one element");let b=j;for(let x=0;x<V.length-1;x++){const t=V[x];t in b||(b[t]={}),b=b[t]}const c=V[V.length-1];switch(G){case"add":case"replace":b[c]=X;break;case"remove":Array.isArray(b)?b.splice(Number(c),1):delete b[c];break}}function nr(j){if(j===null||typeof j!="object")return j;if(j instanceof Date)return new Date(j.getTime());if(j instanceof Array)return j.map(G=>nr(G));const z={};for(const G in j)Object.prototype.hasOwnProperty.call(j,G)&&(z[G]=nr(j[G]));return z}class Zh{constructor(z,G,V){At(this,"gameDef");At(this,"transport");At(this,"config");At(this,"state",{});At(this,"previousState",{});At(this,"isHost");At(this,"syncIntervalId",null);At(this,"unsubscribes",[]);At(this,"strict");At(this,"stateChangeCallbacks",[]);At(this,"eventCallbacks",new Map);this.gameDef=z,this.transport=G,this.config=V,this.isHost=V.isHost,this.strict=V.strict??!1;const X=V.playerIds||[];if(z.setup&&(this.state=z.setup({playerIds:X})),this.previousState=nr(this.state),this.setupTransport(),this.isHost){const b=V.syncInterval||50;this.syncIntervalId=setInterval(()=>this.syncState(),b)}}getState(){return this.state}getTransport(){return this.transport}mutateState(z){if(!this.isHost){this.handleError("mutateState called on non-host - ignoring");return}z(this.state),this.notifyStateChange()}submitAction(z,G,V){if(!this.gameDef.actions){this.handleError("No actions defined in game");return}const X=this.gameDef.actions[z];if(!X){const x=Object.keys(this.gameDef.actions),t=this.findClosestMatch(z,x);let a=`Action "${z}" not found.`;x.length>0?(a+=`

Available actions: ${x.join(", ")}`,t&&(a+=`

Did you mean "${t}"?`)):a+=`

No actions are defined in your game.`,this.handleError(a);return}const b=this.transport.getPlayerId(),c={playerId:b,targetId:V||b,isHost:this.isHost};this.isHost&&(X.apply(this.state,c,G),this.notifyStateChange()),this.transport.send({type:"action",payload:{actionName:z,input:G,context:c},senderId:b})}broadcastEvent(z,G){const V=this.transport.getPlayerId();this.transport.send({type:"event",payload:{eventName:z,payload:G},senderId:V})}onEvent(z,G){return this.eventCallbacks.has(z)||this.eventCallbacks.set(z,[]),this.eventCallbacks.get(z).push(G),()=>{const V=this.eventCallbacks.get(z);if(V){const X=V.indexOf(G);X!==-1&&V.splice(X,1)}}}onChange(z){return this.stateChangeCallbacks.push(z),()=>{const G=this.stateChangeCallbacks.indexOf(z);G!==-1&&this.stateChangeCallbacks.splice(G,1)}}destroy(){this.syncIntervalId&&clearInterval(this.syncIntervalId),this.unsubscribes.forEach(z=>z()),this.unsubscribes=[]}setupTransport(){this.unsubscribes.push(this.transport.onMessage((z,G)=>{this.handleMessage(z,G)})),this.unsubscribes.push(this.transport.onPeerJoin(z=>{this.gameDef.onPlayerJoin&&this.gameDef.onPlayerJoin(this.state,z),this.isHost&&this.transport.send({type:"state_sync",payload:{fullState:this.state}},z)})),this.unsubscribes.push(this.transport.onPeerLeave(z=>{this.gameDef.onPlayerLeave&&this.gameDef.onPlayerLeave(this.state,z)}))}handleMessage(z,G){switch(z.type){case"state_sync":this.isHost||this.handleStateSync(z.payload);break;case"action":this.isHost&&G!==this.transport.getPlayerId()&&this.handleActionFromClient(z.payload);break;case"event":this.handleEvent(G,z.payload);break}}handleStateSync(z){if(z.fullState)this.state=z.fullState,this.notifyStateChange();else if(z.patches){for(const G of z.patches)Kh(this.state,G);this.notifyStateChange()}}handleActionFromClient(z){const{actionName:G,input:V,context:X}=z;if(!this.gameDef.actions){this.handleError("No actions defined");return}const b=this.gameDef.actions[G];if(!b){const c=Object.keys(this.gameDef.actions);this.handleError(`Unknown action from client: ${G}. Available: ${c.join(", ")}`);return}b.apply(this.state,X,V),this.notifyStateChange()}handleEvent(z,G){const{eventName:V,payload:X}=G,b=this.eventCallbacks.get(V)||[];for(const c of b)c(z,V,X)}syncState(){if(!this.isHost)return;const z=jh(this.previousState,this.state);z.length>0&&(this.transport.send({type:"state_sync",payload:{patches:z}}),this.previousState=nr(this.state))}notifyStateChange(){for(const z of this.stateChangeCallbacks)z(this.state)}handleError(z){if(this.strict)throw new Error(`[Martini] ${z}`);console.warn(`[Martini] ${z}`)}findClosestMatch(z,G){if(G.length===0)return null;let V=1/0,X=null;for(const b of G){const c=this.levenshteinDistance(z.toLowerCase(),b.toLowerCase());c<V&&c<=3&&(V=c,X=b)}return X}levenshteinDistance(z,G){const V=z.length,X=G.length,b=Array(V+1).fill(null).map(()=>Array(X+1).fill(0));for(let c=0;c<=V;c++)b[c][0]=c;for(let c=0;c<=X;c++)b[0][c]=c;for(let c=1;c<=V;c++)for(let x=1;x<=X;x++)z[c-1]===G[x-1]?b[c][x]=b[c-1][x-1]:b[c][x]=Math.min(b[c-1][x]+1,b[c][x-1]+1,b[c-1][x-1]+1);return b[V][X]}}class Jh{constructor(z,G,V={}){At(this,"runtime");At(this,"scene");At(this,"trackedSprites",new Map);At(this,"remoteSprites",new Map);At(this,"syncIntervalId",null);At(this,"spriteNamespace");At(this,"autoInterpolate");At(this,"lerpFactor");this.runtime=z,this.scene=G,this.spriteNamespace=V.spriteNamespace||"_sprites",this.autoInterpolate=V.autoInterpolate!==!1,this.lerpFactor=V.lerpFactor??.3,this.runtime.mutateState(X=>{X[this.spriteNamespace]||(X[this.spriteNamespace]={})}),this.runtime.onChange(X=>{this.isHost()||this.updateSpritesFromState(X)})}get myId(){return this.runtime.getTransport().getPlayerId()}isHost(){return this.runtime.getTransport().isHost()}trackSprite(z,G,V={}){if(this.trackedSprites.set(G,{sprite:z,options:V}),this.isHost()&&(this.syncSpriteToState(G,z,V),!this.syncIntervalId)){const X=V.syncInterval||50;this.syncIntervalId=setInterval(()=>this.syncAllSprites(),X)}}untrackSprite(z){this.trackedSprites.delete(z),this.runtime.mutateState(G=>{const V=G[this.spriteNamespace];V&&V[z]&&delete V[z]}),this.trackedSprites.size===0&&this.syncIntervalId&&(clearInterval(this.syncIntervalId),this.syncIntervalId=null)}broadcast(z,G){this.runtime.broadcastEvent(z,G)}on(z,G){return this.runtime.onEvent(z,(V,X,b)=>{G(V,b)})}destroy(){this.syncIntervalId&&clearInterval(this.syncIntervalId),this.trackedSprites.clear(),this.remoteSprites.clear()}syncAllSprites(){if(this.isHost())for(const[z,{sprite:G,options:V}]of this.trackedSprites.entries())this.syncSpriteToState(z,G,V)}syncSpriteToState(z,G,V){const X=V.properties||["x","y","rotation","alpha"],b={};for(const c of X)c in G&&(b[c]=G[c]);this.runtime.mutateState(c=>{c[this.spriteNamespace]||(c[this.spriteNamespace]={});const x=c[this.spriteNamespace];x[z]={...x[z],...b}})}updateSpritesFromState(z){const G=z[this.spriteNamespace];if(!(this.isHost()||!G)){for(const[V,X]of this.trackedSprites.entries()){const b=G[V];b&&this.applySpriteData(X.sprite,b)}for(const[V,X]of Object.entries(G)){if(this.trackedSprites.has(V))continue;const b=this.remoteSprites.get(V);b&&(b._targetX=X.x,b._targetY=X.y,b._targetRotation=X.rotation,b._targetX!==void 0&&b.x===void 0&&(b.x=b._targetX,b.y=b._targetY,b.rotation=b._targetRotation||0))}}}applySpriteData(z,G){"x"in G&&(z.x=G.x),"y"in G&&(z.y=G.y),"rotation"in G&&(z.rotation=G.rotation),"alpha"in G&&(z.alpha=G.alpha),"scaleX"in G&&(z.scaleX=G.scaleX),"scaleY"in G&&(z.scaleY=G.scaleY),"visible"in G&&(z.visible=G.visible)}registerRemoteSprite(z,G){this.remoteSprites.set(z,G)}updateInterpolation(){if(!this.isHost())for(const[z,G]of this.remoteSprites.entries())G._targetX!==void 0&&(G.x+=(G._targetX-G.x)*this.lerpFactor,G.y+=(G._targetY-G.y)*this.lerpFactor,G._targetRotation!==void 0&&(G.rotation+=(G._targetRotation-G.rotation)*this.lerpFactor))}unregisterRemoteSprite(z){const G=this.remoteSprites.get(z);G&&G.destroy&&G.destroy(),this.remoteSprites.delete(z)}onChange(z){return this.runtime.onChange(z)}getState(){return this.runtime.getState()}}var Es=Object.defineProperty,Qh=Object.getOwnPropertyDescriptor,$h=Object.getOwnPropertyNames,kh=Object.prototype.hasOwnProperty,se=(j,z)=>()=>(j&&(z=j(j=0)),z),Et=(j,z)=>()=>(z||j((z={exports:{}}).exports,z),z.exports),_e=(j,z)=>{for(var G in z)Es(j,G,{get:z[G],enumerable:!0})},qh=(j,z,G,V)=>{if(z&&typeof z=="object"||typeof z=="function")for(let X of $h(z))!kh.call(j,X)&&X!==G&&Es(j,X,{get:()=>z[X],enumerable:!(V=Qh(z,X))||V.enumerable});return j},Xt=j=>qh(Es({},"__esModule",{value:!0}),j),yt=se(()=>{}),Ut={};_e(Ut,{_debugEnd:()=>_r,_debugProcess:()=>qr,_events:()=>pn,_eventsCount:()=>gn,_exiting:()=>Ur,_fatalExceptions:()=>Qr,_getActiveHandles:()=>lo,_getActiveRequests:()=>ho,_kill:()=>Vr,_linkedBinding:()=>ao,_maxListeners:()=>vn,_preload_modules:()=>dn,_rawDebug:()=>Br,_startProfilerIdleNotifier:()=>tn,_stopProfilerIdleNotifier:()=>en,_tickCallback:()=>kr,abort:()=>an,addListener:()=>mn,allowedNodeEnvironmentFlags:()=>Zr,arch:()=>Sr,argv:()=>Ar,argv0:()=>fn,assert:()=>uo,binding:()=>Lr,browser:()=>Dr,chdir:()=>br,config:()=>zr,cpuUsage:()=>ai,cwd:()=>Or,debugPort:()=>un,default:()=>As,dlopen:()=>oo,domain:()=>Gr,emit:()=>En,emitWarning:()=>Rr,env:()=>Cr,execArgv:()=>Pr,execPath:()=>ln,exit:()=>jr,features:()=>Jr,hasUncaughtExceptionCaptureCallback:()=>fo,hrtime:()=>Mi,kill:()=>Hr,listeners:()=>vo,memoryUsage:()=>Yr,moduleLoadList:()=>Nr,nextTick:()=>no,off:()=>yn,on:()=>ve,once:()=>xn,openStdin:()=>Kr,pid:()=>on,platform:()=>Er,ppid:()=>hn,prependListener:()=>Cn,prependOnceListener:()=>An,reallyExit:()=>Wr,release:()=>Ir,removeAllListeners:()=>Sn,removeListener:()=>Tn,resourceUsage:()=>Xr,setSourceMapsEnabled:()=>cn,setUncaughtExceptionCaptureCallback:()=>$r,stderr:()=>nn,stdin:()=>sn,stdout:()=>rn,title:()=>Tr,umask:()=>Fr,uptime:()=>co,version:()=>wr,versions:()=>Mr});function Cs(j){throw new Error("Node.js process "+j+" is not supported by JSPM core outside of Node.js")}function _h(){!Ve||!ze||(Ve=!1,ze.length?fe=ze.concat(fe):di=-1,fe.length&&ro())}function ro(){if(!Ve){var j=setTimeout(_h,0);Ve=!0;for(var z=fe.length;z;){for(ze=fe,fe=[];++di<z;)ze&&ze[di].run();di=-1,z=fe.length}ze=null,Ve=!1,clearTimeout(j)}}function no(j){var z=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)z[G-1]=arguments[G];fe.push(new so(j,z)),fe.length===1&&!Ve&&setTimeout(ro,0)}function so(j,z){this.fun=j,this.array=z}function _t(){}function ao(j){Cs("_linkedBinding")}function oo(j){Cs("dlopen")}function ho(){return[]}function lo(){return[]}function uo(j,z){if(!j)throw new Error(z||"assertion error")}function fo(){return!1}function co(){return ge.now()/1e3}function Mi(j){var z=Math.floor((Date.now()-ge.now())*.001),G=ge.now()*.001,V=Math.floor(G)+z,X=Math.floor(G%1*1e9);return j&&(V=V-j[0],X=X-j[1],X<0&&(V--,X+=Ri)),[V,X]}function ve(){return As}function vo(j){return[]}var fe,Ve,ze,di,Tr,Sr,Er,Cr,Ar,Pr,wr,Mr,Rr,Lr,Fr,Or,br,Ir,Dr,Br,Nr,Gr,Ur,zr,Wr,Vr,ai,Xr,Yr,Hr,jr,Kr,Zr,Jr,Qr,$r,kr,qr,_r,tn,en,rn,nn,sn,an,on,hn,ln,un,fn,dn,cn,ge,pr,Ri,vn,pn,gn,mn,xn,yn,Tn,Sn,En,Cn,An,As,tl=se(()=>{yt(),St(),Tt(),fe=[],Ve=!1,di=-1,so.prototype.run=function(){this.fun.apply(null,this.array)},Tr="browser",Sr="x64",Er="browser",Cr={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Ar=["/usr/bin/node"],Pr=[],wr="v16.8.0",Mr={},Rr=function(j,z){console.warn((z?z+": ":"")+j)},Lr=function(j){Cs("binding")},Fr=function(j){return 0},Or=function(){return"/"},br=function(j){},Ir={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Dr=!0,Br=_t,Nr=[],Gr={},Ur=!1,zr={},Wr=_t,Vr=_t,ai=function(){return{}},Xr=ai,Yr=ai,Hr=_t,jr=_t,Kr=_t,Zr={},Jr={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Qr=_t,$r=_t,kr=_t,qr=_t,_r=_t,tn=_t,en=_t,rn=void 0,nn=void 0,sn=void 0,an=_t,on=2,hn=1,ln="/bin/usr/node",un=9229,fn="node",dn=[],cn=_t,ge={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ge.now===void 0&&(pr=Date.now(),ge.timing&&ge.timing.navigationStart&&(pr=ge.timing.navigationStart),ge.now=()=>Date.now()-pr),Ri=1e9,Mi.bigint=function(j){var z=Mi(j);return typeof BigInt>"u"?z[0]*Ri+z[1]:BigInt(z[0]*Ri)+BigInt(z[1])},vn=10,pn={},gn=0,mn=ve,xn=ve,yn=ve,Tn=ve,Sn=ve,En=_t,Cn=ve,An=ve,As={version:wr,versions:Mr,arch:Sr,platform:Er,browser:Dr,release:Ir,_rawDebug:Br,moduleLoadList:Nr,binding:Lr,_linkedBinding:ao,_events:pn,_eventsCount:gn,_maxListeners:vn,on:ve,addListener:mn,once:xn,off:yn,removeListener:Tn,removeAllListeners:Sn,emit:En,prependListener:Cn,prependOnceListener:An,listeners:vo,domain:Gr,_exiting:Ur,config:zr,dlopen:oo,uptime:co,_getActiveRequests:ho,_getActiveHandles:lo,reallyExit:Wr,_kill:Vr,cpuUsage:ai,resourceUsage:Xr,memoryUsage:Yr,kill:Hr,exit:jr,openStdin:Kr,allowedNodeEnvironmentFlags:Zr,assert:uo,features:Jr,_fatalExceptions:Qr,setUncaughtExceptionCaptureCallback:$r,hasUncaughtExceptionCaptureCallback:fo,emitWarning:Rr,nextTick:no,_tickCallback:kr,_debugProcess:qr,_debugEnd:_r,_startProfilerIdleNotifier:tn,_stopProfilerIdleNotifier:en,stdout:rn,stdin:sn,stderr:nn,abort:an,umask:Fr,chdir:br,cwd:Or,env:Cr,title:Tr,argv:Ar,execArgv:Pr,pid:on,ppid:hn,execPath:ln,debugPort:un,hrtime:Mi,argv0:fn,_preload_modules:dn,setSourceMapsEnabled:cn}}),Tt=se(()=>{tl()});function el(){if(Pn)return Je;Pn=!0,Je.byteLength=x,Je.toByteArray=a,Je.fromByteArray=s;for(var j=[],z=[],G=typeof Uint8Array<"u"?Uint8Array:Array,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=0,b=V.length;X<b;++X)j[X]=V[X],z[V.charCodeAt(X)]=X;z[45]=62,z[95]=63;function c(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");n===-1&&(n=e);var l=n===e?0:4-n%4;return[n,l]}function x(r){var e=c(r),n=e[0],l=e[1];return(n+l)*3/4-l}function t(r,e,n){return(e+n)*3/4-n}function a(r){var e,n=c(r),l=n[0],i=n[1],h=new G(t(r,l,i)),f=0,d=i>0?l-4:l,u;for(u=0;u<d;u+=4)e=z[r.charCodeAt(u)]<<18|z[r.charCodeAt(u+1)]<<12|z[r.charCodeAt(u+2)]<<6|z[r.charCodeAt(u+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=e&255;return i===2&&(e=z[r.charCodeAt(u)]<<2|z[r.charCodeAt(u+1)]>>4,h[f++]=e&255),i===1&&(e=z[r.charCodeAt(u)]<<10|z[r.charCodeAt(u+1)]<<4|z[r.charCodeAt(u+2)]>>2,h[f++]=e>>8&255,h[f++]=e&255),h}function p(r){return j[r>>18&63]+j[r>>12&63]+j[r>>6&63]+j[r&63]}function o(r,e,n){for(var l,i=[],h=e;h<n;h+=3)l=(r[h]<<16&16711680)+(r[h+1]<<8&65280)+(r[h+2]&255),i.push(p(l));return i.join("")}function s(r){for(var e,n=r.length,l=n%3,i=[],h=16383,f=0,d=n-l;f<d;f+=h)i.push(o(r,f,f+h>d?d:f+h));return l===1?(e=r[n-1],i.push(j[e>>2]+j[e<<4&63]+"==")):l===2&&(e=(r[n-2]<<8)+r[n-1],i.push(j[e>>10]+j[e>>4&63]+j[e<<2&63]+"=")),i.join("")}return Je}function il(){return wn?oi:(wn=!0,oi.read=function(j,z,G,V,X){var b,c,x=X*8-V-1,t=(1<<x)-1,a=t>>1,p=-7,o=G?X-1:0,s=G?-1:1,r=j[z+o];for(o+=s,b=r&(1<<-p)-1,r>>=-p,p+=x;p>0;b=b*256+j[z+o],o+=s,p-=8);for(c=b&(1<<-p)-1,b>>=-p,p+=V;p>0;c=c*256+j[z+o],o+=s,p-=8);if(b===0)b=1-a;else{if(b===t)return c?NaN:(r?-1:1)*(1/0);c=c+Math.pow(2,V),b=b-a}return(r?-1:1)*c*Math.pow(2,b-V)},oi.write=function(j,z,G,V,X,b){var c,x,t,a=b*8-X-1,p=(1<<a)-1,o=p>>1,s=X===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=V?0:b-1,e=V?1:-1,n=z<0||z===0&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(x=isNaN(z)?1:0,c=p):(c=Math.floor(Math.log(z)/Math.LN2),z*(t=Math.pow(2,-c))<1&&(c--,t*=2),c+o>=1?z+=s/t:z+=s*Math.pow(2,1-o),z*t>=2&&(c++,t/=2),c+o>=p?(x=0,c=p):c+o>=1?(x=(z*t-1)*Math.pow(2,X),c=c+o):(x=z*Math.pow(2,o-1)*Math.pow(2,X),c=0));X>=8;j[G+r]=x&255,r+=e,x/=256,X-=8);for(c=c<<X|x,a+=X;a>0;j[G+r]=c&255,r+=e,c/=256,a-=8);j[G+r-e]|=n*128},oi)}function rl(){if(Mn)return Me;Mn=!0;let j=el(),z=il(),G=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Me.Buffer=c,Me.SlowBuffer=i,Me.INSPECT_MAX_BYTES=50;let V=2147483647;Me.kMaxLength=V,c.TYPED_ARRAY_SUPPORT=X(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function X(){try{let H=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(H,K),H.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function b(H){if(H>V)throw new RangeError('The value "'+H+'" is invalid for option "size"');let K=new Uint8Array(H);return Object.setPrototypeOf(K,c.prototype),K}function c(H,K,$){if(typeof H=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(H)}return x(H,K,$)}c.poolSize=8192;function x(H,K,$){if(typeof H=="string")return o(H,K);if(ArrayBuffer.isView(H))return r(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(at(H,ArrayBuffer)||H&&at(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(at(H,SharedArrayBuffer)||H&&at(H.buffer,SharedArrayBuffer)))return e(H,K,$);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=H.valueOf&&H.valueOf();if(_!=null&&_!==H)return c.from(_,K,$);let st=n(H);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return c.from(H[Symbol.toPrimitive]("string"),K,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}c.from=function(H,K,$){return x(H,K,$)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function t(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function a(H,K,$){return t(H),H<=0?b(H):K!==void 0?typeof $=="string"?b(H).fill(K,$):b(H).fill(K):b(H)}c.alloc=function(H,K,$){return a(H,K,$)};function p(H){return t(H),b(H<0?0:l(H)|0)}c.allocUnsafe=function(H){return p(H)},c.allocUnsafeSlow=function(H){return p(H)};function o(H,K){if((typeof K!="string"||K==="")&&(K="utf8"),!c.isEncoding(K))throw new TypeError("Unknown encoding: "+K);let $=h(H,K)|0,_=b($),st=_.write(H,K);return st!==$&&(_=_.slice(0,st)),_}function s(H){let K=H.length<0?0:l(H.length)|0,$=b(K);for(let _=0;_<K;_+=1)$[_]=H[_]&255;return $}function r(H){if(at(H,Uint8Array)){let K=new Uint8Array(H);return e(K.buffer,K.byteOffset,K.byteLength)}return s(H)}function e(H,K,$){if(K<0||H.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<K+($||0))throw new RangeError('"length" is outside of buffer bounds');let _;return K===void 0&&$===void 0?_=new Uint8Array(H):$===void 0?_=new Uint8Array(H,K):_=new Uint8Array(H,K,$),Object.setPrototypeOf(_,c.prototype),_}function n(H){if(c.isBuffer(H)){let K=l(H.length)|0,$=b(K);return $.length===0||H.copy($,0,0,K),$}if(H.length!==void 0)return typeof H.length!="number"||ft(H.length)?b(0):s(H);if(H.type==="Buffer"&&Array.isArray(H.data))return s(H.data)}function l(H){if(H>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return H|0}function i(H){return+H!=H&&(H=0),c.alloc(+H)}c.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==c.prototype},c.compare=function(H,K){if(at(H,Uint8Array)&&(H=c.from(H,H.offset,H.byteLength)),at(K,Uint8Array)&&(K=c.from(K,K.offset,K.byteLength)),!c.isBuffer(H)||!c.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===K)return 0;let $=H.length,_=K.length;for(let st=0,dt=Math.min($,_);st<dt;++st)if(H[st]!==K[st]){$=H[st],_=K[st];break}return $<_?-1:_<$?1:0},c.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(H,K){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return c.alloc(0);let $;if(K===void 0)for(K=0,$=0;$<H.length;++$)K+=H[$].length;let _=c.allocUnsafe(K),st=0;for($=0;$<H.length;++$){let dt=H[$];if(at(dt,Uint8Array))st+dt.length>_.length?(c.isBuffer(dt)||(dt=c.from(dt)),dt.copy(_,st)):Uint8Array.prototype.set.call(_,dt,st);else if(c.isBuffer(dt))dt.copy(_,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=dt.length}return _};function h(H,K){if(c.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||at(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);let $=H.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&$===0)return 0;let st=!1;for(;;)switch(K){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return tt(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return gt(H).length;default:if(st)return _?-1:tt(H).length;K=(""+K).toLowerCase(),st=!0}}c.byteLength=h;function f(H,K,$){let _=!1;if((K===void 0||K<0)&&(K=0),K>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,K>>>=0,$<=K))return"";for(H||(H="utf8");;)switch(H){case"hex":return R(this,K,$);case"utf8":case"utf-8":return C(this,K,$);case"ascii":return P(this,K,$);case"latin1":case"binary":return M(this,K,$);case"base64":return E(this,K,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,K,$);default:if(_)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),_=!0}}c.prototype._isBuffer=!0;function d(H,K,$){let _=H[K];H[K]=H[$],H[$]=_}c.prototype.swap16=function(){let H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<H;K+=2)d(this,K,K+1);return this},c.prototype.swap32=function(){let H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<H;K+=4)d(this,K,K+3),d(this,K+1,K+2);return this},c.prototype.swap64=function(){let H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<H;K+=8)d(this,K,K+7),d(this,K+1,K+6),d(this,K+2,K+5),d(this,K+3,K+4);return this},c.prototype.toString=function(){let H=this.length;return H===0?"":arguments.length===0?C(this,0,H):f.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(H){if(!c.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:c.compare(this,H)===0},c.prototype.inspect=function(){let H="",K=Me.INSPECT_MAX_BYTES;return H=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(H+=" ... "),"<Buffer "+H+">"},G&&(c.prototype[G]=c.prototype.inspect),c.prototype.compare=function(H,K,$,_,st){if(at(H,Uint8Array)&&(H=c.from(H,H.offset,H.byteLength)),!c.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(K===void 0&&(K=0),$===void 0&&($=H?H.length:0),_===void 0&&(_=0),st===void 0&&(st=this.length),K<0||$>H.length||_<0||st>this.length)throw new RangeError("out of range index");if(_>=st&&K>=$)return 0;if(_>=st)return-1;if(K>=$)return 1;if(K>>>=0,$>>>=0,_>>>=0,st>>>=0,this===H)return 0;let dt=st-_,pt=$-K,ot=Math.min(dt,pt),ct=this.slice(_,st),Ct=H.slice(K,$);for(let Mt=0;Mt<ot;++Mt)if(ct[Mt]!==Ct[Mt]){dt=ct[Mt],pt=Ct[Mt];break}return dt<pt?-1:pt<dt?1:0};function u(H,K,$,_,st){if(H.length===0)return-1;if(typeof $=="string"?(_=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,ft($)&&($=st?0:H.length-1),$<0&&($=H.length+$),$>=H.length){if(st)return-1;$=H.length-1}else if($<0)if(st)$=0;else return-1;if(typeof K=="string"&&(K=c.from(K,_)),c.isBuffer(K))return K.length===0?-1:v(H,K,$,_,st);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(H,K,$):Uint8Array.prototype.lastIndexOf.call(H,K,$):v(H,[K],$,_,st);throw new TypeError("val must be string, number or Buffer")}function v(H,K,$,_,st){let dt=1,pt=H.length,ot=K.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(H.length<2||K.length<2)return-1;dt=2,pt/=2,ot/=2,$/=2}function ct(Mt,Rt){return dt===1?Mt[Rt]:Mt.readUInt16BE(Rt*dt)}let Ct;if(st){let Mt=-1;for(Ct=$;Ct<pt;Ct++)if(ct(H,Ct)===ct(K,Mt===-1?0:Ct-Mt)){if(Mt===-1&&(Mt=Ct),Ct-Mt+1===ot)return Mt*dt}else Mt!==-1&&(Ct-=Ct-Mt),Mt=-1}else for($+ot>pt&&($=pt-ot),Ct=$;Ct>=0;Ct--){let Mt=!0;for(let Rt=0;Rt<ot;Rt++)if(ct(H,Ct+Rt)!==ct(K,Rt)){Mt=!1;break}if(Mt)return Ct}return-1}c.prototype.includes=function(H,K,$){return this.indexOf(H,K,$)!==-1},c.prototype.indexOf=function(H,K,$){return u(this,H,K,$,!0)},c.prototype.lastIndexOf=function(H,K,$){return u(this,H,K,$,!1)};function g(H,K,$,_){$=Number($)||0;let st=H.length-$;_?(_=Number(_),_>st&&(_=st)):_=st;let dt=K.length;_>dt/2&&(_=dt/2);let pt;for(pt=0;pt<_;++pt){let ot=parseInt(K.substr(pt*2,2),16);if(ft(ot))return pt;H[$+pt]=ot}return pt}function y(H,K,$,_){return mt(tt(K,H.length-$),H,$,_)}function m(H,K,$,_){return mt(nt(K),H,$,_)}function T(H,K,$,_){return mt(gt(K),H,$,_)}function S(H,K,$,_){return mt(ht(K,H.length-$),H,$,_)}c.prototype.write=function(H,K,$,_){if(K===void 0)_="utf8",$=this.length,K=0;else if($===void 0&&typeof K=="string")_=K,$=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite($)?($=$>>>0,_===void 0&&(_="utf8")):(_=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let st=this.length-K;if(($===void 0||$>st)&&($=st),H.length>0&&($<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let dt=!1;for(;;)switch(_){case"hex":return g(this,H,K,$);case"utf8":case"utf-8":return y(this,H,K,$);case"ascii":case"latin1":case"binary":return m(this,H,K,$);case"base64":return T(this,H,K,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,H,K,$);default:if(dt)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),dt=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(H,K,$){return K===0&&$===H.length?j.fromByteArray(H):j.fromByteArray(H.slice(K,$))}function C(H,K,$){$=Math.min(H.length,$);let _=[],st=K;for(;st<$;){let dt=H[st],pt=null,ot=dt>239?4:dt>223?3:dt>191?2:1;if(st+ot<=$){let ct,Ct,Mt,Rt;switch(ot){case 1:dt<128&&(pt=dt);break;case 2:ct=H[st+1],(ct&192)===128&&(Rt=(dt&31)<<6|ct&63,Rt>127&&(pt=Rt));break;case 3:ct=H[st+1],Ct=H[st+2],(ct&192)===128&&(Ct&192)===128&&(Rt=(dt&15)<<12|(ct&63)<<6|Ct&63,Rt>2047&&(Rt<55296||Rt>57343)&&(pt=Rt));break;case 4:ct=H[st+1],Ct=H[st+2],Mt=H[st+3],(ct&192)===128&&(Ct&192)===128&&(Mt&192)===128&&(Rt=(dt&15)<<18|(ct&63)<<12|(Ct&63)<<6|Mt&63,Rt>65535&&Rt<1114112&&(pt=Rt))}}pt===null?(pt=65533,ot=1):pt>65535&&(pt-=65536,_.push(pt>>>10&1023|55296),pt=56320|pt&1023),_.push(pt),st+=ot}return A(_)}let w=4096;function A(H){let K=H.length;if(K<=w)return String.fromCharCode.apply(String,H);let $="",_=0;for(;_<K;)$+=String.fromCharCode.apply(String,H.slice(_,_+=w));return $}function P(H,K,$){let _="";$=Math.min(H.length,$);for(let st=K;st<$;++st)_+=String.fromCharCode(H[st]&127);return _}function M(H,K,$){let _="";$=Math.min(H.length,$);for(let st=K;st<$;++st)_+=String.fromCharCode(H[st]);return _}function R(H,K,$){let _=H.length;(!K||K<0)&&(K=0),(!$||$<0||$>_)&&($=_);let st="";for(let dt=K;dt<$;++dt)st+=xt[H[dt]];return st}function I(H,K,$){let _=H.slice(K,$),st="";for(let dt=0;dt<_.length-1;dt+=2)st+=String.fromCharCode(_[dt]+_[dt+1]*256);return st}c.prototype.slice=function(H,K){let $=this.length;H=~~H,K=K===void 0?$:~~K,H<0?(H+=$,H<0&&(H=0)):H>$&&(H=$),K<0?(K+=$,K<0&&(K=0)):K>$&&(K=$),K<H&&(K=H);let _=this.subarray(H,K);return Object.setPrototypeOf(_,c.prototype),_};function D(H,K,$){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+K>$)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(H,K,$){H=H>>>0,K=K>>>0,$||D(H,K,this.length);let _=this[H],st=1,dt=0;for(;++dt<K&&(st*=256);)_+=this[H+dt]*st;return _},c.prototype.readUintBE=c.prototype.readUIntBE=function(H,K,$){H=H>>>0,K=K>>>0,$||D(H,K,this.length);let _=this[H+--K],st=1;for(;K>0&&(st*=256);)_+=this[H+--K]*st;return _},c.prototype.readUint8=c.prototype.readUInt8=function(H,K){return H=H>>>0,K||D(H,1,this.length),this[H]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(H,K){return H=H>>>0,K||D(H,2,this.length),this[H]|this[H+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(H,K){return H=H>>>0,K||D(H,2,this.length),this[H]<<8|this[H+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(H,K){return H=H>>>0,K||D(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(H,K){return H=H>>>0,K||D(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},c.prototype.readBigUInt64LE=vt(function(H){H=H>>>0,k(H,"offset");let K=this[H],$=this[H+7];(K===void 0||$===void 0)&&et(H,this.length-8);let _=K+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24,st=this[++H]+this[++H]*2**8+this[++H]*2**16+$*2**24;return BigInt(_)+(BigInt(st)<<BigInt(32))}),c.prototype.readBigUInt64BE=vt(function(H){H=H>>>0,k(H,"offset");let K=this[H],$=this[H+7];(K===void 0||$===void 0)&&et(H,this.length-8);let _=K*2**24+this[++H]*2**16+this[++H]*2**8+this[++H],st=this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+$;return(BigInt(_)<<BigInt(32))+BigInt(st)}),c.prototype.readIntLE=function(H,K,$){H=H>>>0,K=K>>>0,$||D(H,K,this.length);let _=this[H],st=1,dt=0;for(;++dt<K&&(st*=256);)_+=this[H+dt]*st;return st*=128,_>=st&&(_-=Math.pow(2,8*K)),_},c.prototype.readIntBE=function(H,K,$){H=H>>>0,K=K>>>0,$||D(H,K,this.length);let _=K,st=1,dt=this[H+--_];for(;_>0&&(st*=256);)dt+=this[H+--_]*st;return st*=128,dt>=st&&(dt-=Math.pow(2,8*K)),dt},c.prototype.readInt8=function(H,K){return H=H>>>0,K||D(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},c.prototype.readInt16LE=function(H,K){H=H>>>0,K||D(H,2,this.length);let $=this[H]|this[H+1]<<8;return $&32768?$|4294901760:$},c.prototype.readInt16BE=function(H,K){H=H>>>0,K||D(H,2,this.length);let $=this[H+1]|this[H]<<8;return $&32768?$|4294901760:$},c.prototype.readInt32LE=function(H,K){return H=H>>>0,K||D(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},c.prototype.readInt32BE=function(H,K){return H=H>>>0,K||D(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},c.prototype.readBigInt64LE=vt(function(H){H=H>>>0,k(H,"offset");let K=this[H],$=this[H+7];(K===void 0||$===void 0)&&et(H,this.length-8);let _=this[H+4]+this[H+5]*2**8+this[H+6]*2**16+($<<24);return(BigInt(_)<<BigInt(32))+BigInt(K+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24)}),c.prototype.readBigInt64BE=vt(function(H){H=H>>>0,k(H,"offset");let K=this[H],$=this[H+7];(K===void 0||$===void 0)&&et(H,this.length-8);let _=(K<<24)+this[++H]*2**16+this[++H]*2**8+this[++H];return(BigInt(_)<<BigInt(32))+BigInt(this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+$)}),c.prototype.readFloatLE=function(H,K){return H=H>>>0,K||D(H,4,this.length),z.read(this,H,!0,23,4)},c.prototype.readFloatBE=function(H,K){return H=H>>>0,K||D(H,4,this.length),z.read(this,H,!1,23,4)},c.prototype.readDoubleLE=function(H,K){return H=H>>>0,K||D(H,8,this.length),z.read(this,H,!0,52,8)},c.prototype.readDoubleBE=function(H,K){return H=H>>>0,K||D(H,8,this.length),z.read(this,H,!1,52,8)};function Y(H,K,$,_,st,dt){if(!c.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>st||K<dt)throw new RangeError('"value" argument is out of bounds');if($+_>H.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(H,K,$,_){if(H=+H,K=K>>>0,$=$>>>0,!_){let pt=Math.pow(2,8*$)-1;Y(this,H,K,$,pt,0)}let st=1,dt=0;for(this[K]=H&255;++dt<$&&(st*=256);)this[K+dt]=H/st&255;return K+$},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(H,K,$,_){if(H=+H,K=K>>>0,$=$>>>0,!_){let pt=Math.pow(2,8*$)-1;Y(this,H,K,$,pt,0)}let st=$-1,dt=1;for(this[K+st]=H&255;--st>=0&&(dt*=256);)this[K+st]=H/dt&255;return K+$},c.prototype.writeUint8=c.prototype.writeUInt8=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,1,255,0),this[K]=H&255,K+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,2,65535,0),this[K]=H&255,this[K+1]=H>>>8,K+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,2,65535,0),this[K]=H>>>8,this[K+1]=H&255,K+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,4,4294967295,0),this[K+3]=H>>>24,this[K+2]=H>>>16,this[K+1]=H>>>8,this[K]=H&255,K+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,4,4294967295,0),this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=H&255,K+4};function B(H,K,$,_,st){Q(K,_,st,H,$,7);let dt=Number(K&BigInt(4294967295));H[$++]=dt,dt=dt>>8,H[$++]=dt,dt=dt>>8,H[$++]=dt,dt=dt>>8,H[$++]=dt;let pt=Number(K>>BigInt(32)&BigInt(4294967295));return H[$++]=pt,pt=pt>>8,H[$++]=pt,pt=pt>>8,H[$++]=pt,pt=pt>>8,H[$++]=pt,$}function O(H,K,$,_,st){Q(K,_,st,H,$,7);let dt=Number(K&BigInt(4294967295));H[$+7]=dt,dt=dt>>8,H[$+6]=dt,dt=dt>>8,H[$+5]=dt,dt=dt>>8,H[$+4]=dt;let pt=Number(K>>BigInt(32)&BigInt(4294967295));return H[$+3]=pt,pt=pt>>8,H[$+2]=pt,pt=pt>>8,H[$+1]=pt,pt=pt>>8,H[$]=pt,$+8}c.prototype.writeBigUInt64LE=vt(function(H,K=0){return B(this,H,K,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=vt(function(H,K=0){return O(this,H,K,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(H,K,$,_){if(H=+H,K=K>>>0,!_){let ot=Math.pow(2,8*$-1);Y(this,H,K,$,ot-1,-ot)}let st=0,dt=1,pt=0;for(this[K]=H&255;++st<$&&(dt*=256);)H<0&&pt===0&&this[K+st-1]!==0&&(pt=1),this[K+st]=(H/dt>>0)-pt&255;return K+$},c.prototype.writeIntBE=function(H,K,$,_){if(H=+H,K=K>>>0,!_){let ot=Math.pow(2,8*$-1);Y(this,H,K,$,ot-1,-ot)}let st=$-1,dt=1,pt=0;for(this[K+st]=H&255;--st>=0&&(dt*=256);)H<0&&pt===0&&this[K+st+1]!==0&&(pt=1),this[K+st]=(H/dt>>0)-pt&255;return K+$},c.prototype.writeInt8=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,1,127,-128),H<0&&(H=255+H+1),this[K]=H&255,K+1},c.prototype.writeInt16LE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,2,32767,-32768),this[K]=H&255,this[K+1]=H>>>8,K+2},c.prototype.writeInt16BE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,2,32767,-32768),this[K]=H>>>8,this[K+1]=H&255,K+2},c.prototype.writeInt32LE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,4,2147483647,-2147483648),this[K]=H&255,this[K+1]=H>>>8,this[K+2]=H>>>16,this[K+3]=H>>>24,K+4},c.prototype.writeInt32BE=function(H,K,$){return H=+H,K=K>>>0,$||Y(this,H,K,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=H&255,K+4},c.prototype.writeBigInt64LE=vt(function(H,K=0){return B(this,H,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=vt(function(H,K=0){return O(this,H,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(H,K,$,_,st,dt){if($+_>H.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function L(H,K,$,_,st){return K=+K,$=$>>>0,st||N(H,K,$,4),z.write(H,K,$,_,23,4),$+4}c.prototype.writeFloatLE=function(H,K,$){return L(this,H,K,!0,$)},c.prototype.writeFloatBE=function(H,K,$){return L(this,H,K,!1,$)};function W(H,K,$,_,st){return K=+K,$=$>>>0,st||N(H,K,$,8),z.write(H,K,$,_,52,8),$+8}c.prototype.writeDoubleLE=function(H,K,$){return W(this,H,K,!0,$)},c.prototype.writeDoubleBE=function(H,K,$){return W(this,H,K,!1,$)},c.prototype.copy=function(H,K,$,_){if(!c.isBuffer(H))throw new TypeError("argument should be a Buffer");if($||($=0),!_&&_!==0&&(_=this.length),K>=H.length&&(K=H.length),K||(K=0),_>0&&_<$&&(_=$),_===$||H.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),H.length-K<_-$&&(_=H.length-K+$);let st=_-$;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,$,_):Uint8Array.prototype.set.call(H,this.subarray($,_),K),st},c.prototype.fill=function(H,K,$,_){if(typeof H=="string"){if(typeof K=="string"?(_=K,K=0,$=this.length):typeof $=="string"&&(_=$,$=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!c.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(H.length===1){let dt=H.charCodeAt(0);(_==="utf8"&&dt<128||_==="latin1")&&(H=dt)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(K<0||this.length<K||this.length<$)throw new RangeError("Out of range index");if($<=K)return this;K=K>>>0,$=$===void 0?this.length:$>>>0,H||(H=0);let st;if(typeof H=="number")for(st=K;st<$;++st)this[st]=H;else{let dt=c.isBuffer(H)?H:c.from(H,_),pt=dt.length;if(pt===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(st=0;st<$-K;++st)this[st+K]=dt[st%pt]}return this};let F={};function U(H,K,$){F[H]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:K.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(H,K){return`The "${H}" argument must be of type number. Received type ${typeof K}`},TypeError),U("ERR_OUT_OF_RANGE",function(H,K,$){let _=`The value of "${H}" is out of range.`,st=$;return Number.isInteger($)&&Math.abs($)>2**32?st=Z(String($)):typeof $=="bigint"&&(st=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(st=Z(st)),st+="n"),_+=` It must be ${K}. Received ${st}`,_},RangeError);function Z(H){let K="",$=H.length,_=H[0]==="-"?1:0;for(;$>=_+4;$-=3)K=`_${H.slice($-3,$)}${K}`;return`${H.slice(0,$)}${K}`}function J(H,K,$){k(K,"offset"),(H[K]===void 0||H[K+$]===void 0)&&et(K,H.length-($+1))}function Q(H,K,$,_,st,dt){if(H>$||H<K){let pt=typeof K=="bigint"?"n":"",ot;throw K===0||K===BigInt(0)?ot=`>= 0${pt} and < 2${pt} ** ${(dt+1)*8}${pt}`:ot=`>= -(2${pt} ** ${(dt+1)*8-1}${pt}) and < 2 ** ${(dt+1)*8-1}${pt}`,new F.ERR_OUT_OF_RANGE("value",ot,H)}J(_,st,dt)}function k(H,K){if(typeof H!="number")throw new F.ERR_INVALID_ARG_TYPE(K,"number",H)}function et(H,K,$){throw Math.floor(H)!==H?(k(H,$),new F.ERR_OUT_OF_RANGE("offset","an integer",H)):K<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${K}`,H)}let it=/[^+/0-9A-Za-z-_]/g;function q(H){if(H=H.split("=")[0],H=H.trim().replace(it,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function tt(H,K){K=K||1/0;let $,_=H.length,st=null,dt=[];for(let pt=0;pt<_;++pt){if($=H.charCodeAt(pt),$>55295&&$<57344){if(!st){if($>56319){(K-=3)>-1&&dt.push(239,191,189);continue}else if(pt+1===_){(K-=3)>-1&&dt.push(239,191,189);continue}st=$;continue}if($<56320){(K-=3)>-1&&dt.push(239,191,189),st=$;continue}$=(st-55296<<10|$-56320)+65536}else st&&(K-=3)>-1&&dt.push(239,191,189);if(st=null,$<128){if((K-=1)<0)break;dt.push($)}else if($<2048){if((K-=2)<0)break;dt.push($>>6|192,$&63|128)}else if($<65536){if((K-=3)<0)break;dt.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((K-=4)<0)break;dt.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return dt}function nt(H){let K=[];for(let $=0;$<H.length;++$)K.push(H.charCodeAt($)&255);return K}function ht(H,K){let $,_,st,dt=[];for(let pt=0;pt<H.length&&!((K-=2)<0);++pt)$=H.charCodeAt(pt),_=$>>8,st=$%256,dt.push(st),dt.push(_);return dt}function gt(H){return j.toByteArray(q(H))}function mt(H,K,$,_){let st;for(st=0;st<_&&!(st+$>=K.length||st>=H.length);++st)K[st+$]=H[st];return st}function at(H,K){return H instanceof K||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===K.name}function ft(H){return H!==H}let xt=function(){let H="0123456789abcdef",K=new Array(256);for(let $=0;$<16;++$){let _=$*16;for(let st=0;st<16;++st)K[_+st]=H[$]+H[st]}return K}();function vt(H){return typeof BigInt>"u"?Pt:H}function Pt(){throw new Error("BigInt not supported")}return Me}var Je,Pn,oi,wn,Me,Mn,nl=se(()=>{yt(),St(),Tt(),Je={},Pn=!1,oi={},wn=!1,Me={},Mn=!1}),kt={};_e(kt,{Buffer:()=>sr,INSPECT_MAX_BYTES:()=>po,default:()=>pe,kMaxLength:()=>go});var pe,sr,po,go,qt=se(()=>{yt(),St(),Tt(),nl(),pe=rl(),pe.Buffer,pe.SlowBuffer,pe.INSPECT_MAX_BYTES,pe.kMaxLength,sr=pe.Buffer,po=pe.INSPECT_MAX_BYTES,go=pe.kMaxLength}),St=se(()=>{qt()}),Kt=Et((j,z)=>{yt(),St(),Tt();var G=class extends Error{constructor(V){if(!Array.isArray(V))throw new TypeError(`Expected input to be an Array, got ${typeof V}`);let X="";for(let b=0;b<V.length;b++)X+=`    ${V[b].stack}
`;super(X),this.name="AggregateError",this.errors=V}};z.exports={AggregateError:G,ArrayIsArray(V){return Array.isArray(V)},ArrayPrototypeIncludes(V,X){return V.includes(X)},ArrayPrototypeIndexOf(V,X){return V.indexOf(X)},ArrayPrototypeJoin(V,X){return V.join(X)},ArrayPrototypeMap(V,X){return V.map(X)},ArrayPrototypePop(V,X){return V.pop(X)},ArrayPrototypePush(V,X){return V.push(X)},ArrayPrototypeSlice(V,X,b){return V.slice(X,b)},Error,FunctionPrototypeCall(V,X,...b){return V.call(X,...b)},FunctionPrototypeSymbolHasInstance(V,X){return Function.prototype[Symbol.hasInstance].call(V,X)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(V,X){return Object.defineProperties(V,X)},ObjectDefineProperty(V,X,b){return Object.defineProperty(V,X,b)},ObjectGetOwnPropertyDescriptor(V,X){return Object.getOwnPropertyDescriptor(V,X)},ObjectKeys(V){return Object.keys(V)},ObjectSetPrototypeOf(V,X){return Object.setPrototypeOf(V,X)},Promise,PromisePrototypeCatch(V,X){return V.catch(X)},PromisePrototypeThen(V,X,b){return V.then(X,b)},PromiseReject(V){return Promise.reject(V)},PromiseResolve(V){return Promise.resolve(V)},ReflectApply:Reflect.apply,RegExpPrototypeTest(V,X){return V.test(X)},SafeSet:Set,String,StringPrototypeSlice(V,X,b){return V.slice(X,b)},StringPrototypeToLowerCase(V){return V.toLowerCase()},StringPrototypeToUpperCase(V){return V.toUpperCase()},StringPrototypeTrim(V){return V.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(V,X,b){return V.set(X,b)},Boolean,Uint8Array}}),mo=Et((j,z)=>{yt(),St(),Tt(),z.exports={format(G,...V){return G.replace(/%([sdifj])/g,function(...[X,b]){let c=V.shift();return b==="f"?c.toFixed(6):b==="j"?JSON.stringify(c):b==="s"&&typeof c=="object"?`${c.constructor!==Object?c.constructor.name:""} {}`.trim():c.toString()})},inspect(G){switch(typeof G){case"string":if(G.includes("'"))if(G.includes('"')){if(!G.includes("`")&&!G.includes("${"))return`\`${G}\``}else return`"${G}"`;return`'${G}'`;case"number":return isNaN(G)?"NaN":Object.is(G,-0)?String(G):G;case"bigint":return`${String(G)}n`;case"boolean":case"undefined":return String(G);case"object":return"{}"}}}}),re=Et((j,z)=>{yt(),St(),Tt();var{format:G,inspect:V}=mo(),{AggregateError:X}=Kt(),b=globalThis.AggregateError||X,c=Symbol("kIsNodeError"),x=["string","function","number","object","Function","Object","boolean","bigint","symbol"],t=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",p={};function o(h,f){if(!h)throw new p.ERR_INTERNAL_ASSERTION(f)}function s(h){let f="",d=h.length,u=h[0]==="-"?1:0;for(;d>=u+4;d-=3)f=`_${h.slice(d-3,d)}${f}`;return`${h.slice(0,d)}${f}`}function r(h,f,d){if(typeof f=="function")return o(f.length<=d.length,`Code: ${h}; The provided arguments length (${d.length}) does not match the required ones (${f.length}).`),f(...d);let u=(f.match(/%[dfijoOs]/g)||[]).length;return o(u===d.length,`Code: ${h}; The provided arguments length (${d.length}) does not match the required ones (${u}).`),d.length===0?f:G(f,...d)}function e(h,f,d){d||(d=Error);class u extends d{constructor(...g){super(r(h,f,g))}toString(){return`${this.name} [${h}]: ${this.message}`}}Object.defineProperties(u.prototype,{name:{value:d.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${h}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),u.prototype.code=h,u.prototype[c]=!0,p[h]=u}function n(h){let f=a+h.name;return Object.defineProperty(h,"name",{value:f}),h}function l(h,f){if(h&&f&&h!==f){if(Array.isArray(f.errors))return f.errors.push(h),f;let d=new b([f,h],f.message);return d.code=f.code,d}return h||f}var i=class extends Error{constructor(h="The operation was aborted",f=void 0){if(f!==void 0&&typeof f!="object")throw new p.ERR_INVALID_ARG_TYPE("options","Object",f);super(h,f),this.code="ABORT_ERR",this.name="AbortError"}};e("ERR_ASSERTION","%s",Error),e("ERR_INVALID_ARG_TYPE",(h,f,d)=>{o(typeof h=="string","'name' must be a string"),Array.isArray(f)||(f=[f]);let u="The ";h.endsWith(" argument")?u+=`${h} `:u+=`"${h}" ${h.includes(".")?"property":"argument"} `,u+="must be ";let v=[],g=[],y=[];for(let T of f)o(typeof T=="string","All expected entries have to be of type string"),x.includes(T)?v.push(T.toLowerCase()):t.test(T)?g.push(T):(o(T!=="object",'The value "object" should be written as "Object"'),y.push(T));if(g.length>0){let T=v.indexOf("object");T!==-1&&(v.splice(v,T,1),g.push("Object"))}if(v.length>0){switch(v.length){case 1:u+=`of type ${v[0]}`;break;case 2:u+=`one of type ${v[0]} or ${v[1]}`;break;default:{let T=v.pop();u+=`one of type ${v.join(", ")}, or ${T}`}}(g.length>0||y.length>0)&&(u+=" or ")}if(g.length>0){switch(g.length){case 1:u+=`an instance of ${g[0]}`;break;case 2:u+=`an instance of ${g[0]} or ${g[1]}`;break;default:{let T=g.pop();u+=`an instance of ${g.join(", ")}, or ${T}`}}y.length>0&&(u+=" or ")}switch(y.length){case 0:break;case 1:y[0].toLowerCase()!==y[0]&&(u+="an "),u+=`${y[0]}`;break;case 2:u+=`one of ${y[0]} or ${y[1]}`;break;default:{let T=y.pop();u+=`one of ${y.join(", ")}, or ${T}`}}if(d==null)u+=`. Received ${d}`;else if(typeof d=="function"&&d.name)u+=`. Received function ${d.name}`;else if(typeof d=="object"){var m;if((m=d.constructor)!==null&&m!==void 0&&m.name)u+=`. Received an instance of ${d.constructor.name}`;else{let T=V(d,{depth:-1});u+=`. Received ${T}`}}else{let T=V(d,{colors:!1});T.length>25&&(T=`${T.slice(0,25)}...`),u+=`. Received type ${typeof d} (${T})`}return u},TypeError),e("ERR_INVALID_ARG_VALUE",(h,f,d="is invalid")=>{let u=V(f);return u.length>128&&(u=u.slice(0,128)+"..."),`The ${h.includes(".")?"property":"argument"} '${h}' ${d}. Received ${u}`},TypeError),e("ERR_INVALID_RETURN_VALUE",(h,f,d)=>{var u;let v=d!=null&&(u=d.constructor)!==null&&u!==void 0&&u.name?`instance of ${d.constructor.name}`:`type ${typeof d}`;return`Expected ${h} to be returned from the "${f}" function but got ${v}.`},TypeError),e("ERR_MISSING_ARGS",(...h)=>{o(h.length>0,"At least one arg needs to be specified");let f,d=h.length;switch(h=(Array.isArray(h)?h:[h]).map(u=>`"${u}"`).join(" or "),d){case 1:f+=`The ${h[0]} argument`;break;case 2:f+=`The ${h[0]} and ${h[1]} arguments`;break;default:{let u=h.pop();f+=`The ${h.join(", ")}, and ${u} arguments`}break}return`${f} must be specified`},TypeError),e("ERR_OUT_OF_RANGE",(h,f,d)=>{o(f,'Missing "range" argument');let u;if(Number.isInteger(d)&&Math.abs(d)>2**32)u=s(String(d));else if(typeof d=="bigint"){u=String(d);let v=BigInt(2)**BigInt(32);(d>v||d<-v)&&(u=s(u)),u+="n"}else u=V(d);return`The value of "${h}" is out of range. It must be ${f}. Received ${u}`},RangeError),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),e("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),e("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),e("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),e("ERR_STREAM_WRITE_AFTER_END","write after end",Error),e("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),z.exports={AbortError:i,aggregateTwoErrors:n(l),hideStackFrames:n,codes:p}}),pi=Et((j,z)=>{yt(),St(),Tt();var{AbortController:G,AbortSignal:V}=typeof self<"u"?self:typeof window<"u"?window:void 0;z.exports=G,z.exports.AbortSignal=V,z.exports.default=G}),Ie={};_e(Ie,{EventEmitter:()=>xo,default:()=>Qe,defaultMaxListeners:()=>yo,init:()=>To,listenerCount:()=>So,on:()=>Eo,once:()=>Co});function sl(){if(Rn)return hi;Rn=!0;var j=typeof Reflect=="object"?Reflect:null,z=j&&typeof j.apply=="function"?j.apply:function(d,u,v){return Function.prototype.apply.call(d,u,v)},G;j&&typeof j.ownKeys=="function"?G=j.ownKeys:Object.getOwnPropertySymbols?G=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:G=function(d){return Object.getOwnPropertyNames(d)};function V(d){console&&console.warn&&console.warn(d)}var X=Number.isNaN||function(d){return d!==d};function b(){b.init.call(this)}hi=b,hi.once=i,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var c=10;function x(d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(d){if(typeof d!="number"||d<0||X(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");c=d}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||X(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function t(d){return d._maxListeners===void 0?b.defaultMaxListeners:d._maxListeners}b.prototype.getMaxListeners=function(){return t(this)},b.prototype.emit=function(d){for(var u=[],v=1;v<arguments.length;v++)u.push(arguments[v]);var g=d==="error",y=this._events;if(y!==void 0)g=g&&y.error===void 0;else if(!g)return!1;if(g){var m;if(u.length>0&&(m=u[0]),m instanceof Error)throw m;var T=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw T.context=m,T}var S=y[d];if(S===void 0)return!1;if(typeof S=="function")z(S,this,u);else for(var E=S.length,C=e(S,E),v=0;v<E;++v)z(C[v],this,u);return!0};function a(d,u,v,g){var y,m,T;if(x(v),m=d._events,m===void 0?(m=d._events=Object.create(null),d._eventsCount=0):(m.newListener!==void 0&&(d.emit("newListener",u,v.listener?v.listener:v),m=d._events),T=m[u]),T===void 0)T=m[u]=v,++d._eventsCount;else if(typeof T=="function"?T=m[u]=g?[v,T]:[T,v]:g?T.unshift(v):T.push(v),y=t(d),y>0&&T.length>y&&!T.warned){T.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(u)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=d,S.type=u,S.count=T.length,V(S)}return d}b.prototype.addListener=function(d,u){return a(this,d,u,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(d,u){return a(this,d,u,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(d,u,v){var g={fired:!1,wrapFn:void 0,target:d,type:u,listener:v},y=p.bind(g);return y.listener=v,g.wrapFn=y,y}b.prototype.once=function(d,u){return x(u),this.on(d,o(this,d,u)),this},b.prototype.prependOnceListener=function(d,u){return x(u),this.prependListener(d,o(this,d,u)),this},b.prototype.removeListener=function(d,u){var v,g,y,m,T;if(x(u),g=this._events,g===void 0)return this;if(v=g[d],v===void 0)return this;if(v===u||v.listener===u)--this._eventsCount===0?this._events=Object.create(null):(delete g[d],g.removeListener&&this.emit("removeListener",d,v.listener||u));else if(typeof v!="function"){for(y=-1,m=v.length-1;m>=0;m--)if(v[m]===u||v[m].listener===u){T=v[m].listener,y=m;break}if(y<0)return this;y===0?v.shift():n(v,y),v.length===1&&(g[d]=v[0]),g.removeListener!==void 0&&this.emit("removeListener",d,T||u)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(d){var u,v,g;if(v=this._events,v===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[d]),this;if(arguments.length===0){var y=Object.keys(v),m;for(g=0;g<y.length;++g)m=y[g],m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(u=v[d],typeof u=="function")this.removeListener(d,u);else if(u!==void 0)for(g=u.length-1;g>=0;g--)this.removeListener(d,u[g]);return this};function s(d,u,v){var g=d._events;if(g===void 0)return[];var y=g[u];return y===void 0?[]:typeof y=="function"?v?[y.listener||y]:[y]:v?l(y):e(y,y.length)}b.prototype.listeners=function(d){return s(this,d,!0)},b.prototype.rawListeners=function(d){return s(this,d,!1)},b.listenerCount=function(d,u){return typeof d.listenerCount=="function"?d.listenerCount(u):r.call(d,u)},b.prototype.listenerCount=r;function r(d){var u=this._events;if(u!==void 0){var v=u[d];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?G(this._events):[]};function e(d,u){for(var v=new Array(u),g=0;g<u;++g)v[g]=d[g];return v}function n(d,u){for(;u+1<d.length;u++)d[u]=d[u+1];d.pop()}function l(d){for(var u=new Array(d.length),v=0;v<u.length;++v)u[v]=d[v].listener||d[v];return u}function i(d,u){return new Promise(function(v,g){function y(T){d.removeListener(u,m),g(T)}function m(){typeof d.removeListener=="function"&&d.removeListener("error",y),v([].slice.call(arguments))}f(d,u,m,{once:!0}),u!=="error"&&h(d,y,{once:!0})})}function h(d,u,v){typeof d.on=="function"&&f(d,"error",u,v)}function f(d,u,v,g){if(typeof d.on=="function")g.once?d.once(u,v):d.on(u,v);else if(typeof d.addEventListener=="function")d.addEventListener(u,function y(m){g.once&&d.removeEventListener(u,y),v(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d)}return hi}var hi,Rn,Qe,xo,yo,To,So,Eo,Co,Ye=se(()=>{yt(),St(),Tt(),hi={},Rn=!1,Qe=sl(),Qe.once,Qe.once=function(j,z){return new Promise((G,V)=>{function X(...c){b!==void 0&&j.removeListener("error",b),G(c)}let b;z!=="error"&&(b=c=>{j.removeListener(name,X),V(c)},j.once("error",b)),j.once(z,X)})},Qe.on=function(j,z){let G=[],V=[],X=null,b=!1,c={async next(){let a=G.shift();if(a)return createIterResult(a,!1);if(X){let p=Promise.reject(X);return X=null,p}return b?createIterResult(void 0,!0):new Promise((p,o)=>V.push({resolve:p,reject:o}))},async return(){j.removeListener(z,x),j.removeListener("error",t),b=!0;for(let a of V)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){X=a,j.removeListener(z,x),j.removeListener("error",t)},[Symbol.asyncIterator](){return this}};return j.on(z,x),j.on("error",t),c;function x(...a){let p=V.shift();p?p.resolve(createIterResult(a,!1)):G.push(a)}function t(a){b=!0;let p=V.shift();p?p.reject(a):X=a,c.return()}},{EventEmitter:xo,defaultMaxListeners:yo,init:To,listenerCount:So,on:Eo,once:Co}=Qe}),ne=Et((j,z)=>{yt(),St(),Tt();var G=(qt(),Xt(kt)),{format:V,inspect:X}=mo(),{codes:{ERR_INVALID_ARG_TYPE:b}}=re(),{kResistStopPropagation:c,AggregateError:x,SymbolDispose:t}=Kt(),a=globalThis.AbortSignal||pi().AbortSignal,p=globalThis.AbortController||pi().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||G.Blob,r=typeof s<"u"?function(l){return l instanceof s}:function(l){return!1},e=(l,i)=>{if(l!==void 0&&(l===null||typeof l!="object"||!("aborted"in l)))throw new b(i,"AbortSignal",l)},n=(l,i)=>{if(typeof l!="function")throw new b(i,"Function",l)};z.exports={AggregateError:x,kEmptyObject:Object.freeze({}),once(l){let i=!1;return function(...h){i||(i=!0,l.apply(this,h))}},createDeferredPromise:function(){let l,i;return{promise:new Promise((h,f)=>{l=h,i=f}),resolve:l,reject:i}},promisify(l){return new Promise((i,h)=>{l((f,...d)=>f?h(f):i(...d))})},debuglog(){return function(){}},format:V,inspect:X,types:{isAsyncFunction(l){return l instanceof o},isArrayBufferView(l){return ArrayBuffer.isView(l)}},isBlob:r,deprecate(l,i){return l},addAbortListener:(Ye(),Xt(Ie)).addAbortListener||function(l,i){if(l===void 0)throw new b("signal","AbortSignal",l);e(l,"signal"),n(i,"listener");let h;return l.aborted?queueMicrotask(()=>i()):(l.addEventListener("abort",i,{__proto__:null,once:!0,[c]:!0}),h=()=>{l.removeEventListener("abort",i)}),{__proto__:null,[t](){var f;(f=h)===null||f===void 0||f()}}},AbortSignalAny:a.any||function(l){if(l.length===1)return l[0];let i=new p,h=()=>i.abort();return l.forEach(f=>{e(f,"signals"),f.addEventListener("abort",h,{once:!0})}),i.signal.addEventListener("abort",()=>{l.forEach(f=>f.removeEventListener("abort",h))},{once:!0}),i.signal}},z.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),xi=Et((j,z)=>{yt(),St(),Tt();var{ArrayIsArray:G,ArrayPrototypeIncludes:V,ArrayPrototypeJoin:X,ArrayPrototypeMap:b,NumberIsInteger:c,NumberIsNaN:x,NumberMAX_SAFE_INTEGER:t,NumberMIN_SAFE_INTEGER:a,NumberParseInt:p,ObjectPrototypeHasOwnProperty:o,RegExpPrototypeExec:s,String:r,StringPrototypeToUpperCase:e,StringPrototypeTrim:n}=Kt(),{hideStackFrames:l,codes:{ERR_SOCKET_BAD_PORT:i,ERR_INVALID_ARG_TYPE:h,ERR_INVALID_ARG_VALUE:f,ERR_OUT_OF_RANGE:d,ERR_UNKNOWN_SIGNAL:u}}=re(),{normalizeEncoding:v}=ne(),{isAsyncFunction:g,isArrayBufferView:y}=ne().types,m={};function T(at){return at===(at|0)}function S(at){return at===at>>>0}var E=/^[0-7]+$/,C="must be a 32-bit unsigned integer or an octal string";function w(at,ft,xt){if(typeof at>"u"&&(at=xt),typeof at=="string"){if(s(E,at)===null)throw new f(ft,at,C);at=p(at,8)}return M(at,ft),at}var A=l((at,ft,xt=a,vt=t)=>{if(typeof at!="number")throw new h(ft,"number",at);if(!c(at))throw new d(ft,"an integer",at);if(at<xt||at>vt)throw new d(ft,`>= ${xt} && <= ${vt}`,at)}),P=l((at,ft,xt=-2147483648,vt=2147483647)=>{if(typeof at!="number")throw new h(ft,"number",at);if(!c(at))throw new d(ft,"an integer",at);if(at<xt||at>vt)throw new d(ft,`>= ${xt} && <= ${vt}`,at)}),M=l((at,ft,xt=!1)=>{if(typeof at!="number")throw new h(ft,"number",at);if(!c(at))throw new d(ft,"an integer",at);let vt=xt?1:0,Pt=4294967295;if(at<vt||at>Pt)throw new d(ft,`>= ${vt} && <= ${Pt}`,at)});function R(at,ft){if(typeof at!="string")throw new h(ft,"string",at)}function I(at,ft,xt=void 0,vt){if(typeof at!="number")throw new h(ft,"number",at);if(xt!=null&&at<xt||vt!=null&&at>vt||(xt!=null||vt!=null)&&x(at))throw new d(ft,`${xt!=null?`>= ${xt}`:""}${xt!=null&&vt!=null?" && ":""}${vt!=null?`<= ${vt}`:""}`,at)}var D=l((at,ft,xt)=>{if(!V(xt,at)){let vt="must be one of: "+X(b(xt,Pt=>typeof Pt=="string"?`'${Pt}'`:r(Pt)),", ");throw new f(ft,at,vt)}});function Y(at,ft){if(typeof at!="boolean")throw new h(ft,"boolean",at)}function B(at,ft,xt){return at==null||!o(at,ft)?xt:at[ft]}var O=l((at,ft,xt=null)=>{let vt=B(xt,"allowArray",!1),Pt=B(xt,"allowFunction",!1);if(!B(xt,"nullable",!1)&&at===null||!vt&&G(at)||typeof at!="object"&&(!Pt||typeof at!="function"))throw new h(ft,"Object",at)}),N=l((at,ft)=>{if(at!=null&&typeof at!="object"&&typeof at!="function")throw new h(ft,"a dictionary",at)}),L=l((at,ft,xt=0)=>{if(!G(at))throw new h(ft,"Array",at);if(at.length<xt){let vt=`must be longer than ${xt}`;throw new f(ft,at,vt)}});function W(at,ft){L(at,ft);for(let xt=0;xt<at.length;xt++)R(at[xt],`${ft}[${xt}]`)}function F(at,ft){L(at,ft);for(let xt=0;xt<at.length;xt++)Y(at[xt],`${ft}[${xt}]`)}function U(at,ft){L(at,ft);for(let xt=0;xt<at.length;xt++){let vt=at[xt],Pt=`${ft}[${xt}]`;if(vt==null)throw new h(Pt,"AbortSignal",vt);et(vt,Pt)}}function Z(at,ft="signal"){if(R(at,ft),m[at]===void 0)throw m[e(at)]!==void 0?new u(at+" (signals must use all capital letters)"):new u(at)}var J=l((at,ft="buffer")=>{if(!y(at))throw new h(ft,["Buffer","TypedArray","DataView"],at)});function Q(at,ft){let xt=v(ft),vt=at.length;if(xt==="hex"&&vt%2!==0)throw new f("encoding",ft,`is invalid for data of length ${vt}`)}function k(at,ft="Port",xt=!0){if(typeof at!="number"&&typeof at!="string"||typeof at=="string"&&n(at).length===0||+at!==+at>>>0||at>65535||at===0&&!xt)throw new i(ft,at,xt);return at|0}var et=l((at,ft)=>{if(at!==void 0&&(at===null||typeof at!="object"||!("aborted"in at)))throw new h(ft,"AbortSignal",at)}),it=l((at,ft)=>{if(typeof at!="function")throw new h(ft,"Function",at)}),q=l((at,ft)=>{if(typeof at!="function"||g(at))throw new h(ft,"Function",at)}),tt=l((at,ft)=>{if(at!==void 0)throw new h(ft,"undefined",at)});function nt(at,ft,xt){if(!V(xt,at))throw new h(ft,`('${X(xt,"|")}')`,at)}var ht=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function gt(at,ft){if(typeof at>"u"||!s(ht,at))throw new f(ft,at,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function mt(at){if(typeof at=="string")return gt(at,"hints"),at;if(G(at)){let ft=at.length,xt="";if(ft===0)return xt;for(let vt=0;vt<ft;vt++){let Pt=at[vt];gt(Pt,"hints"),xt+=Pt,vt!==ft-1&&(xt+=", ")}return xt}throw new f("hints",at,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}z.exports={isInt32:T,isUint32:S,parseFileMode:w,validateArray:L,validateStringArray:W,validateBooleanArray:F,validateAbortSignalArray:U,validateBoolean:Y,validateBuffer:J,validateDictionary:N,validateEncoding:Q,validateFunction:it,validateInt32:P,validateInteger:A,validateNumber:I,validateObject:O,validateOneOf:D,validatePlainFunction:q,validatePort:k,validateSignalName:Z,validateString:R,validateUint32:M,validateUndefined:tt,validateUnion:nt,validateAbortSignal:et,validateLinkHeaderValue:mt}}),He=Et((j,z)=>{yt(),St(),Tt();var G=z.exports={},V,X;function b(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?V=setTimeout:V=b}catch{V=b}try{typeof clearTimeout=="function"?X=clearTimeout:X=c}catch{X=c}})();function x(i){if(V===setTimeout)return setTimeout(i,0);if((V===b||!V)&&setTimeout)return V=setTimeout,setTimeout(i,0);try{return V(i,0)}catch{try{return V.call(null,i,0)}catch{return V.call(this,i,0)}}}function t(i){if(X===clearTimeout)return clearTimeout(i);if((X===c||!X)&&clearTimeout)return X=clearTimeout,clearTimeout(i);try{return X(i)}catch{try{return X.call(null,i)}catch{return X.call(this,i)}}}var a=[],p=!1,o,s=-1;function r(){!p||!o||(p=!1,o.length?a=o.concat(a):s=-1,a.length&&e())}function e(){if(!p){var i=x(r);p=!0;for(var h=a.length;h;){for(o=a,a=[];++s<h;)o&&o[s].run();s=-1,h=a.length}o=null,p=!1,t(i)}}G.nextTick=function(i){var h=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)h[f-1]=arguments[f];a.push(new n(i,h)),a.length===1&&!p&&x(e)};function n(i,h){this.fun=i,this.array=h}n.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function l(){}G.on=l,G.addListener=l,G.once=l,G.off=l,G.removeListener=l,G.removeAllListeners=l,G.emit=l,G.prependListener=l,G.prependOnceListener=l,G.listeners=function(i){return[]},G.binding=function(i){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(i){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}}),Ee=Et((j,z)=>{yt(),St(),Tt();var{SymbolAsyncIterator:G,SymbolIterator:V,SymbolFor:X}=Kt(),b=X("nodejs.stream.destroyed"),c=X("nodejs.stream.errored"),x=X("nodejs.stream.readable"),t=X("nodejs.stream.writable"),a=X("nodejs.stream.disturbed"),p=X("nodejs.webstream.isClosedPromise"),o=X("nodejs.webstream.controllerErrorFunction");function s(B,O=!1){var N;return!!(B&&typeof B.pipe=="function"&&typeof B.on=="function"&&(!O||typeof B.pause=="function"&&typeof B.resume=="function")&&(!B._writableState||((N=B._readableState)===null||N===void 0?void 0:N.readable)!==!1)&&(!B._writableState||B._readableState))}function r(B){var O;return!!(B&&typeof B.write=="function"&&typeof B.on=="function"&&(!B._readableState||((O=B._writableState)===null||O===void 0?void 0:O.writable)!==!1))}function e(B){return!!(B&&typeof B.pipe=="function"&&B._readableState&&typeof B.on=="function"&&typeof B.write=="function")}function n(B){return B&&(B._readableState||B._writableState||typeof B.write=="function"&&typeof B.on=="function"||typeof B.pipe=="function"&&typeof B.on=="function")}function l(B){return!!(B&&!n(B)&&typeof B.pipeThrough=="function"&&typeof B.getReader=="function"&&typeof B.cancel=="function")}function i(B){return!!(B&&!n(B)&&typeof B.getWriter=="function"&&typeof B.abort=="function")}function h(B){return!!(B&&!n(B)&&typeof B.readable=="object"&&typeof B.writable=="object")}function f(B){return l(B)||i(B)||h(B)}function d(B,O){return B==null?!1:O===!0?typeof B[G]=="function":O===!1?typeof B[V]=="function":typeof B[G]=="function"||typeof B[V]=="function"}function u(B){if(!n(B))return null;let O=B._writableState,N=B._readableState,L=O||N;return!!(B.destroyed||B[b]||L!=null&&L.destroyed)}function v(B){if(!r(B))return null;if(B.writableEnded===!0)return!0;let O=B._writableState;return O!=null&&O.errored?!1:typeof(O==null?void 0:O.ended)!="boolean"?null:O.ended}function g(B,O){if(!r(B))return null;if(B.writableFinished===!0)return!0;let N=B._writableState;return N!=null&&N.errored?!1:typeof(N==null?void 0:N.finished)!="boolean"?null:!!(N.finished||O===!1&&N.ended===!0&&N.length===0)}function y(B){if(!s(B))return null;if(B.readableEnded===!0)return!0;let O=B._readableState;return!O||O.errored?!1:typeof(O==null?void 0:O.ended)!="boolean"?null:O.ended}function m(B,O){if(!s(B))return null;let N=B._readableState;return N!=null&&N.errored?!1:typeof(N==null?void 0:N.endEmitted)!="boolean"?null:!!(N.endEmitted||O===!1&&N.ended===!0&&N.length===0)}function T(B){return B&&B[x]!=null?B[x]:typeof(B==null?void 0:B.readable)!="boolean"?null:u(B)?!1:s(B)&&B.readable&&!m(B)}function S(B){return B&&B[t]!=null?B[t]:typeof(B==null?void 0:B.writable)!="boolean"?null:u(B)?!1:r(B)&&B.writable&&!v(B)}function E(B,O){return n(B)?u(B)?!0:!((O==null?void 0:O.readable)!==!1&&T(B)||(O==null?void 0:O.writable)!==!1&&S(B)):null}function C(B){var O,N;return n(B)?B.writableErrored?B.writableErrored:(O=(N=B._writableState)===null||N===void 0?void 0:N.errored)!==null&&O!==void 0?O:null:null}function w(B){var O,N;return n(B)?B.readableErrored?B.readableErrored:(O=(N=B._readableState)===null||N===void 0?void 0:N.errored)!==null&&O!==void 0?O:null:null}function A(B){if(!n(B))return null;if(typeof B.closed=="boolean")return B.closed;let O=B._writableState,N=B._readableState;return typeof(O==null?void 0:O.closed)=="boolean"||typeof(N==null?void 0:N.closed)=="boolean"?(O==null?void 0:O.closed)||(N==null?void 0:N.closed):typeof B._closed=="boolean"&&P(B)?B._closed:null}function P(B){return typeof B._closed=="boolean"&&typeof B._defaultKeepAlive=="boolean"&&typeof B._removedConnection=="boolean"&&typeof B._removedContLen=="boolean"}function M(B){return typeof B._sent100=="boolean"&&P(B)}function R(B){var O;return typeof B._consuming=="boolean"&&typeof B._dumped=="boolean"&&((O=B.req)===null||O===void 0?void 0:O.upgradeOrConnect)===void 0}function I(B){if(!n(B))return null;let O=B._writableState,N=B._readableState,L=O||N;return!L&&M(B)||!!(L&&L.autoDestroy&&L.emitClose&&L.closed===!1)}function D(B){var O;return!!(B&&((O=B[a])!==null&&O!==void 0?O:B.readableDidRead||B.readableAborted))}function Y(B){var O,N,L,W,F,U,Z,J,Q,k;return!!(B&&((O=(N=(L=(W=(F=(U=B[c])!==null&&U!==void 0?U:B.readableErrored)!==null&&F!==void 0?F:B.writableErrored)!==null&&W!==void 0?W:(Z=B._readableState)===null||Z===void 0?void 0:Z.errorEmitted)!==null&&L!==void 0?L:(J=B._writableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&N!==void 0?N:(Q=B._readableState)===null||Q===void 0?void 0:Q.errored)!==null&&O!==void 0?O:!((k=B._writableState)===null||k===void 0)&&k.errored))}z.exports={isDestroyed:u,kIsDestroyed:b,isDisturbed:D,kIsDisturbed:a,isErrored:Y,kIsErrored:c,isReadable:T,kIsReadable:x,kIsClosedPromise:p,kControllerErrorFunction:o,kIsWritable:t,isClosed:A,isDuplexNodeStream:e,isFinished:E,isIterable:d,isReadableNodeStream:s,isReadableStream:l,isReadableEnded:y,isReadableFinished:m,isReadableErrored:w,isNodeStream:n,isWebStream:f,isWritable:S,isWritableNodeStream:r,isWritableStream:i,isWritableEnded:v,isWritableFinished:g,isWritableErrored:C,isServerRequest:R,isServerResponse:M,willEmitClose:I,isTransformStream:h}}),De=Et((j,z)=>{yt(),St(),Tt();var G=He(),{AbortError:V,codes:X}=re(),{ERR_INVALID_ARG_TYPE:b,ERR_STREAM_PREMATURE_CLOSE:c}=X,{kEmptyObject:x,once:t}=ne(),{validateAbortSignal:a,validateFunction:p,validateObject:o,validateBoolean:s}=xi(),{Promise:r,PromisePrototypeThen:e,SymbolDispose:n}=Kt(),{isClosed:l,isReadable:i,isReadableNodeStream:h,isReadableStream:f,isReadableFinished:d,isReadableErrored:u,isWritable:v,isWritableNodeStream:g,isWritableStream:y,isWritableFinished:m,isWritableErrored:T,isNodeStream:S,willEmitClose:E,kIsClosedPromise:C}=Ee(),w;function A(D){return D.setHeader&&typeof D.abort=="function"}var P=()=>{};function M(D,Y,B){var O,N;if(arguments.length===2?(B=Y,Y=x):Y==null?Y=x:o(Y,"options"),p(B,"callback"),a(Y.signal,"options.signal"),B=t(B),f(D)||y(D))return R(D,Y,B);if(!S(D))throw new b("stream",["ReadableStream","WritableStream","Stream"],D);let L=(O=Y.readable)!==null&&O!==void 0?O:h(D),W=(N=Y.writable)!==null&&N!==void 0?N:g(D),F=D._writableState,U=D._readableState,Z=()=>{D.writable||k()},J=E(D)&&h(D)===L&&g(D)===W,Q=m(D,!1),k=()=>{Q=!0,D.destroyed&&(J=!1),!(J&&(!D.readable||L))&&(!L||et)&&B.call(D)},et=d(D,!1),it=()=>{et=!0,D.destroyed&&(J=!1),!(J&&(!D.writable||W))&&(!W||Q)&&B.call(D)},q=at=>{B.call(D,at)},tt=l(D),nt=()=>{tt=!0;let at=T(D)||u(D);if(at&&typeof at!="boolean")return B.call(D,at);if(L&&!et&&h(D,!0)&&!d(D,!1))return B.call(D,new c);if(W&&!Q&&!m(D,!1))return B.call(D,new c);B.call(D)},ht=()=>{tt=!0;let at=T(D)||u(D);if(at&&typeof at!="boolean")return B.call(D,at);B.call(D)},gt=()=>{D.req.on("finish",k)};A(D)?(D.on("complete",k),J||D.on("abort",nt),D.req?gt():D.on("request",gt)):W&&!F&&(D.on("end",Z),D.on("close",Z)),!J&&typeof D.aborted=="boolean"&&D.on("aborted",nt),D.on("end",it),D.on("finish",k),Y.error!==!1&&D.on("error",q),D.on("close",nt),tt?G.nextTick(nt):F!=null&&F.errorEmitted||U!=null&&U.errorEmitted?J||G.nextTick(ht):(!L&&(!J||i(D))&&(Q||v(D)===!1)||!W&&(!J||v(D))&&(et||i(D)===!1)||U&&D.req&&D.aborted)&&G.nextTick(ht);let mt=()=>{B=P,D.removeListener("aborted",nt),D.removeListener("complete",k),D.removeListener("abort",nt),D.removeListener("request",gt),D.req&&D.req.removeListener("finish",k),D.removeListener("end",Z),D.removeListener("close",Z),D.removeListener("finish",k),D.removeListener("end",it),D.removeListener("error",q),D.removeListener("close",nt)};if(Y.signal&&!tt){let at=()=>{let ft=B;mt(),ft.call(D,new V(void 0,{cause:Y.signal.reason}))};if(Y.signal.aborted)G.nextTick(at);else{w=w||ne().addAbortListener;let ft=w(Y.signal,at),xt=B;B=t((...vt)=>{ft[n](),xt.apply(D,vt)})}}return mt}function R(D,Y,B){let O=!1,N=P;if(Y.signal)if(N=()=>{O=!0,B.call(D,new V(void 0,{cause:Y.signal.reason}))},Y.signal.aborted)G.nextTick(N);else{w=w||ne().addAbortListener;let W=w(Y.signal,N),F=B;B=t((...U)=>{W[n](),F.apply(D,U)})}let L=(...W)=>{O||G.nextTick(()=>B.apply(D,W))};return e(D[C].promise,L,L),P}function I(D,Y){var B;let O=!1;return Y===null&&(Y=x),(B=Y)!==null&&B!==void 0&&B.cleanup&&(s(Y.cleanup,"cleanup"),O=Y.cleanup),new r((N,L)=>{let W=M(D,Y,F=>{O&&W(),F?L(F):N()})})}z.exports=M,z.exports.finished=I}),ti=Et((j,z)=>{yt(),St(),Tt();var G=He(),{aggregateTwoErrors:V,codes:{ERR_MULTIPLE_CALLBACK:X},AbortError:b}=re(),{Symbol:c}=Kt(),{kIsDestroyed:x,isDestroyed:t,isFinished:a,isServerRequest:p}=Ee(),o=c("kDestroy"),s=c("kConstruct");function r(E,C,w){E&&(E.stack,C&&!C.errored&&(C.errored=E),w&&!w.errored&&(w.errored=E))}function e(E,C){let w=this._readableState,A=this._writableState,P=A||w;return A!=null&&A.destroyed||w!=null&&w.destroyed?(typeof C=="function"&&C(),this):(r(E,A,w),A&&(A.destroyed=!0),w&&(w.destroyed=!0),P.constructed?n(this,E,C):this.once(o,function(M){n(this,V(M,E),C)}),this)}function n(E,C,w){let A=!1;function P(M){if(A)return;A=!0;let R=E._readableState,I=E._writableState;r(M,I,R),I&&(I.closed=!0),R&&(R.closed=!0),typeof w=="function"&&w(M),M?G.nextTick(l,E,M):G.nextTick(i,E)}try{E._destroy(C||null,P)}catch(M){P(M)}}function l(E,C){h(E,C),i(E)}function i(E){let C=E._readableState,w=E._writableState;w&&(w.closeEmitted=!0),C&&(C.closeEmitted=!0),(w!=null&&w.emitClose||C!=null&&C.emitClose)&&E.emit("close")}function h(E,C){let w=E._readableState,A=E._writableState;A!=null&&A.errorEmitted||w!=null&&w.errorEmitted||(A&&(A.errorEmitted=!0),w&&(w.errorEmitted=!0),E.emit("error",C))}function f(){let E=this._readableState,C=this._writableState;E&&(E.constructed=!0,E.closed=!1,E.closeEmitted=!1,E.destroyed=!1,E.errored=null,E.errorEmitted=!1,E.reading=!1,E.ended=E.readable===!1,E.endEmitted=E.readable===!1),C&&(C.constructed=!0,C.destroyed=!1,C.closed=!1,C.closeEmitted=!1,C.errored=null,C.errorEmitted=!1,C.finalCalled=!1,C.prefinished=!1,C.ended=C.writable===!1,C.ending=C.writable===!1,C.finished=C.writable===!1)}function d(E,C,w){let A=E._readableState,P=E._writableState;if(P!=null&&P.destroyed||A!=null&&A.destroyed)return this;A!=null&&A.autoDestroy||P!=null&&P.autoDestroy?E.destroy(C):C&&(C.stack,P&&!P.errored&&(P.errored=C),A&&!A.errored&&(A.errored=C),w?G.nextTick(h,E,C):h(E,C))}function u(E,C){if(typeof E._construct!="function")return;let w=E._readableState,A=E._writableState;w&&(w.constructed=!1),A&&(A.constructed=!1),E.once(s,C),!(E.listenerCount(s)>1)&&G.nextTick(v,E)}function v(E){let C=!1;function w(A){if(C){d(E,A??new X);return}C=!0;let P=E._readableState,M=E._writableState,R=M||P;P&&(P.constructed=!0),M&&(M.constructed=!0),R.destroyed?E.emit(o,A):A?d(E,A,!0):G.nextTick(g,E)}try{E._construct(A=>{G.nextTick(w,A)})}catch(A){G.nextTick(w,A)}}function g(E){E.emit(s)}function y(E){return(E==null?void 0:E.setHeader)&&typeof E.abort=="function"}function m(E){E.emit("close")}function T(E,C){E.emit("error",C),G.nextTick(m,E)}function S(E,C){!E||t(E)||(!C&&!a(E)&&(C=new b),p(E)?(E.socket=null,E.destroy(C)):y(E)?E.abort():y(E.req)?E.req.abort():typeof E.destroy=="function"?E.destroy(C):typeof E.close=="function"?E.close():C?G.nextTick(T,E,C):G.nextTick(m,E),E.destroyed||(E[x]=!0))}z.exports={construct:u,destroyer:S,destroy:e,undestroy:f,errorOrDestroy:d}}),Ps=Et((j,z)=>{yt(),St(),Tt();var{ArrayIsArray:G,ObjectSetPrototypeOf:V}=Kt(),{EventEmitter:X}=(Ye(),Xt(Ie));function b(x){X.call(this,x)}V(b.prototype,X.prototype),V(b,X),b.prototype.pipe=function(x,t){let a=this;function p(i){x.writable&&x.write(i)===!1&&a.pause&&a.pause()}a.on("data",p);function o(){a.readable&&a.resume&&a.resume()}x.on("drain",o),!x._isStdio&&(!t||t.end!==!1)&&(a.on("end",r),a.on("close",e));let s=!1;function r(){s||(s=!0,x.end())}function e(){s||(s=!0,typeof x.destroy=="function"&&x.destroy())}function n(i){l(),X.listenerCount(this,"error")===0&&this.emit("error",i)}c(a,"error",n),c(x,"error",n);function l(){a.removeListener("data",p),x.removeListener("drain",o),a.removeListener("end",r),a.removeListener("close",e),a.removeListener("error",n),x.removeListener("error",n),a.removeListener("end",l),a.removeListener("close",l),x.removeListener("close",l)}return a.on("end",l),a.on("close",l),x.on("close",l),x.emit("pipe",a),x};function c(x,t,a){if(typeof x.prependListener=="function")return x.prependListener(t,a);!x._events||!x._events[t]?x.on(t,a):G(x._events[t])?x._events[t].unshift(a):x._events[t]=[a,x._events[t]]}z.exports={Stream:b,prependListener:c}}),hr=Et((j,z)=>{yt(),St(),Tt();var{SymbolDispose:G}=Kt(),{AbortError:V,codes:X}=re(),{isNodeStream:b,isWebStream:c,kControllerErrorFunction:x}=Ee(),t=De(),{ERR_INVALID_ARG_TYPE:a}=X,p,o=(s,r)=>{if(typeof s!="object"||!("aborted"in s))throw new a(r,"AbortSignal",s)};z.exports.addAbortSignal=function(s,r){if(o(s,"signal"),!b(r)&&!c(r))throw new a("stream",["ReadableStream","WritableStream","Stream"],r);return z.exports.addAbortSignalNoValidate(s,r)},z.exports.addAbortSignalNoValidate=function(s,r){if(typeof s!="object"||!("aborted"in s))return r;let e=b(r)?()=>{r.destroy(new V(void 0,{cause:s.reason}))}:()=>{r[x](new V(void 0,{cause:s.reason}))};if(s.aborted)e();else{p=p||ne().addAbortListener;let n=p(s,e);t(r,n[G])}return r}}),al=Et((j,z)=>{yt(),St(),Tt();var{StringPrototypeSlice:G,SymbolIterator:V,TypedArrayPrototypeSet:X,Uint8Array:b}=Kt(),{Buffer:c}=(qt(),Xt(kt)),{inspect:x}=ne();z.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let a={data:t,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(t){let a={data:t,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let a=this.head,p=""+a.data;for(;(a=a.next)!==null;)p+=t+a.data;return p}concat(t){if(this.length===0)return c.alloc(0);let a=c.allocUnsafe(t>>>0),p=this.head,o=0;for(;p;)X(a,p.data,o),o+=p.data.length,p=p.next;return a}consume(t,a){let p=this.head.data;if(t<p.length){let o=p.slice(0,t);return this.head.data=p.slice(t),o}return t===p.length?this.shift():a?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[V](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let a="",p=this.head,o=0;do{let s=p.data;if(t>s.length)a+=s,t-=s.length;else{t===s.length?(a+=s,++o,p.next?this.head=p.next:this.head=this.tail=null):(a+=G(s,0,t),this.head=p,p.data=G(s,t));break}++o}while((p=p.next)!==null);return this.length-=o,a}_getBuffer(t){let a=c.allocUnsafe(t),p=t,o=this.head,s=0;do{let r=o.data;if(t>r.length)X(a,r,p-t),t-=r.length;else{t===r.length?(X(a,r,p-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(X(a,new b(r.buffer,r.byteOffset,t),p-t),this.head=o,o.data=r.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,a}[Symbol.for("nodejs.util.inspect.custom")](t,a){return x(this,{...a,depth:0,customInspect:!1})}}}),lr=Et((j,z)=>{yt(),St(),Tt();var{MathFloor:G,NumberIsInteger:V}=Kt(),{validateInteger:X}=xi(),{ERR_INVALID_ARG_VALUE:b}=re().codes,c=16*1024,x=16;function t(s,r,e){return s.highWaterMark!=null?s.highWaterMark:r?s[e]:null}function a(s){return s?x:c}function p(s,r){X(r,"value",0),s?x=r:c=r}function o(s,r,e,n){let l=t(r,n,e);if(l!=null){if(!V(l)||l<0){let i=n?`options.${e}`:"options.highWaterMark";throw new b(i,l)}return G(l)}return a(s.objectMode)}z.exports={getHighWaterMark:o,getDefaultHighWaterMark:a,setDefaultHighWaterMark:p}}),ol=Et((j,z)=>{yt(),St(),Tt();var G=(qt(),Xt(kt)),V=G.Buffer;function X(c,x){for(var t in c)x[t]=c[t]}V.from&&V.alloc&&V.allocUnsafe&&V.allocUnsafeSlow?z.exports=G:(X(G,j),j.Buffer=b);function b(c,x,t){return V(c,x,t)}b.prototype=Object.create(V.prototype),X(V,b),b.from=function(c,x,t){if(typeof c=="number")throw new TypeError("Argument must not be a number");return V(c,x,t)},b.alloc=function(c,x,t){if(typeof c!="number")throw new TypeError("Argument must be a number");var a=V(c);return x!==void 0?typeof t=="string"?a.fill(x,t):a.fill(x):a.fill(0),a},b.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return V(c)},b.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return G.SlowBuffer(c)}}),hl=Et(j=>{yt(),St(),Tt();var z=ol().Buffer,G=z.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function V(h){if(!h)return"utf8";for(var f;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(f)return;h=(""+h).toLowerCase(),f=!0}}function X(h){var f=V(h);if(typeof f!="string"&&(z.isEncoding===G||!G(h)))throw new Error("Unknown encoding: "+h);return f||h}j.StringDecoder=b;function b(h){this.encoding=X(h);var f;switch(this.encoding){case"utf16le":this.text=s,this.end=r,f=4;break;case"utf8":this.fillLast=a,f=4;break;case"base64":this.text=e,this.end=n,f=3;break;default:this.write=l,this.end=i;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=z.allocUnsafe(f)}b.prototype.write=function(h){if(h.length===0)return"";var f,d;if(this.lastNeed){if(f=this.fillLast(h),f===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?f?f+this.text(h,d):this.text(h,d):f||""},b.prototype.end=o,b.prototype.text=p,b.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function c(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function x(h,f,d){var u=f.length-1;if(u<d)return 0;var v=c(f[u]);return v>=0?(v>0&&(h.lastNeed=v-1),v):--u<d||v===-2?0:(v=c(f[u]),v>=0?(v>0&&(h.lastNeed=v-2),v):--u<d||v===-2?0:(v=c(f[u]),v>=0?(v>0&&(v===2?v=0:h.lastNeed=v-3),v):0))}function t(h,f,d){if((f[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&f.length>1){if((f[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&f.length>2&&(f[2]&192)!==128)return h.lastNeed=2,""}}function a(h){var f=this.lastTotal-this.lastNeed,d=t(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,f,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,f,0,h.length),this.lastNeed-=h.length}function p(h,f){var d=x(this,h,f);if(!this.lastNeed)return h.toString("utf8",f);this.lastTotal=d;var u=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,u),h.toString("utf8",f,u)}function o(h){var f=h&&h.length?this.write(h):"";return this.lastNeed?f+"":f}function s(h,f){if((h.length-f)%2===0){var d=h.toString("utf16le",f);if(d){var u=d.charCodeAt(d.length-1);if(u>=55296&&u<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",f,h.length-1)}function r(h){var f=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return f+this.lastChar.toString("utf16le",0,d)}return f}function e(h,f){var d=(h.length-f)%3;return d===0?h.toString("base64",f):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",f,h.length-d))}function n(h){var f=h&&h.length?this.write(h):"";return this.lastNeed?f+this.lastChar.toString("base64",0,3-this.lastNeed):f}function l(h){return h.toString(this.encoding)}function i(h){return h&&h.length?this.write(h):""}}),Ao=Et((j,z)=>{yt(),St(),Tt();var G=He(),{PromisePrototypeThen:V,SymbolAsyncIterator:X,SymbolIterator:b}=Kt(),{Buffer:c}=(qt(),Xt(kt)),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_NULL_VALUES:t}=re().codes;function a(p,o,s){let r;if(typeof o=="string"||o instanceof c)return new p({objectMode:!0,...s,read(){this.push(o),this.push(null)}});let e;if(o&&o[X])e=!0,r=o[X]();else if(o&&o[b])e=!1,r=o[b]();else throw new x("iterable",["Iterable"],o);let n=new p({objectMode:!0,highWaterMark:1,...s}),l=!1;n._read=function(){l||(l=!0,h())},n._destroy=function(f,d){V(i(f),()=>G.nextTick(d,f),u=>G.nextTick(d,u||f))};async function i(f){let d=f!=null,u=typeof r.throw=="function";if(d&&u){let{value:v,done:g}=await r.throw(f);if(await v,g)return}if(typeof r.return=="function"){let{value:v}=await r.return();await v}}async function h(){for(;;){try{let{value:f,done:d}=e?await r.next():r.next();if(d)n.push(null);else{let u=f&&typeof f.then=="function"?await f:f;if(u===null)throw l=!1,new t;if(n.push(u))continue;l=!1}}catch(f){n.destroy(f)}break}}return n}z.exports=a}),ur=Et((j,z)=>{yt(),St(),Tt();var G=He(),{ArrayPrototypeIndexOf:V,NumberIsInteger:X,NumberIsNaN:b,NumberParseInt:c,ObjectDefineProperties:x,ObjectKeys:t,ObjectSetPrototypeOf:a,Promise:p,SafeSet:o,SymbolAsyncDispose:s,SymbolAsyncIterator:r,Symbol:e}=Kt();z.exports=vt,vt.ReadableState=xt;var{EventEmitter:n}=(Ye(),Xt(Ie)),{Stream:l,prependListener:i}=Ps(),{Buffer:h}=(qt(),Xt(kt)),{addAbortSignal:f}=hr(),d=De(),u=ne().debuglog("stream",rt=>{u=rt}),v=al(),g=ti(),{getHighWaterMark:y,getDefaultHighWaterMark:m}=lr(),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:P}=re(),{validateObject:M}=xi(),R=e("kPaused"),{StringDecoder:I}=hl(),D=Ao();a(vt.prototype,l.prototype),a(vt,l);var Y=()=>{},{errorOrDestroy:B}=g,O=1,N=2,L=4,W=8,F=16,U=32,Z=64,J=128,Q=256,k=512,et=1024,it=2048,q=4096,tt=8192,nt=16384,ht=32768,gt=65536,mt=1<<17,at=1<<18;function ft(rt){return{enumerable:!1,get(){return(this.state&rt)!==0},set(lt){lt?this.state|=rt:this.state&=~rt}}}x(xt.prototype,{objectMode:ft(O),ended:ft(N),endEmitted:ft(L),reading:ft(W),constructed:ft(F),sync:ft(U),needReadable:ft(Z),emittedReadable:ft(J),readableListening:ft(Q),resumeScheduled:ft(k),errorEmitted:ft(et),emitClose:ft(it),autoDestroy:ft(q),destroyed:ft(tt),closed:ft(nt),closeEmitted:ft(ht),multiAwaitDrain:ft(gt),readingMore:ft(mt),dataEmitted:ft(at)});function xt(rt,lt,wt){typeof wt!="boolean"&&(wt=lt instanceof Te()),this.state=it|q|F|U,rt&&rt.objectMode&&(this.state|=O),wt&&rt&&rt.readableObjectMode&&(this.state|=O),this.highWaterMark=rt?y(this,rt,"readableHighWaterMark",wt):m(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this[R]=null,rt&&rt.emitClose===!1&&(this.state&=~it),rt&&rt.autoDestroy===!1&&(this.state&=~q),this.errored=null,this.defaultEncoding=rt&&rt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,rt&&rt.encoding&&(this.decoder=new I(rt.encoding),this.encoding=rt.encoding)}function vt(rt){if(!(this instanceof vt))return new vt(rt);let lt=this instanceof Te();this._readableState=new xt(rt,this,lt),rt&&(typeof rt.read=="function"&&(this._read=rt.read),typeof rt.destroy=="function"&&(this._destroy=rt.destroy),typeof rt.construct=="function"&&(this._construct=rt.construct),rt.signal&&!lt&&f(rt.signal,this)),l.call(this,rt),g.construct(this,()=>{this._readableState.needReadable&&ot(this,this._readableState)})}vt.prototype.destroy=g.destroy,vt.prototype._undestroy=g.undestroy,vt.prototype._destroy=function(rt,lt){lt(rt)},vt.prototype[n.captureRejectionSymbol]=function(rt){this.destroy(rt)},vt.prototype[s]=function(){let rt;return this.destroyed||(rt=this.readableEnded?null:new P,this.destroy(rt)),new p((lt,wt)=>d(this,Lt=>Lt&&Lt!==rt?wt(Lt):lt(null)))},vt.prototype.push=function(rt,lt){return Pt(this,rt,lt,!1)},vt.prototype.unshift=function(rt,lt){return Pt(this,rt,lt,!0)};function Pt(rt,lt,wt,Lt){u("readableAddChunk",lt);let Ft=rt._readableState,Jt;if(!(Ft.state&O)&&(typeof lt=="string"?(wt=wt||Ft.defaultEncoding,Ft.encoding!==wt&&(Lt&&Ft.encoding?lt=h.from(lt,wt).toString(Ft.encoding):(lt=h.from(lt,wt),wt=""))):lt instanceof h?wt="":l._isUint8Array(lt)?(lt=l._uint8ArrayToBuffer(lt),wt=""):lt!=null&&(Jt=new S("chunk",["string","Buffer","Uint8Array"],lt))),Jt)B(rt,Jt);else if(lt===null)Ft.state&=~W,st(rt,Ft);else if(Ft.state&O||lt&&lt.length>0)if(Lt)if(Ft.state&L)B(rt,new A);else{if(Ft.destroyed||Ft.errored)return!1;H(rt,Ft,lt,!0)}else if(Ft.ended)B(rt,new w);else{if(Ft.destroyed||Ft.errored)return!1;Ft.state&=~W,Ft.decoder&&!wt?(lt=Ft.decoder.write(lt),Ft.objectMode||lt.length!==0?H(rt,Ft,lt,!1):ot(rt,Ft)):H(rt,Ft,lt,!1)}else Lt||(Ft.state&=~W,ot(rt,Ft));return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function H(rt,lt,wt,Lt){lt.flowing&&lt.length===0&&!lt.sync&&rt.listenerCount("data")>0?(lt.state&gt?lt.awaitDrainWriters.clear():lt.awaitDrainWriters=null,lt.dataEmitted=!0,rt.emit("data",wt)):(lt.length+=lt.objectMode?1:wt.length,Lt?lt.buffer.unshift(wt):lt.buffer.push(wt),lt.state&Z&&dt(rt)),ot(rt,lt)}vt.prototype.isPaused=function(){let rt=this._readableState;return rt[R]===!0||rt.flowing===!1},vt.prototype.setEncoding=function(rt){let lt=new I(rt);this._readableState.decoder=lt,this._readableState.encoding=this._readableState.decoder.encoding;let wt=this._readableState.buffer,Lt="";for(let Ft of wt)Lt+=lt.write(Ft);return wt.clear(),Lt!==""&&wt.push(Lt),this._readableState.length=Lt.length,this};var K=1073741824;function $(rt){if(rt>K)throw new C("size","<= 1GiB",rt);return rt--,rt|=rt>>>1,rt|=rt>>>2,rt|=rt>>>4,rt|=rt>>>8,rt|=rt>>>16,rt++,rt}function _(rt,lt){return rt<=0||lt.length===0&&lt.ended?0:lt.state&O?1:b(rt)?lt.flowing&&lt.length?lt.buffer.first().length:lt.length:rt<=lt.length?rt:lt.ended?lt.length:0}vt.prototype.read=function(rt){u("read",rt),rt===void 0?rt=NaN:X(rt)||(rt=c(rt,10));let lt=this._readableState,wt=rt;if(rt>lt.highWaterMark&&(lt.highWaterMark=$(rt)),rt!==0&&(lt.state&=~J),rt===0&&lt.needReadable&&((lt.highWaterMark!==0?lt.length>=lt.highWaterMark:lt.length>0)||lt.ended))return u("read: emitReadable",lt.length,lt.ended),lt.length===0&&lt.ended?Nt(this):dt(this),null;if(rt=_(rt,lt),rt===0&&lt.ended)return lt.length===0&&Nt(this),null;let Lt=(lt.state&Z)!==0;if(u("need readable",Lt),(lt.length===0||lt.length-rt<lt.highWaterMark)&&(Lt=!0,u("length less than watermark",Lt)),lt.ended||lt.reading||lt.destroyed||lt.errored||!lt.constructed)Lt=!1,u("reading, ended or constructing",Lt);else if(Lt){u("do read"),lt.state|=W|U,lt.length===0&&(lt.state|=Z);try{this._read(lt.highWaterMark)}catch(Jt){B(this,Jt)}lt.state&=~U,lt.reading||(rt=_(wt,lt))}let Ft;return rt>0?Ft=It(rt,lt):Ft=null,Ft===null?(lt.needReadable=lt.length<=lt.highWaterMark,rt=0):(lt.length-=rt,lt.multiAwaitDrain?lt.awaitDrainWriters.clear():lt.awaitDrainWriters=null),lt.length===0&&(lt.ended||(lt.needReadable=!0),wt!==rt&&lt.ended&&Nt(this)),Ft!==null&&!lt.errorEmitted&&!lt.closeEmitted&&(lt.dataEmitted=!0,this.emit("data",Ft)),Ft};function st(rt,lt){if(u("onEofChunk"),!lt.ended){if(lt.decoder){let wt=lt.decoder.end();wt&&wt.length&&(lt.buffer.push(wt),lt.length+=lt.objectMode?1:wt.length)}lt.ended=!0,lt.sync?dt(rt):(lt.needReadable=!1,lt.emittedReadable=!0,pt(rt))}}function dt(rt){let lt=rt._readableState;u("emitReadable",lt.needReadable,lt.emittedReadable),lt.needReadable=!1,lt.emittedReadable||(u("emitReadable",lt.flowing),lt.emittedReadable=!0,G.nextTick(pt,rt))}function pt(rt){let lt=rt._readableState;u("emitReadable_",lt.destroyed,lt.length,lt.ended),!lt.destroyed&&!lt.errored&&(lt.length||lt.ended)&&(rt.emit("readable"),lt.emittedReadable=!1),lt.needReadable=!lt.flowing&&!lt.ended&&lt.length<=lt.highWaterMark,Wt(rt)}function ot(rt,lt){!lt.readingMore&&lt.constructed&&(lt.readingMore=!0,G.nextTick(ct,rt,lt))}function ct(rt,lt){for(;!lt.reading&&!lt.ended&&(lt.length<lt.highWaterMark||lt.flowing&&lt.length===0);){let wt=lt.length;if(u("maybeReadMore read 0"),rt.read(0),wt===lt.length)break}lt.readingMore=!1}vt.prototype._read=function(rt){throw new E("_read()")},vt.prototype.pipe=function(rt,lt){let wt=this,Lt=this._readableState;Lt.pipes.length===1&&(Lt.multiAwaitDrain||(Lt.multiAwaitDrain=!0,Lt.awaitDrainWriters=new o(Lt.awaitDrainWriters?[Lt.awaitDrainWriters]:[]))),Lt.pipes.push(rt),u("pipe count=%d opts=%j",Lt.pipes.length,lt);let Ft=(!lt||lt.end!==!1)&&rt!==G.stdout&&rt!==G.stderr?ie:Ne;Lt.endEmitted?G.nextTick(Ft):wt.once("end",Ft),rt.on("unpipe",Jt);function Jt(ue,ce){u("onunpipe"),ue===wt&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,ni())}function ie(){u("onend"),rt.end()}let oe,ri=!1;function ni(){u("cleanup"),rt.removeListener("close",le),rt.removeListener("finish",Pe),oe&&rt.removeListener("drain",oe),rt.removeListener("error",Be),rt.removeListener("unpipe",Jt),wt.removeListener("end",ie),wt.removeListener("end",Ne),wt.removeListener("data",Ti),ri=!0,oe&&Lt.awaitDrainWriters&&(!rt._writableState||rt._writableState.needDrain)&&oe()}function si(){ri||(Lt.pipes.length===1&&Lt.pipes[0]===rt?(u("false write response, pause",0),Lt.awaitDrainWriters=rt,Lt.multiAwaitDrain=!1):Lt.pipes.length>1&&Lt.pipes.includes(rt)&&(u("false write response, pause",Lt.awaitDrainWriters.size),Lt.awaitDrainWriters.add(rt)),wt.pause()),oe||(oe=Ct(wt,rt),rt.on("drain",oe))}wt.on("data",Ti);function Ti(ue){u("ondata");let ce=rt.write(ue);u("dest.write",ce),ce===!1&&si()}function Be(ue){if(u("onerror",ue),Ne(),rt.removeListener("error",Be),rt.listenerCount("error")===0){let ce=rt._writableState||rt._readableState;ce&&!ce.errorEmitted?B(rt,ue):rt.emit("error",ue)}}i(rt,"error",Be);function le(){rt.removeListener("finish",Pe),Ne()}rt.once("close",le);function Pe(){u("onfinish"),rt.removeListener("close",le),Ne()}rt.once("finish",Pe);function Ne(){u("unpipe"),wt.unpipe(rt)}return rt.emit("pipe",wt),rt.writableNeedDrain===!0?si():Lt.flowing||(u("pipe resume"),wt.resume()),rt};function Ct(rt,lt){return function(){let wt=rt._readableState;wt.awaitDrainWriters===lt?(u("pipeOnDrain",1),wt.awaitDrainWriters=null):wt.multiAwaitDrain&&(u("pipeOnDrain",wt.awaitDrainWriters.size),wt.awaitDrainWriters.delete(lt)),(!wt.awaitDrainWriters||wt.awaitDrainWriters.size===0)&&rt.listenerCount("data")&&rt.resume()}}vt.prototype.unpipe=function(rt){let lt=this._readableState,wt={hasUnpiped:!1};if(lt.pipes.length===0)return this;if(!rt){let Ft=lt.pipes;lt.pipes=[],this.pause();for(let Jt=0;Jt<Ft.length;Jt++)Ft[Jt].emit("unpipe",this,{hasUnpiped:!1});return this}let Lt=V(lt.pipes,rt);return Lt===-1?this:(lt.pipes.splice(Lt,1),lt.pipes.length===0&&this.pause(),rt.emit("unpipe",this,wt),this)},vt.prototype.on=function(rt,lt){let wt=l.prototype.on.call(this,rt,lt),Lt=this._readableState;return rt==="data"?(Lt.readableListening=this.listenerCount("readable")>0,Lt.flowing!==!1&&this.resume()):rt==="readable"&&!Lt.endEmitted&&!Lt.readableListening&&(Lt.readableListening=Lt.needReadable=!0,Lt.flowing=!1,Lt.emittedReadable=!1,u("on readable",Lt.length,Lt.reading),Lt.length?dt(this):Lt.reading||G.nextTick(Rt,this)),wt},vt.prototype.addListener=vt.prototype.on,vt.prototype.removeListener=function(rt,lt){let wt=l.prototype.removeListener.call(this,rt,lt);return rt==="readable"&&G.nextTick(Mt,this),wt},vt.prototype.off=vt.prototype.removeListener,vt.prototype.removeAllListeners=function(rt){let lt=l.prototype.removeAllListeners.apply(this,arguments);return(rt==="readable"||rt===void 0)&&G.nextTick(Mt,this),lt};function Mt(rt){let lt=rt._readableState;lt.readableListening=rt.listenerCount("readable")>0,lt.resumeScheduled&&lt[R]===!1?lt.flowing=!0:rt.listenerCount("data")>0?rt.resume():lt.readableListening||(lt.flowing=null)}function Rt(rt){u("readable nexttick read 0"),rt.read(0)}vt.prototype.resume=function(){let rt=this._readableState;return rt.flowing||(u("resume"),rt.flowing=!rt.readableListening,bt(this,rt)),rt[R]=!1,this};function bt(rt,lt){lt.resumeScheduled||(lt.resumeScheduled=!0,G.nextTick(zt,rt,lt))}function zt(rt,lt){u("resume",lt.reading),lt.reading||rt.read(0),lt.resumeScheduled=!1,rt.emit("resume"),Wt(rt),lt.flowing&&!lt.reading&&rt.read(0)}vt.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[R]=!0,this};function Wt(rt){let lt=rt._readableState;for(u("flow",lt.flowing);lt.flowing&&rt.read()!==null;);}vt.prototype.wrap=function(rt){let lt=!1;rt.on("data",Lt=>{!this.push(Lt)&&rt.pause&&(lt=!0,rt.pause())}),rt.on("end",()=>{this.push(null)}),rt.on("error",Lt=>{B(this,Lt)}),rt.on("close",()=>{this.destroy()}),rt.on("destroy",()=>{this.destroy()}),this._read=()=>{lt&&rt.resume&&(lt=!1,rt.resume())};let wt=t(rt);for(let Lt=1;Lt<wt.length;Lt++){let Ft=wt[Lt];this[Ft]===void 0&&typeof rt[Ft]=="function"&&(this[Ft]=rt[Ft].bind(rt))}return this},vt.prototype[r]=function(){return Bt(this)},vt.prototype.iterator=function(rt){return rt!==void 0&&M(rt,"options"),Bt(this,rt)};function Bt(rt,lt){typeof rt.read!="function"&&(rt=vt.wrap(rt,{objectMode:!0}));let wt=Yt(rt,lt);return wt.stream=rt,wt}async function*Yt(rt,lt){let wt=Y;function Lt(ie){this===rt?(wt(),wt=Y):wt=ie}rt.on("readable",Lt);let Ft,Jt=d(rt,{writable:!1},ie=>{Ft=ie?T(Ft,ie):null,wt(),wt=Y});try{for(;;){let ie=rt.destroyed?null:rt.read();if(ie!==null)yield ie;else{if(Ft)throw Ft;if(Ft===null)return;await new p(Lt)}}}catch(ie){throw Ft=T(Ft,ie),Ft}finally{(Ft||(lt==null?void 0:lt.destroyOnReturn)!==!1)&&(Ft===void 0||rt._readableState.autoDestroy)?g.destroyer(rt,null):(rt.off("readable",Lt),Jt())}}x(vt.prototype,{readable:{__proto__:null,get(){let rt=this._readableState;return!!rt&&rt.readable!==!1&&!rt.destroyed&&!rt.errorEmitted&&!rt.endEmitted},set(rt){this._readableState&&(this._readableState.readable=!!rt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(rt){this._readableState&&(this._readableState.flowing=rt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(rt){this._readableState&&(this._readableState.destroyed=rt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),x(xt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[R]!==!1},set(rt){this[R]=!!rt}}}),vt._fromList=It;function It(rt,lt){if(lt.length===0)return null;let wt;return lt.objectMode?wt=lt.buffer.shift():!rt||rt>=lt.length?(lt.decoder?wt=lt.buffer.join(""):lt.buffer.length===1?wt=lt.buffer.first():wt=lt.buffer.concat(lt.length),lt.buffer.clear()):wt=lt.buffer.consume(rt,lt.decoder),wt}function Nt(rt){let lt=rt._readableState;u("endReadable",lt.endEmitted),lt.endEmitted||(lt.ended=!0,G.nextTick(Vt,lt,rt))}function Vt(rt,lt){if(u("endReadableNT",rt.endEmitted,rt.length),!rt.errored&&!rt.closeEmitted&&!rt.endEmitted&&rt.length===0){if(rt.endEmitted=!0,lt.emit("end"),lt.writable&&lt.allowHalfOpen===!1)G.nextTick(Zt,lt);else if(rt.autoDestroy){let wt=lt._writableState;(!wt||wt.autoDestroy&&(wt.finished||wt.writable===!1))&&lt.destroy()}}}function Zt(rt){rt.writable&&!rt.writableEnded&&!rt.destroyed&&rt.end()}vt.from=function(rt,lt){return D(vt,rt,lt)};var Qt;function ae(){return Qt===void 0&&(Qt={}),Qt}vt.fromWeb=function(rt,lt){return ae().newStreamReadableFromReadableStream(rt,lt)},vt.toWeb=function(rt,lt){return ae().newReadableStreamFromStreamReadable(rt,lt)},vt.wrap=function(rt,lt){var wt,Lt;return new vt({objectMode:(wt=(Lt=rt.readableObjectMode)!==null&&Lt!==void 0?Lt:rt.objectMode)!==null&&wt!==void 0?wt:!0,...lt,destroy(Ft,Jt){g.destroyer(rt,Ft),Jt(Ft)}}).wrap(rt)}}),ws=Et((j,z)=>{yt(),St(),Tt();var G=He(),{ArrayPrototypeSlice:V,Error:X,FunctionPrototypeSymbolHasInstance:b,ObjectDefineProperty:c,ObjectDefineProperties:x,ObjectSetPrototypeOf:t,StringPrototypeToLowerCase:a,Symbol:p,SymbolHasInstance:o}=Kt();z.exports=M,M.WritableState=A;var{EventEmitter:s}=(Ye(),Xt(Ie)),r=Ps().Stream,{Buffer:e}=(qt(),Xt(kt)),n=ti(),{addAbortSignal:l}=hr(),{getHighWaterMark:i,getDefaultHighWaterMark:h}=lr(),{ERR_INVALID_ARG_TYPE:f,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_MULTIPLE_CALLBACK:u,ERR_STREAM_CANNOT_PIPE:v,ERR_STREAM_DESTROYED:g,ERR_STREAM_ALREADY_FINISHED:y,ERR_STREAM_NULL_VALUES:m,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:S}=re().codes,{errorOrDestroy:E}=n;t(M.prototype,r.prototype),t(M,r);function C(){}var w=p("kOnFinished");function A(q,tt,nt){typeof nt!="boolean"&&(nt=tt instanceof Te()),this.objectMode=!!(q&&q.objectMode),nt&&(this.objectMode=this.objectMode||!!(q&&q.writableObjectMode)),this.highWaterMark=q?i(this,q,"writableHighWaterMark",nt):h(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ht=!!(q&&q.decodeStrings===!1);this.decodeStrings=!ht,this.defaultEncoding=q&&q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,tt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!q||q.emitClose!==!1,this.autoDestroy=!q||q.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[w]=[]}function P(q){q.buffered=[],q.bufferedIndex=0,q.allBuffers=!0,q.allNoop=!0}A.prototype.getBuffer=function(){return V(this.buffered,this.bufferedIndex)},c(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function M(q){let tt=this instanceof Te();if(!tt&&!b(M,this))return new M(q);this._writableState=new A(q,this,tt),q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final),typeof q.construct=="function"&&(this._construct=q.construct),q.signal&&l(q.signal,this)),r.call(this,q),n.construct(this,()=>{let nt=this._writableState;nt.writing||W(this,nt),J(this,nt)})}c(M,o,{__proto__:null,value:function(q){return b(this,q)?!0:this!==M?!1:q&&q._writableState instanceof A}}),M.prototype.pipe=function(){E(this,new v)};function R(q,tt,nt,ht){let gt=q._writableState;if(typeof nt=="function")ht=nt,nt=gt.defaultEncoding;else{if(!nt)nt=gt.defaultEncoding;else if(nt!=="buffer"&&!e.isEncoding(nt))throw new S(nt);typeof ht!="function"&&(ht=C)}if(tt===null)throw new m;if(!gt.objectMode)if(typeof tt=="string")gt.decodeStrings!==!1&&(tt=e.from(tt,nt),nt="buffer");else if(tt instanceof e)nt="buffer";else if(r._isUint8Array(tt))tt=r._uint8ArrayToBuffer(tt),nt="buffer";else throw new f("chunk",["string","Buffer","Uint8Array"],tt);let mt;return gt.ending?mt=new T:gt.destroyed&&(mt=new g("write")),mt?(G.nextTick(ht,mt),E(q,mt,!0),mt):(gt.pendingcb++,I(q,gt,tt,nt,ht))}M.prototype.write=function(q,tt,nt){return R(this,q,tt,nt)===!0},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){let q=this._writableState;q.corked&&(q.corked--,q.writing||W(this,q))},M.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=a(q)),!e.isEncoding(q))throw new S(q);return this._writableState.defaultEncoding=q,this};function I(q,tt,nt,ht,gt){let mt=tt.objectMode?1:nt.length;tt.length+=mt;let at=tt.length<tt.highWaterMark;return at||(tt.needDrain=!0),tt.writing||tt.corked||tt.errored||!tt.constructed?(tt.buffered.push({chunk:nt,encoding:ht,callback:gt}),tt.allBuffers&&ht!=="buffer"&&(tt.allBuffers=!1),tt.allNoop&&gt!==C&&(tt.allNoop=!1)):(tt.writelen=mt,tt.writecb=gt,tt.writing=!0,tt.sync=!0,q._write(nt,ht,tt.onwrite),tt.sync=!1),at&&!tt.errored&&!tt.destroyed}function D(q,tt,nt,ht,gt,mt,at){tt.writelen=ht,tt.writecb=at,tt.writing=!0,tt.sync=!0,tt.destroyed?tt.onwrite(new g("write")):nt?q._writev(gt,tt.onwrite):q._write(gt,mt,tt.onwrite),tt.sync=!1}function Y(q,tt,nt,ht){--tt.pendingcb,ht(nt),L(tt),E(q,nt)}function B(q,tt){let nt=q._writableState,ht=nt.sync,gt=nt.writecb;if(typeof gt!="function"){E(q,new u);return}nt.writing=!1,nt.writecb=null,nt.length-=nt.writelen,nt.writelen=0,tt?(tt.stack,nt.errored||(nt.errored=tt),q._readableState&&!q._readableState.errored&&(q._readableState.errored=tt),ht?G.nextTick(Y,q,nt,tt,gt):Y(q,nt,tt,gt)):(nt.buffered.length>nt.bufferedIndex&&W(q,nt),ht?nt.afterWriteTickInfo!==null&&nt.afterWriteTickInfo.cb===gt?nt.afterWriteTickInfo.count++:(nt.afterWriteTickInfo={count:1,cb:gt,stream:q,state:nt},G.nextTick(O,nt.afterWriteTickInfo)):N(q,nt,1,gt))}function O({stream:q,state:tt,count:nt,cb:ht}){return tt.afterWriteTickInfo=null,N(q,tt,nt,ht)}function N(q,tt,nt,ht){for(!tt.ending&&!q.destroyed&&tt.length===0&&tt.needDrain&&(tt.needDrain=!1,q.emit("drain"));nt-- >0;)tt.pendingcb--,ht();tt.destroyed&&L(tt),J(q,tt)}function L(q){if(q.writing)return;for(let gt=q.bufferedIndex;gt<q.buffered.length;++gt){var tt;let{chunk:mt,callback:at}=q.buffered[gt],ft=q.objectMode?1:mt.length;q.length-=ft,at((tt=q.errored)!==null&&tt!==void 0?tt:new g("write"))}let nt=q[w].splice(0);for(let gt=0;gt<nt.length;gt++){var ht;nt[gt]((ht=q.errored)!==null&&ht!==void 0?ht:new g("end"))}P(q)}function W(q,tt){if(tt.corked||tt.bufferProcessing||tt.destroyed||!tt.constructed)return;let{buffered:nt,bufferedIndex:ht,objectMode:gt}=tt,mt=nt.length-ht;if(!mt)return;let at=ht;if(tt.bufferProcessing=!0,mt>1&&q._writev){tt.pendingcb-=mt-1;let ft=tt.allNoop?C:vt=>{for(let Pt=at;Pt<nt.length;++Pt)nt[Pt].callback(vt)},xt=tt.allNoop&&at===0?nt:V(nt,at);xt.allBuffers=tt.allBuffers,D(q,tt,!0,tt.length,xt,"",ft),P(tt)}else{do{let{chunk:ft,encoding:xt,callback:vt}=nt[at];nt[at++]=null;let Pt=gt?1:ft.length;D(q,tt,!1,Pt,ft,xt,vt)}while(at<nt.length&&!tt.writing);at===nt.length?P(tt):at>256?(nt.splice(0,at),tt.bufferedIndex=0):tt.bufferedIndex=at}tt.bufferProcessing=!1}M.prototype._write=function(q,tt,nt){if(this._writev)this._writev([{chunk:q,encoding:tt}],nt);else throw new d("_write()")},M.prototype._writev=null,M.prototype.end=function(q,tt,nt){let ht=this._writableState;typeof q=="function"?(nt=q,q=null,tt=null):typeof tt=="function"&&(nt=tt,tt=null);let gt;if(q!=null){let mt=R(this,q,tt);mt instanceof X&&(gt=mt)}return ht.corked&&(ht.corked=1,this.uncork()),gt||(!ht.errored&&!ht.ending?(ht.ending=!0,J(this,ht,!0),ht.ended=!0):ht.finished?gt=new y("end"):ht.destroyed&&(gt=new g("end"))),typeof nt=="function"&&(gt||ht.finished?G.nextTick(nt,gt):ht[w].push(nt)),this};function F(q){return q.ending&&!q.destroyed&&q.constructed&&q.length===0&&!q.errored&&q.buffered.length===0&&!q.finished&&!q.writing&&!q.errorEmitted&&!q.closeEmitted}function U(q,tt){let nt=!1;function ht(gt){if(nt){E(q,gt??u());return}if(nt=!0,tt.pendingcb--,gt){let mt=tt[w].splice(0);for(let at=0;at<mt.length;at++)mt[at](gt);E(q,gt,tt.sync)}else F(tt)&&(tt.prefinished=!0,q.emit("prefinish"),tt.pendingcb++,G.nextTick(Q,q,tt))}tt.sync=!0,tt.pendingcb++;try{q._final(ht)}catch(gt){ht(gt)}tt.sync=!1}function Z(q,tt){!tt.prefinished&&!tt.finalCalled&&(typeof q._final=="function"&&!tt.destroyed?(tt.finalCalled=!0,U(q,tt)):(tt.prefinished=!0,q.emit("prefinish")))}function J(q,tt,nt){F(tt)&&(Z(q,tt),tt.pendingcb===0&&(nt?(tt.pendingcb++,G.nextTick((ht,gt)=>{F(gt)?Q(ht,gt):gt.pendingcb--},q,tt)):F(tt)&&(tt.pendingcb++,Q(q,tt))))}function Q(q,tt){tt.pendingcb--,tt.finished=!0;let nt=tt[w].splice(0);for(let ht=0;ht<nt.length;ht++)nt[ht]();if(q.emit("finish"),tt.autoDestroy){let ht=q._readableState;(!ht||ht.autoDestroy&&(ht.endEmitted||ht.readable===!1))&&q.destroy()}}x(M.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(q){this._writableState&&(this._writableState.destroyed=q)}},writable:{__proto__:null,get(){let q=this._writableState;return!!q&&q.writable!==!1&&!q.destroyed&&!q.errored&&!q.ending&&!q.ended},set(q){this._writableState&&(this._writableState.writable=!!q)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let q=this._writableState;return q?!q.destroyed&&!q.ending&&q.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var k=n.destroy;M.prototype.destroy=function(q,tt){let nt=this._writableState;return!nt.destroyed&&(nt.bufferedIndex<nt.buffered.length||nt[w].length)&&G.nextTick(L,nt),k.call(this,q,tt),this},M.prototype._undestroy=n.undestroy,M.prototype._destroy=function(q,tt){tt(q)},M.prototype[s.captureRejectionSymbol]=function(q){this.destroy(q)};var et;function it(){return et===void 0&&(et={}),et}M.fromWeb=function(q,tt){return it().newStreamWritableFromWritableStream(q,tt)},M.toWeb=function(q){return it().newWritableStreamFromStreamWritable(q)}}),ll=Et((j,z)=>{yt(),St(),Tt();var G=He(),V=(qt(),Xt(kt)),{isReadable:X,isWritable:b,isIterable:c,isNodeStream:x,isReadableNodeStream:t,isWritableNodeStream:a,isDuplexNodeStream:p,isReadableStream:o,isWritableStream:s}=Ee(),r=De(),{AbortError:e,codes:{ERR_INVALID_ARG_TYPE:n,ERR_INVALID_RETURN_VALUE:l}}=re(),{destroyer:i}=ti(),h=Te(),f=ur(),d=ws(),{createDeferredPromise:u}=ne(),v=Ao(),g=globalThis.Blob||V.Blob,y=typeof g<"u"?function(w){return w instanceof g}:function(w){return!1},m=globalThis.AbortController||pi().AbortController,{FunctionPrototypeCall:T}=Kt(),S=class extends h{constructor(w){super(w),(w==null?void 0:w.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(w==null?void 0:w.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};z.exports=function w(A,P){if(p(A))return A;if(t(A))return C({readable:A});if(a(A))return C({writable:A});if(x(A))return C({writable:!1,readable:!1});if(o(A))return C({readable:f.fromWeb(A)});if(s(A))return C({writable:d.fromWeb(A)});if(typeof A=="function"){let{value:R,write:I,final:D,destroy:Y}=E(A);if(c(R))return v(S,R,{objectMode:!0,write:I,final:D,destroy:Y});let B=R==null?void 0:R.then;if(typeof B=="function"){let O,N=T(B,R,L=>{if(L!=null)throw new l("nully","body",L)},L=>{i(O,L)});return O=new S({objectMode:!0,readable:!1,write:I,final(L){D(async()=>{try{await N,G.nextTick(L,null)}catch(W){G.nextTick(L,W)}})},destroy:Y})}throw new l("Iterable, AsyncIterable or AsyncFunction",P,R)}if(y(A))return w(A.arrayBuffer());if(c(A))return v(S,A,{objectMode:!0,writable:!1});if(o(A==null?void 0:A.readable)&&s(A==null?void 0:A.writable))return S.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){let R=A!=null&&A.readable?t(A==null?void 0:A.readable)?A==null?void 0:A.readable:w(A.readable):void 0,I=A!=null&&A.writable?a(A==null?void 0:A.writable)?A==null?void 0:A.writable:w(A.writable):void 0;return C({readable:R,writable:I})}let M=A==null?void 0:A.then;if(typeof M=="function"){let R;return T(M,A,I=>{I!=null&&R.push(I),R.push(null)},I=>{i(R,I)}),R=new S({objectMode:!0,writable:!1,read(){}})}throw new n(P,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function E(w){let{promise:A,resolve:P}=u(),M=new m,R=M.signal;return{value:w(async function*(){for(;;){let I=A;A=null;let{chunk:D,done:Y,cb:B}=await I;if(G.nextTick(B),Y)return;if(R.aborted)throw new e(void 0,{cause:R.reason});({promise:A,resolve:P}=u()),yield D}}(),{signal:R}),write(I,D,Y){let B=P;P=null,B({chunk:I,done:!1,cb:Y})},final(I){let D=P;P=null,D({done:!0,cb:I})},destroy(I,D){M.abort(),D(I)}}}function C(w){let A=w.readable&&typeof w.readable.read!="function"?f.wrap(w.readable):w.readable,P=w.writable,M=!!X(A),R=!!b(P),I,D,Y,B,O;function N(L){let W=B;B=null,W?W(L):L&&O.destroy(L)}return O=new S({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(P!=null&&P.writableObjectMode),readable:M,writable:R}),R&&(r(P,L=>{R=!1,L&&i(A,L),N(L)}),O._write=function(L,W,F){P.write(L,W)?F():I=F},O._final=function(L){P.end(),D=L},P.on("drain",function(){if(I){let L=I;I=null,L()}}),P.on("finish",function(){if(D){let L=D;D=null,L()}})),M&&(r(A,L=>{M=!1,L&&i(A,L),N(L)}),A.on("readable",function(){if(Y){let L=Y;Y=null,L()}}),A.on("end",function(){O.push(null)}),O._read=function(){for(;;){let L=A.read();if(L===null){Y=O._read;return}if(!O.push(L))return}}),O._destroy=function(L,W){!L&&B!==null&&(L=new e),Y=null,I=null,D=null,B===null?W(L):(B=W,i(P,L),i(A,L))},O}}),Te=Et((j,z)=>{yt(),St(),Tt();var{ObjectDefineProperties:G,ObjectGetOwnPropertyDescriptor:V,ObjectKeys:X,ObjectSetPrototypeOf:b}=Kt();z.exports=t;var c=ur(),x=ws();b(t.prototype,c.prototype),b(t,c);{let s=X(x.prototype);for(let r=0;r<s.length;r++){let e=s[r];t.prototype[e]||(t.prototype[e]=x.prototype[e])}}function t(s){if(!(this instanceof t))return new t(s);c.call(this,s),x.call(this,s),s?(this.allowHalfOpen=s.allowHalfOpen!==!1,s.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),s.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}G(t.prototype,{writable:{__proto__:null,...V(x.prototype,"writable")},writableHighWaterMark:{__proto__:null,...V(x.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...V(x.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...V(x.prototype,"writableBuffer")},writableLength:{__proto__:null,...V(x.prototype,"writableLength")},writableFinished:{__proto__:null,...V(x.prototype,"writableFinished")},writableCorked:{__proto__:null,...V(x.prototype,"writableCorked")},writableEnded:{__proto__:null,...V(x.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...V(x.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(s){this._readableState&&this._writableState&&(this._readableState.destroyed=s,this._writableState.destroyed=s)}}});var a;function p(){return a===void 0&&(a={}),a}t.fromWeb=function(s,r){return p().newStreamDuplexFromReadableWritablePair(s,r)},t.toWeb=function(s){return p().newReadableWritablePairFromDuplex(s)};var o;t.from=function(s){return o||(o=ll()),o(s,"body")}}),Po=Et((j,z)=>{yt(),St(),Tt();var{ObjectSetPrototypeOf:G,Symbol:V}=Kt();z.exports=t;var{ERR_METHOD_NOT_IMPLEMENTED:X}=re().codes,b=Te(),{getHighWaterMark:c}=lr();G(t.prototype,b.prototype),G(t,b);var x=V("kCallback");function t(o){if(!(this instanceof t))return new t(o);let s=o?c(this,o,"readableHighWaterMark",!0):null;s===0&&(o={...o,highWaterMark:null,readableHighWaterMark:s,writableHighWaterMark:o.writableHighWaterMark||0}),b.call(this,o),this._readableState.sync=!1,this[x]=null,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",p)}function a(o){typeof this._flush=="function"&&!this.destroyed?this._flush((s,r)=>{if(s){o?o(s):this.destroy(s);return}r!=null&&this.push(r),this.push(null),o&&o()}):(this.push(null),o&&o())}function p(){this._final!==a&&a.call(this)}t.prototype._final=a,t.prototype._transform=function(o,s,r){throw new X("_transform()")},t.prototype._write=function(o,s,r){let e=this._readableState,n=this._writableState,l=e.length;this._transform(o,s,(i,h)=>{if(i){r(i);return}h!=null&&this.push(h),n.ended||l===e.length||e.length<e.highWaterMark?r():this[x]=r})},t.prototype._read=function(){if(this[x]){let o=this[x];this[x]=null,o()}}}),wo=Et((j,z)=>{yt(),St(),Tt();var{ObjectSetPrototypeOf:G}=Kt();z.exports=X;var V=Po();G(X.prototype,V.prototype),G(X,V);function X(b){if(!(this instanceof X))return new X(b);V.call(this,b)}X.prototype._transform=function(b,c,x){x(null,b)}}),Ms=Et((j,z)=>{yt(),St(),Tt();var G=He(),{ArrayIsArray:V,Promise:X,SymbolAsyncIterator:b,SymbolDispose:c}=Kt(),x=De(),{once:t}=ne(),a=ti(),p=Te(),{aggregateTwoErrors:o,codes:{ERR_INVALID_ARG_TYPE:s,ERR_INVALID_RETURN_VALUE:r,ERR_MISSING_ARGS:e,ERR_STREAM_DESTROYED:n,ERR_STREAM_PREMATURE_CLOSE:l},AbortError:i}=re(),{validateFunction:h,validateAbortSignal:f}=xi(),{isIterable:d,isReadable:u,isReadableNodeStream:v,isNodeStream:g,isTransformStream:y,isWebStream:m,isReadableStream:T,isReadableFinished:S}=Ee(),E=globalThis.AbortController||pi().AbortController,C,w,A;function P(L,W,F){let U=!1;L.on("close",()=>{U=!0});let Z=x(L,{readable:W,writable:F},J=>{U=!J});return{destroy:J=>{U||(U=!0,a.destroyer(L,J||new n("pipe")))},cleanup:Z}}function M(L){return h(L[L.length-1],"streams[stream.length - 1]"),L.pop()}function R(L){if(d(L))return L;if(v(L))return I(L);throw new s("val",["Readable","Iterable","AsyncIterable"],L)}async function*I(L){w||(w=ur()),yield*w.prototype[b].call(L)}async function D(L,W,F,{end:U}){let Z,J=null,Q=it=>{if(it&&(Z=it),J){let q=J;J=null,q()}},k=()=>new X((it,q)=>{Z?q(Z):J=()=>{Z?q(Z):it()}});W.on("drain",Q);let et=x(W,{readable:!1},Q);try{W.writableNeedDrain&&await k();for await(let it of L)W.write(it)||await k();U&&(W.end(),await k()),F()}catch(it){F(Z!==it?o(Z,it):it)}finally{et(),W.off("drain",Q)}}async function Y(L,W,F,{end:U}){y(W)&&(W=W.writable);let Z=W.getWriter();try{for await(let J of L)await Z.ready,Z.write(J).catch(()=>{});await Z.ready,U&&await Z.close(),F()}catch(J){try{await Z.abort(J),F(J)}catch(Q){F(Q)}}}function B(...L){return O(L,t(M(L)))}function O(L,W,F){if(L.length===1&&V(L[0])&&(L=L[0]),L.length<2)throw new e("streams");let U=new E,Z=U.signal,J=F==null?void 0:F.signal,Q=[];f(J,"options.signal");function k(){gt(new i)}A=A||ne().addAbortListener;let et;J&&(et=A(J,k));let it,q,tt=[],nt=0;function ht(xt){gt(xt,--nt===0)}function gt(xt,vt){var Pt;if(xt&&(!it||it.code==="ERR_STREAM_PREMATURE_CLOSE")&&(it=xt),!(!it&&!vt)){for(;tt.length;)tt.shift()(it);(Pt=et)===null||Pt===void 0||Pt[c](),U.abort(),vt&&(it||Q.forEach(H=>H()),G.nextTick(W,it,q))}}let mt;for(let xt=0;xt<L.length;xt++){let vt=L[xt],Pt=xt<L.length-1,H=xt>0,K=Pt||(F==null?void 0:F.end)!==!1,$=xt===L.length-1;if(g(vt)){let _=function(st){st&&st.name!=="AbortError"&&st.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ht(st)};if(K){let{destroy:st,cleanup:dt}=P(vt,Pt,H);tt.push(st),u(vt)&&$&&Q.push(dt)}vt.on("error",_),u(vt)&&$&&Q.push(()=>{vt.removeListener("error",_)})}if(xt===0)if(typeof vt=="function"){if(mt=vt({signal:Z}),!d(mt))throw new r("Iterable, AsyncIterable or Stream","source",mt)}else d(vt)||v(vt)||y(vt)?mt=vt:mt=p.from(vt);else if(typeof vt=="function"){if(y(mt)){var at;mt=R((at=mt)===null||at===void 0?void 0:at.readable)}else mt=R(mt);if(mt=vt(mt,{signal:Z}),Pt){if(!d(mt,!0))throw new r("AsyncIterable",`transform[${xt-1}]`,mt)}else{var ft;C||(C=wo());let _=new C({objectMode:!0}),st=(ft=mt)===null||ft===void 0?void 0:ft.then;if(typeof st=="function")nt++,st.call(mt,ot=>{q=ot,ot!=null&&_.write(ot),K&&_.end(),G.nextTick(ht)},ot=>{_.destroy(ot),G.nextTick(ht,ot)});else if(d(mt,!0))nt++,D(mt,_,ht,{end:K});else if(T(mt)||y(mt)){let ot=mt.readable||mt;nt++,D(ot,_,ht,{end:K})}else throw new r("AsyncIterable or Promise","destination",mt);mt=_;let{destroy:dt,cleanup:pt}=P(mt,!1,!0);tt.push(dt),$&&Q.push(pt)}}else if(g(vt)){if(v(mt)){nt+=2;let _=N(mt,vt,ht,{end:K});u(vt)&&$&&Q.push(_)}else if(y(mt)||T(mt)){let _=mt.readable||mt;nt++,D(_,vt,ht,{end:K})}else if(d(mt))nt++,D(mt,vt,ht,{end:K});else throw new s("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],mt);mt=vt}else if(m(vt)){if(v(mt))nt++,Y(R(mt),vt,ht,{end:K});else if(T(mt)||d(mt))nt++,Y(mt,vt,ht,{end:K});else if(y(mt))nt++,Y(mt.readable,vt,ht,{end:K});else throw new s("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],mt);mt=vt}else mt=p.from(vt)}return(Z!=null&&Z.aborted||J!=null&&J.aborted)&&G.nextTick(k),mt}function N(L,W,F,{end:U}){let Z=!1;if(W.on("close",()=>{Z||F(new l)}),L.pipe(W,{end:!1}),U){let J=function(){Z=!0,W.end()};S(L)?G.nextTick(J):L.once("end",J)}else F();return x(L,{readable:!0,writable:!1},J=>{let Q=L._readableState;J&&J.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?L.once("end",F).once("error",F):F(J)}),x(W,{readable:!1,writable:!0},F)}z.exports={pipelineImpl:O,pipeline:B}}),Mo=Et((j,z)=>{yt(),St(),Tt();var{pipeline:G}=Ms(),V=Te(),{destroyer:X}=ti(),{isNodeStream:b,isReadable:c,isWritable:x,isWebStream:t,isTransformStream:a,isWritableStream:p,isReadableStream:o}=Ee(),{AbortError:s,codes:{ERR_INVALID_ARG_VALUE:r,ERR_MISSING_ARGS:e}}=re(),n=De();z.exports=function(...l){if(l.length===0)throw new e("streams");if(l.length===1)return V.from(l[0]);let i=[...l];if(typeof l[0]=="function"&&(l[0]=V.from(l[0])),typeof l[l.length-1]=="function"){let E=l.length-1;l[E]=V.from(l[E])}for(let E=0;E<l.length;++E)if(!(!b(l[E])&&!t(l[E]))){if(E<l.length-1&&!(c(l[E])||o(l[E])||a(l[E])))throw new r(`streams[${E}]`,i[E],"must be readable");if(E>0&&!(x(l[E])||p(l[E])||a(l[E])))throw new r(`streams[${E}]`,i[E],"must be writable")}let h,f,d,u,v;function g(E){let C=u;u=null,C?C(E):E?v.destroy(E):!S&&!T&&v.destroy()}let y=l[0],m=G(l,g),T=!!(x(y)||p(y)||a(y)),S=!!(c(m)||o(m)||a(m));if(v=new V({writableObjectMode:!!(y!=null&&y.writableObjectMode),readableObjectMode:!!(m!=null&&m.readableObjectMode),writable:T,readable:S}),T){if(b(y))v._write=function(C,w,A){y.write(C,w)?A():h=A},v._final=function(C){y.end(),f=C},y.on("drain",function(){if(h){let C=h;h=null,C()}});else if(t(y)){let C=(a(y)?y.writable:y).getWriter();v._write=async function(w,A,P){try{await C.ready,C.write(w).catch(()=>{}),P()}catch(M){P(M)}},v._final=async function(w){try{await C.ready,C.close().catch(()=>{}),f=w}catch(A){w(A)}}}let E=a(m)?m.readable:m;n(E,()=>{if(f){let C=f;f=null,C()}})}if(S){if(b(m))m.on("readable",function(){if(d){let E=d;d=null,E()}}),m.on("end",function(){v.push(null)}),v._read=function(){for(;;){let E=m.read();if(E===null){d=v._read;return}if(!v.push(E))return}};else if(t(m)){let E=(a(m)?m.readable:m).getReader();v._read=async function(){for(;;)try{let{value:C,done:w}=await E.read();if(!v.push(C))return;if(w){v.push(null);return}}catch{return}}}}return v._destroy=function(E,C){!E&&u!==null&&(E=new s),d=null,h=null,f=null,u===null?C(E):(u=C,b(m)&&X(m,E))},v}}),ul=Et((j,z)=>{yt(),St(),Tt();var G=globalThis.AbortController||pi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:V,ERR_INVALID_ARG_TYPE:X,ERR_MISSING_ARGS:b,ERR_OUT_OF_RANGE:c},AbortError:x}=re(),{validateAbortSignal:t,validateInteger:a,validateObject:p}=xi(),o=Kt().Symbol("kWeak"),s=Kt().Symbol("kResistStopPropagation"),{finished:r}=De(),e=Mo(),{addAbortSignalNoValidate:n}=hr(),{isWritable:l,isNodeStream:i}=Ee(),{deprecate:h}=ne(),{ArrayPrototypePush:f,Boolean:d,MathFloor:u,Number:v,NumberIsNaN:g,Promise:y,PromiseReject:m,PromiseResolve:T,PromisePrototypeThen:S,Symbol:E}=Kt(),C=E("kEmpty"),w=E("kEof");function A(J,Q){if(Q!=null&&p(Q,"options"),(Q==null?void 0:Q.signal)!=null&&t(Q.signal,"options.signal"),i(J)&&!l(J))throw new V("stream",J,"must be writable");let k=e(this,J);return Q!=null&&Q.signal&&n(Q.signal,k),k}function P(J,Q){if(typeof J!="function")throw new X("fn",["Function","AsyncFunction"],J);Q!=null&&p(Q,"options"),(Q==null?void 0:Q.signal)!=null&&t(Q.signal,"options.signal");let k=1;(Q==null?void 0:Q.concurrency)!=null&&(k=u(Q.concurrency));let et=k-1;return(Q==null?void 0:Q.highWaterMark)!=null&&(et=u(Q.highWaterMark)),a(k,"options.concurrency",1),a(et,"options.highWaterMark",0),et+=k,(async function*(){let it=ne().AbortSignalAny([Q==null?void 0:Q.signal].filter(d)),q=this,tt=[],nt={signal:it},ht,gt,mt=!1,at=0;function ft(){mt=!0,xt()}function xt(){at-=1,vt()}function vt(){gt&&!mt&&at<k&&tt.length<et&&(gt(),gt=null)}async function Pt(){try{for await(let H of q){if(mt)return;if(it.aborted)throw new x;try{if(H=J(H,nt),H===C)continue;H=T(H)}catch(K){H=m(K)}at+=1,S(H,xt,ft),tt.push(H),ht&&(ht(),ht=null),!mt&&(tt.length>=et||at>=k)&&await new y(K=>{gt=K})}tt.push(w)}catch(H){let K=m(H);S(K,xt,ft),tt.push(K)}finally{mt=!0,ht&&(ht(),ht=null)}}Pt();try{for(;;){for(;tt.length>0;){let H=await tt[0];if(H===w)return;if(it.aborted)throw new x;H!==C&&(yield H),tt.shift(),vt()}await new y(H=>{ht=H})}}finally{mt=!0,gt&&(gt(),gt=null)}}).call(this)}function M(J=void 0){return J!=null&&p(J,"options"),(J==null?void 0:J.signal)!=null&&t(J.signal,"options.signal"),(async function*(){let Q=0;for await(let et of this){var k;if(J!=null&&(k=J.signal)!==null&&k!==void 0&&k.aborted)throw new x({cause:J.signal.reason});yield[Q++,et]}}).call(this)}async function R(J,Q=void 0){for await(let k of B.call(this,J,Q))return!0;return!1}async function I(J,Q=void 0){if(typeof J!="function")throw new X("fn",["Function","AsyncFunction"],J);return!await R.call(this,async(...k)=>!await J(...k),Q)}async function D(J,Q){for await(let k of B.call(this,J,Q))return k}async function Y(J,Q){if(typeof J!="function")throw new X("fn",["Function","AsyncFunction"],J);async function k(et,it){return await J(et,it),C}for await(let et of P.call(this,k,Q));}function B(J,Q){if(typeof J!="function")throw new X("fn",["Function","AsyncFunction"],J);async function k(et,it){return await J(et,it)?et:C}return P.call(this,k,Q)}var O=class extends b{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function N(J,Q,k){var et;if(typeof J!="function")throw new X("reducer",["Function","AsyncFunction"],J);k!=null&&p(k,"options"),(k==null?void 0:k.signal)!=null&&t(k.signal,"options.signal");let it=arguments.length>1;if(k!=null&&(et=k.signal)!==null&&et!==void 0&&et.aborted){let gt=new x(void 0,{cause:k.signal.reason});throw this.once("error",()=>{}),await r(this.destroy(gt)),gt}let q=new G,tt=q.signal;if(k!=null&&k.signal){let gt={once:!0,[o]:this,[s]:!0};k.signal.addEventListener("abort",()=>q.abort(),gt)}let nt=!1;try{for await(let gt of this){var ht;if(nt=!0,k!=null&&(ht=k.signal)!==null&&ht!==void 0&&ht.aborted)throw new x;it?Q=await J(Q,gt,{signal:tt}):(Q=gt,it=!0)}if(!nt&&!it)throw new O}finally{q.abort()}return Q}async function L(J){J!=null&&p(J,"options"),(J==null?void 0:J.signal)!=null&&t(J.signal,"options.signal");let Q=[];for await(let et of this){var k;if(J!=null&&(k=J.signal)!==null&&k!==void 0&&k.aborted)throw new x(void 0,{cause:J.signal.reason});f(Q,et)}return Q}function W(J,Q){let k=P.call(this,J,Q);return(async function*(){for await(let et of k)yield*et}).call(this)}function F(J){if(J=v(J),g(J))return 0;if(J<0)throw new c("number",">= 0",J);return J}function U(J,Q=void 0){return Q!=null&&p(Q,"options"),(Q==null?void 0:Q.signal)!=null&&t(Q.signal,"options.signal"),J=F(J),(async function*(){var k;if(Q!=null&&(k=Q.signal)!==null&&k!==void 0&&k.aborted)throw new x;for await(let it of this){var et;if(Q!=null&&(et=Q.signal)!==null&&et!==void 0&&et.aborted)throw new x;J--<=0&&(yield it)}}).call(this)}function Z(J,Q=void 0){return Q!=null&&p(Q,"options"),(Q==null?void 0:Q.signal)!=null&&t(Q.signal,"options.signal"),J=F(J),(async function*(){var k;if(Q!=null&&(k=Q.signal)!==null&&k!==void 0&&k.aborted)throw new x;for await(let it of this){var et;if(Q!=null&&(et=Q.signal)!==null&&et!==void 0&&et.aborted)throw new x;if(J-- >0&&(yield it),J<=0)return}}).call(this)}z.exports.streamReturningOperators={asIndexedPairs:h(M,"readable.asIndexedPairs will be removed in a future version."),drop:U,filter:B,flatMap:W,map:P,take:Z,compose:A},z.exports.promiseReturningOperators={every:I,forEach:Y,reduce:N,toArray:L,some:R,find:D}}),Ro=Et((j,z)=>{yt(),St(),Tt();var{ArrayPrototypePop:G,Promise:V}=Kt(),{isIterable:X,isNodeStream:b,isWebStream:c}=Ee(),{pipelineImpl:x}=Ms(),{finished:t}=De();Lo();function a(...p){return new V((o,s)=>{let r,e,n=p[p.length-1];if(n&&typeof n=="object"&&!b(n)&&!X(n)&&!c(n)){let l=G(p);r=l.signal,e=l.end}x(p,(l,i)=>{l?s(l):o(i)},{signal:r,end:e})})}z.exports={finished:t,pipeline:a}}),Lo=Et((j,z)=>{yt(),St(),Tt();var{Buffer:G}=(qt(),Xt(kt)),{ObjectDefineProperty:V,ObjectKeys:X,ReflectApply:b}=Kt(),{promisify:{custom:c}}=ne(),{streamReturningOperators:x,promiseReturningOperators:t}=ul(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=re(),p=Mo(),{setDefaultHighWaterMark:o,getDefaultHighWaterMark:s}=lr(),{pipeline:r}=Ms(),{destroyer:e}=ti(),n=De(),l=Ro(),i=Ee(),h=z.exports=Ps().Stream;h.isDestroyed=i.isDestroyed,h.isDisturbed=i.isDisturbed,h.isErrored=i.isErrored,h.isReadable=i.isReadable,h.isWritable=i.isWritable,h.Readable=ur();for(let d of X(x)){let u=function(...g){if(new.target)throw a();return h.Readable.from(b(v,this,g))},v=x[d];V(u,"name",{__proto__:null,value:v.name}),V(u,"length",{__proto__:null,value:v.length}),V(h.Readable.prototype,d,{__proto__:null,value:u,enumerable:!1,configurable:!0,writable:!0})}for(let d of X(t)){let u=function(...g){if(new.target)throw a();return b(v,this,g)},v=t[d];V(u,"name",{__proto__:null,value:v.name}),V(u,"length",{__proto__:null,value:v.length}),V(h.Readable.prototype,d,{__proto__:null,value:u,enumerable:!1,configurable:!0,writable:!0})}h.Writable=ws(),h.Duplex=Te(),h.Transform=Po(),h.PassThrough=wo(),h.pipeline=r;var{addAbortSignal:f}=hr();h.addAbortSignal=f,h.finished=n,h.destroy=e,h.compose=p,h.setDefaultHighWaterMark=o,h.getDefaultHighWaterMark=s,V(h,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return l}}),V(r,c,{__proto__:null,enumerable:!0,get(){return l.pipeline}}),V(n,c,{__proto__:null,enumerable:!0,get(){return l.finished}}),h.Stream=h,h._isUint8Array=function(d){return d instanceof Uint8Array},h._uint8ArrayToBuffer=function(d){return G.from(d.buffer,d.byteOffset,d.byteLength)}}),je=Et((j,z)=>{yt(),St(),Tt();var G=Lo(),V=Ro(),X=G.Readable.destroy;z.exports=G.Readable,z.exports._uint8ArrayToBuffer=G._uint8ArrayToBuffer,z.exports._isUint8Array=G._isUint8Array,z.exports.isDisturbed=G.isDisturbed,z.exports.isErrored=G.isErrored,z.exports.isReadable=G.isReadable,z.exports.Readable=G.Readable,z.exports.Writable=G.Writable,z.exports.Duplex=G.Duplex,z.exports.Transform=G.Transform,z.exports.PassThrough=G.PassThrough,z.exports.addAbortSignal=G.addAbortSignal,z.exports.finished=G.finished,z.exports.destroy=G.destroy,z.exports.destroy=X,z.exports.pipeline=G.pipeline,z.exports.compose=G.compose,Object.defineProperty(G,"promises",{configurable:!0,enumerable:!0,get(){return V}}),z.exports.Stream=G.Stream,z.exports.default=z.exports}),fl=Et((j,z)=>{yt(),St(),Tt(),typeof Object.create=="function"?z.exports=function(G,V){V&&(G.super_=V,G.prototype=Object.create(V.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}))}:z.exports=function(G,V){if(V){G.super_=V;var X=function(){};X.prototype=V.prototype,G.prototype=new X,G.prototype.constructor=G}}}),dl=Et((j,z)=>{yt(),St(),Tt();var{Buffer:G}=(qt(),Xt(kt)),V=Symbol.for("BufferList");function X(b){if(!(this instanceof X))return new X(b);X._init.call(this,b)}X._init=function(b){Object.defineProperty(this,V,{value:!0}),this._bufs=[],this.length=0,b&&this.append(b)},X.prototype._new=function(b){return new X(b)},X.prototype._offset=function(b){if(b===0)return[0,0];let c=0;for(let x=0;x<this._bufs.length;x++){let t=c+this._bufs[x].length;if(b<t||x===this._bufs.length-1)return[x,b-c];c=t}},X.prototype._reverseOffset=function(b){let c=b[0],x=b[1];for(let t=0;t<c;t++)x+=this._bufs[t].length;return x},X.prototype.getBuffers=function(){return this._bufs},X.prototype.get=function(b){if(b>this.length||b<0)return;let c=this._offset(b);return this._bufs[c[0]][c[1]]},X.prototype.slice=function(b,c){return typeof b=="number"&&b<0&&(b+=this.length),typeof c=="number"&&c<0&&(c+=this.length),this.copy(null,0,b,c)},X.prototype.copy=function(b,c,x,t){if((typeof x!="number"||x<0)&&(x=0),(typeof t!="number"||t>this.length)&&(t=this.length),x>=this.length||t<=0)return b||G.alloc(0);let a=!!b,p=this._offset(x),o=t-x,s=o,r=a&&c||0,e=p[1];if(x===0&&t===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:G.concat(this._bufs,this.length);for(let n=0;n<this._bufs.length;n++)this._bufs[n].copy(b,r),r+=this._bufs[n].length;return b}if(s<=this._bufs[p[0]].length-e)return a?this._bufs[p[0]].copy(b,c,e,e+s):this._bufs[p[0]].slice(e,e+s);a||(b=G.allocUnsafe(o));for(let n=p[0];n<this._bufs.length;n++){let l=this._bufs[n].length-e;if(s>l)this._bufs[n].copy(b,r,e),r+=l;else{this._bufs[n].copy(b,r,e,e+s),r+=l;break}s-=l,e&&(e=0)}return b.length>r?b.slice(0,r):b},X.prototype.shallowSlice=function(b,c){if(b=b||0,c=typeof c!="number"?this.length:c,b<0&&(b+=this.length),c<0&&(c+=this.length),b===c)return this._new();let x=this._offset(b),t=this._offset(c),a=this._bufs.slice(x[0],t[0]+1);return t[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,t[1]),x[1]!==0&&(a[0]=a[0].slice(x[1])),this._new(a)},X.prototype.toString=function(b,c,x){return this.slice(c,x).toString(b)},X.prototype.consume=function(b){if(b=Math.trunc(b),Number.isNaN(b)||b<=0)return this;for(;this._bufs.length;)if(b>=this._bufs[0].length)b-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(b),this.length-=b;break}return this},X.prototype.duplicate=function(){let b=this._new();for(let c=0;c<this._bufs.length;c++)b.append(this._bufs[c]);return b},X.prototype.append=function(b){return this._attach(b,X.prototype._appendBuffer)},X.prototype.prepend=function(b){return this._attach(b,X.prototype._prependBuffer,!0)},X.prototype._attach=function(b,c,x){if(b==null)return this;if(b.buffer)c.call(this,G.from(b.buffer,b.byteOffset,b.byteLength));else if(Array.isArray(b)){let[t,a]=x?[b.length-1,-1]:[0,1];for(let p=t;p>=0&&p<b.length;p+=a)this._attach(b[p],c,x)}else if(this._isBufferList(b)){let[t,a]=x?[b._bufs.length-1,-1]:[0,1];for(let p=t;p>=0&&p<b._bufs.length;p+=a)this._attach(b._bufs[p],c,x)}else typeof b=="number"&&(b=b.toString()),c.call(this,G.from(b));return this},X.prototype._appendBuffer=function(b){this._bufs.push(b),this.length+=b.length},X.prototype._prependBuffer=function(b){this._bufs.unshift(b),this.length+=b.length},X.prototype.indexOf=function(b,c,x){if(x===void 0&&typeof c=="string"&&(x=c,c=void 0),typeof b=="function"||Array.isArray(b))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof b=="number"?b=G.from([b]):typeof b=="string"?b=G.from(b,x):this._isBufferList(b)?b=b.slice():Array.isArray(b.buffer)?b=G.from(b.buffer,b.byteOffset,b.byteLength):G.isBuffer(b)||(b=G.from(b)),c=Number(c||0),isNaN(c)&&(c=0),c<0&&(c=this.length+c),c<0&&(c=0),b.length===0)return c>this.length?this.length:c;let t=this._offset(c),a=t[0],p=t[1];for(;a<this._bufs.length;a++){let o=this._bufs[a];for(;p<o.length;)if(o.length-p>=b.length){let s=o.indexOf(b,p);if(s!==-1)return this._reverseOffset([a,s]);p=o.length-b.length+1}else{let s=this._reverseOffset([a,p]);if(this._match(s,b))return s;p++}p=0}return-1},X.prototype._match=function(b,c){if(this.length-b<c.length)return!1;for(let x=0;x<c.length;x++)if(this.get(b+x)!==c[x])return!1;return!0},function(){let b={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let c in b)(function(x){b[x]===null?X.prototype[x]=function(t,a){return this.slice(t,t+a)[x](0,a)}:X.prototype[x]=function(t=0){return this.slice(t,t+b[x])[x](0)}})(c)}(),X.prototype._isBufferList=function(b){return b instanceof X||X.isBufferList(b)},X.isBufferList=function(b){return b!=null&&b[V]},z.exports=X}),cl=Et((j,z)=>{yt(),St(),Tt();var G=je().Duplex,V=fl(),X=dl();function b(c){if(!(this instanceof b))return new b(c);if(typeof c=="function"){this._callback=c;let x=(function(t){this._callback&&(this._callback(t),this._callback=null)}).bind(this);this.on("pipe",function(t){t.on("error",x)}),this.on("unpipe",function(t){t.removeListener("error",x)}),c=null}X._init.call(this,c),G.call(this)}V(b,G),Object.assign(b.prototype,X.prototype),b.prototype._new=function(c){return new b(c)},b.prototype._write=function(c,x,t){this._appendBuffer(c),typeof t=="function"&&t()},b.prototype._read=function(c){if(!this.length)return this.push(null);c=Math.min(c,this.length),this.push(this.slice(0,c)),this.consume(c)},b.prototype.end=function(c){G.prototype.end.call(this,c),this._callback&&(this._callback(null,this.slice()),this._callback=null)},b.prototype._destroy=function(c,x){this._bufs.length=0,this.length=0,x(c)},b.prototype._isBufferList=function(c){return c instanceof b||c instanceof X||b.isBufferList(c)},b.isBufferList=X.isBufferList,z.exports=b,z.exports.BufferListStream=b,z.exports.BufferList=X}),vl=Et((j,z)=>{yt(),St(),Tt();var G=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};z.exports=G}),Fo=Et((j,z)=>{yt(),St(),Tt();var G=z.exports,{Buffer:V}=(qt(),Xt(kt));G.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},G.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},G.requiredHeaderFlagsErrors={};for(let b in G.requiredHeaderFlags){let c=G.requiredHeaderFlags[b];G.requiredHeaderFlagsErrors[b]="Invalid header flag bits, must be 0x"+c.toString(16)+" for "+G.types[b]+" packet"}G.codes={};for(let b in G.types){let c=G.types[b];G.codes[c]=b}G.CMD_SHIFT=4,G.CMD_MASK=240,G.DUP_MASK=8,G.QOS_MASK=3,G.QOS_SHIFT=1,G.RETAIN_MASK=1,G.VARBYTEINT_MASK=127,G.VARBYTEINT_FIN_MASK=128,G.VARBYTEINT_MAX=268435455,G.SESSIONPRESENT_MASK=1,G.SESSIONPRESENT_HEADER=V.from([G.SESSIONPRESENT_MASK]),G.CONNACK_HEADER=V.from([G.codes.connack<<G.CMD_SHIFT]),G.USERNAME_MASK=128,G.PASSWORD_MASK=64,G.WILL_RETAIN_MASK=32,G.WILL_QOS_MASK=24,G.WILL_QOS_SHIFT=3,G.WILL_FLAG_MASK=4,G.CLEAN_SESSION_MASK=2,G.CONNECT_HEADER=V.from([G.codes.connect<<G.CMD_SHIFT]),G.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},G.propertiesCodes={};for(let b in G.properties){let c=G.properties[b];G.propertiesCodes[c]=b}G.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function X(b){return[0,1,2].map(c=>[0,1].map(x=>[0,1].map(t=>{let a=V.alloc(1);return a.writeUInt8(G.codes[b]<<G.CMD_SHIFT|(x?G.DUP_MASK:0)|c<<G.QOS_SHIFT|t,0,!0),a})))}G.PUBLISH_HEADER=X("publish"),G.SUBSCRIBE_HEADER=X("subscribe"),G.SUBSCRIBE_OPTIONS_QOS_MASK=3,G.SUBSCRIBE_OPTIONS_NL_MASK=1,G.SUBSCRIBE_OPTIONS_NL_SHIFT=2,G.SUBSCRIBE_OPTIONS_RAP_MASK=1,G.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,G.SUBSCRIBE_OPTIONS_RH_MASK=3,G.SUBSCRIBE_OPTIONS_RH_SHIFT=4,G.SUBSCRIBE_OPTIONS_RH=[0,16,32],G.SUBSCRIBE_OPTIONS_NL=4,G.SUBSCRIBE_OPTIONS_RAP=8,G.SUBSCRIBE_OPTIONS_QOS=[0,1,2],G.UNSUBSCRIBE_HEADER=X("unsubscribe"),G.ACKS={unsuback:X("unsuback"),puback:X("puback"),pubcomp:X("pubcomp"),pubrel:X("pubrel"),pubrec:X("pubrec")},G.SUBACK_HEADER=V.from([G.codes.suback<<G.CMD_SHIFT]),G.VERSION3=V.from([3]),G.VERSION4=V.from([4]),G.VERSION5=V.from([5]),G.VERSION131=V.from([131]),G.VERSION132=V.from([132]),G.QOS=[0,1,2].map(b=>V.from([b])),G.EMPTY={pingreq:V.from([G.codes.pingreq<<4,0]),pingresp:V.from([G.codes.pingresp<<4,0]),disconnect:V.from([G.codes.disconnect<<4,0])},G.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},G.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},G.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},G.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},G.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},G.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),pl=Et((j,z)=>{yt(),St(),Tt();var G=1e3,V=G*60,X=V*60,b=X*24,c=b*7,x=b*365.25;z.exports=function(s,r){r=r||{};var e=typeof s;if(e==="string"&&s.length>0)return t(s);if(e==="number"&&isFinite(s))return r.long?p(s):a(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function t(s){if(s=String(s),!(s.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(r){var e=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return e*x;case"weeks":case"week":case"w":return e*c;case"days":case"day":case"d":return e*b;case"hours":case"hour":case"hrs":case"hr":case"h":return e*X;case"minutes":case"minute":case"mins":case"min":case"m":return e*V;case"seconds":case"second":case"secs":case"sec":case"s":return e*G;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function a(s){var r=Math.abs(s);return r>=b?Math.round(s/b)+"d":r>=X?Math.round(s/X)+"h":r>=V?Math.round(s/V)+"m":r>=G?Math.round(s/G)+"s":s+"ms"}function p(s){var r=Math.abs(s);return r>=b?o(s,r,b,"day"):r>=X?o(s,r,X,"hour"):r>=V?o(s,r,V,"minute"):r>=G?o(s,r,G,"second"):s+" ms"}function o(s,r,e,n){var l=r>=e*1.5;return Math.round(s/e)+" "+n+(l?"s":"")}}),gl=Et((j,z)=>{yt(),St(),Tt();function G(V){b.debug=b,b.default=b,b.coerce=o,b.disable=a,b.enable=x,b.enabled=p,b.humanize=pl(),b.destroy=s,Object.keys(V).forEach(r=>{b[r]=V[r]}),b.names=[],b.skips=[],b.formatters={};function X(r){let e=0;for(let n=0;n<r.length;n++)e=(e<<5)-e+r.charCodeAt(n),e|=0;return b.colors[Math.abs(e)%b.colors.length]}b.selectColor=X;function b(r){let e,n=null,l,i;function h(...f){if(!h.enabled)return;let d=h,u=Number(new Date),v=u-(e||u);d.diff=v,d.prev=e,d.curr=u,e=u,f[0]=b.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(y,m)=>{if(y==="%%")return"%";g++;let T=b.formatters[m];if(typeof T=="function"){let S=f[g];y=T.call(d,S),f.splice(g,1),g--}return y}),b.formatArgs.call(d,f),(d.log||b.log).apply(d,f)}return h.namespace=r,h.useColors=b.useColors(),h.color=b.selectColor(r),h.extend=c,h.destroy=b.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>n!==null?n:(l!==b.namespaces&&(l=b.namespaces,i=b.enabled(r)),i),set:f=>{n=f}}),typeof b.init=="function"&&b.init(h),h}function c(r,e){let n=b(this.namespace+(typeof e>"u"?":":e)+r);return n.log=this.log,n}function x(r){b.save(r),b.namespaces=r,b.names=[],b.skips=[];let e=(typeof r=="string"?r:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let n of e)n[0]==="-"?b.skips.push(n.slice(1)):b.names.push(n)}function t(r,e){let n=0,l=0,i=-1,h=0;for(;n<r.length;)if(l<e.length&&(e[l]===r[n]||e[l]==="*"))e[l]==="*"?(i=l,h=n,l++):(n++,l++);else if(i!==-1)l=i+1,h++,n=h;else return!1;for(;l<e.length&&e[l]==="*";)l++;return l===e.length}function a(){let r=[...b.names,...b.skips.map(e=>"-"+e)].join(",");return b.enable(""),r}function p(r){for(let e of b.skips)if(t(r,e))return!1;for(let e of b.names)if(t(r,e))return!0;return!1}function o(r){return r instanceof Error?r.stack||r.message:r}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return b.enable(b.load()),b}z.exports=G}),Se=Et((j,z)=>{yt(),St(),Tt(),j.formatArgs=V,j.save=X,j.load=b,j.useColors=G,j.storage=c(),j.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),j.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function G(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function V(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;t.splice(1,0,a,"color: inherit");let p=0,o=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(p++,s==="%c"&&(o=p))}),t.splice(o,0,a)}j.log=console.debug||console.log||(()=>{});function X(t){try{t?j.storage.setItem("debug",t):j.storage.removeItem("debug")}catch{}}function b(){let t;try{t=j.storage.getItem("debug")||j.storage.getItem("DEBUG")}catch{}return!t&&typeof Ut<"u"&&"env"in Ut&&(t=Ut.env.DEBUG),t}function c(){try{return localStorage}catch{}}z.exports=gl()(j);var{formatters:x}=z.exports;x.j=function(t){try{return JSON.stringify(t)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),ml=Et((j,z)=>{yt(),St(),Tt();var G=cl(),{EventEmitter:V}=(Ye(),Xt(Ie)),X=vl(),b=Fo(),c=Se()("mqtt-packet:parser"),x=class Ln extends V{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof Ln?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Ln().parser(a)}_resetState(){c("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new X,this.error=null,this._list=G(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),c("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,c("parse: state complete. _stateCounter is now: %d",this._stateCounter),c("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return c("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),p=a>>b.CMD_SHIFT;this.packet.cmd=b.types[p];let o=a&15,s=b.requiredHeaderFlags[p];return s!=null&&o!==s?this._emitError(new Error(b.requiredHeaderFlagsErrors[p])):(this.packet.retain=(a&b.RETAIN_MASK)!==0,this.packet.qos=a>>b.QOS_SHIFT&b.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&b.DUP_MASK)!==0,c("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),c("_parseLength %d",a.value),!!a}_parsePayload(){c("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return c("_parsePayload complete result: %s",a),a}_parseConnect(){c("_parseConnect");let a,p,o,s,r={},e=this.packet,n=this._parseString();if(n===null)return this._emitError(new Error("Cannot parse protocolId"));if(n!=="MQTT"&&n!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(e.protocolId=n,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(e.protocolVersion=this._list.readUInt8(this._pos),e.protocolVersion>=128&&(e.bridgeMode=!0,e.protocolVersion=e.protocolVersion-128),e.protocolVersion!==3&&e.protocolVersion!==4&&e.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));r.username=this._list.readUInt8(this._pos)&b.USERNAME_MASK,r.password=this._list.readUInt8(this._pos)&b.PASSWORD_MASK,r.will=this._list.readUInt8(this._pos)&b.WILL_FLAG_MASK;let l=!!(this._list.readUInt8(this._pos)&b.WILL_RETAIN_MASK),i=(this._list.readUInt8(this._pos)&b.WILL_QOS_MASK)>>b.WILL_QOS_SHIFT;if(r.will)e.will={},e.will.retain=l,e.will.qos=i;else{if(l)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(i)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(e.clean=(this._list.readUInt8(this._pos)&b.CLEAN_SESSION_MASK)!==0,this._pos++,e.keepalive=this._parseNum(),e.keepalive===-1)return this._emitError(new Error("Packet too short"));if(e.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(e.properties=f)}let h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(e.clientId=h,c("_parseConnect: packet.clientId: %s",e.clientId),r.will){if(e.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(e.will.properties=f)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(e.will.topic=a,c("_parseConnect: packet.will.topic: %s",e.will.topic),p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse will payload"));e.will.payload=p,c("_parseConnect: packet.will.paylaod: %s",e.will.payload)}if(r.username){if(s=this._parseString(),s===null)return this._emitError(new Error("Cannot parse username"));e.username=s,c("_parseConnect: packet.username: %s",e.username)}if(r.password){if(o=this._parseBuffer(),o===null)return this._emitError(new Error("Cannot parse password"));e.password=o}return this.settings=e,c("_parseConnect: complete"),e}_parseConnack(){c("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let p=this._list.readUInt8(this._pos++);if(p>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(p&b.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(a.properties=o)}c("_parseConnack: complete")}_parsePublish(){c("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}a.payload=this._list.slice(this._pos,a.length),c("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){c("_parseSubscribe");let a=this.packet,p,o,s,r,e,n,l;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(a.properties=i)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(o=this._parseByte(),this.settings.protocolVersion===5){if(o&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(o&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(s=o&b.SUBSCRIBE_OPTIONS_QOS_MASK,s>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(n=(o>>b.SUBSCRIBE_OPTIONS_NL_SHIFT&b.SUBSCRIBE_OPTIONS_NL_MASK)!==0,e=(o>>b.SUBSCRIBE_OPTIONS_RAP_SHIFT&b.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,r=o>>b.SUBSCRIBE_OPTIONS_RH_SHIFT&b.SUBSCRIBE_OPTIONS_RH_MASK,r>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:p,qos:s},this.settings.protocolVersion===5?(l.nl=n,l.rap=e,l.rh=r):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),c("_parseSubscribe: push subscription `%s` to subscription",l),a.subscriptions.push(l)}}}_parseSuback(){c("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!b.MQTT5_SUBACK_CODES[p])return this._emitError(new Error("Invalid suback code"))}else if(p>2&&p!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(p)}}}_parseUnsubscribe(){c("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let p=this._parseString();if(p===null)return this._emitError(new Error("Cannot parse topic"));c("_parseUnsubscribe: push topic `%s` to unsubscriptions",p),a.unsubscriptions.push(p)}}}_parseUnsuback(){c("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let p=this._parseProperties();for(Object.getOwnPropertyNames(p).length&&(a.properties=p),a.granted=[];this._pos<this.packet.length;){let o=this._list.readUInt8(this._pos++);if(!b.MQTT5_UNSUBACK_CODES[o])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(o)}}}_parseConfirmation(){c("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!b.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!b.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}c("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}}return!0}_parseDisconnect(){let a=this.packet;if(c("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),b.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}return c("_parseDisconnect result: true"),!0}_parseAuth(){c("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!b.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let p=this._parseProperties();return Object.getOwnPropertyNames(p).length&&(a.properties=p),c("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(c("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let p=this._parseNum(),o=p+this._pos;if(p===-1||o>this._list.length||o>this.packet.length)return null;let s=this._list.toString("utf8",this._pos,o);return this._pos+=p,c("_parseString: result: %s",s),s}_parseStringPair(){return c("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),p=a+this._pos;if(a===-1||p>this._list.length||p>this.packet.length)return null;let o=this._list.slice(this._pos,p);return this._pos+=a,c("_parseBuffer: result: %o",o),o}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,c("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,c("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){c("_parseVarByteNum");let p=4,o=0,s=1,r=0,e=!1,n,l=this._pos?this._pos:0;for(;o<p&&l+o<this._list.length;){if(n=this._list.readUInt8(l+o++),r+=s*(n&b.VARBYTEINT_MASK),s*=128,(n&b.VARBYTEINT_FIN_MASK)===0){e=!0;break}if(this._list.length<=o)break}return!e&&o===p&&this._list.length>=o&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=o),e?a?e={bytes:o,value:r}:e=r:e=!1,c("_parseVarByteNum: result: %o",e),e}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),c("_parseByte: result: %o",a),a}_parseByType(a){switch(c("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){c("_parseProperties");let a=this._parseVarByteNum(),p=this._pos+a,o={};for(;this._pos<p;){let s=this._parseByte();if(!s)return this._emitError(new Error("Cannot parse property code type")),!1;let r=b.propertiesCodes[s];if(!r)return this._emitError(new Error("Unknown property")),!1;if(r==="userProperties"){o[r]||(o[r]=Object.create(null));let e=this._parseByType(b.propertiesTypes[r]);if(o[r][e.name])if(Array.isArray(o[r][e.name]))o[r][e.name].push(e.value);else{let n=o[r][e.name];o[r][e.name]=[n],o[r][e.name].push(e.value)}else o[r][e.name]=e.value;continue}o[r]?Array.isArray(o[r])?o[r].push(this._parseByType(b.propertiesTypes[r])):(o[r]=[o[r]],o[r].push(this._parseByType(b.propertiesTypes[r]))):o[r]=this._parseByType(b.propertiesTypes[r])}return o}_newPacket(){return c("_newPacket"),this.packet&&(this._list.consume(this.packet.length),c("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),c("_newPacket: new packet"),this.packet=new X,this._pos=0,!0}_emitError(a){c("_emitError",a),this.error=a,this.emit("error",a)}};z.exports=x}),xl=Et((j,z)=>{yt(),St(),Tt();var{Buffer:G}=(qt(),Xt(kt)),V=65536,X={},b=G.isBuffer(G.from([1,2]).subarray(0,1));function c(p){let o=G.allocUnsafe(2);return o.writeUInt8(p>>8,0),o.writeUInt8(p&255,1),o}function x(){for(let p=0;p<V;p++)X[p]=c(p)}function t(p){let o=0,s=0,r=G.allocUnsafe(4);do o=p%128|0,p=p/128|0,p>0&&(o=o|128),r.writeUInt8(o,s++);while(p>0&&s<4);return p>0&&(s=0),b?r.subarray(0,s):r.slice(0,s)}function a(p){let o=G.allocUnsafe(4);return o.writeUInt32BE(p,0),o}z.exports={cache:X,generateCache:x,generateNumber:c,genBufVariableByteInt:t,generate4ByteBuffer:a}}),yl=Et((j,z)=>{yt(),St(),Tt(),typeof Ut>"u"||!Ut.version||Ut.version.indexOf("v0.")===0||Ut.version.indexOf("v1.")===0&&Ut.version.indexOf("v1.8.")!==0?z.exports={nextTick:G}:z.exports=Ut;function G(V,X,b,c){if(typeof V!="function")throw new TypeError('"callback" argument must be a function');var x=arguments.length,t,a;switch(x){case 0:case 1:return Ut.nextTick(V);case 2:return Ut.nextTick(function(){V.call(null,X)});case 3:return Ut.nextTick(function(){V.call(null,X,b)});case 4:return Ut.nextTick(function(){V.call(null,X,b,c)});default:for(t=new Array(x-1),a=0;a<t.length;)t[a++]=arguments[a];return Ut.nextTick(function(){V.apply(null,t)})}}}),Oo=Et((j,z)=>{yt(),St(),Tt();var G=Fo(),{Buffer:V}=(qt(),Xt(kt)),X=V.allocUnsafe(0),b=V.from([0]),c=xl(),x=yl().nextTick,t=Se()("mqtt-packet:writeToStream"),a=c.cache,p=c.generateNumber,o=c.generateCache,s=c.genBufVariableByteInt,r=c.generate4ByteBuffer,e=M,n=!0;function l(F,U,Z){switch(t("generate called"),U.cork&&(U.cork(),x(i,U)),n&&(n=!1,o()),t("generate: packet.cmd: %s",F.cmd),F.cmd){case"connect":return h(F,U);case"connack":return f(F,U,Z);case"publish":return d(F,U,Z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return u(F,U,Z);case"subscribe":return v(F,U,Z);case"suback":return g(F,U,Z);case"unsubscribe":return y(F,U,Z);case"unsuback":return m(F,U,Z);case"pingreq":case"pingresp":return T(F,U);case"disconnect":return S(F,U,Z);case"auth":return E(F,U,Z);default:return U.destroy(new Error("Unknown command")),!1}}Object.defineProperty(l,"cacheNumbers",{get(){return e===M},set(F){F?((!a||Object.keys(a).length===0)&&(n=!0),e=M):(n=!1,e=R)}});function i(F){F.uncork()}function h(F,U,Z){let J=F||{},Q=J.protocolId||"MQTT",k=J.protocolVersion||4,et=J.will,it=J.clean,q=J.keepalive||0,tt=J.clientId||"",nt=J.username,ht=J.password,gt=J.properties;it===void 0&&(it=!0);let mt=0;if(typeof Q!="string"&&!V.isBuffer(Q))return U.destroy(new Error("Invalid protocolId")),!1;if(mt+=Q.length+2,k!==3&&k!==4&&k!==5)return U.destroy(new Error("Invalid protocol version")),!1;if(mt+=1,(typeof tt=="string"||V.isBuffer(tt))&&(tt||k>=4)&&(tt||it))mt+=V.byteLength(tt)+2;else{if(k<4)return U.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(it*1===0)return U.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof q!="number"||q<0||q>65535||q%1!==0)return U.destroy(new Error("Invalid keepalive")),!1;mt+=2,mt+=1;let at,ft;if(k===5){if(at=Y(U,gt),!at)return!1;mt+=at.length}if(et){if(typeof et!="object")return U.destroy(new Error("Invalid will")),!1;if(!et.topic||typeof et.topic!="string")return U.destroy(new Error("Invalid will topic")),!1;if(mt+=V.byteLength(et.topic)+2,mt+=2,et.payload)if(et.payload.length>=0)typeof et.payload=="string"?mt+=V.byteLength(et.payload):mt+=et.payload.length;else return U.destroy(new Error("Invalid will payload")),!1;if(ft={},k===5){if(ft=Y(U,et.properties),!ft)return!1;mt+=ft.length}}let xt=!1;if(nt!=null)if(W(nt))xt=!0,mt+=V.byteLength(nt)+2;else return U.destroy(new Error("Invalid username")),!1;if(ht!=null){if(!xt)return U.destroy(new Error("Username is required to use password")),!1;if(W(ht))mt+=L(ht)+2;else return U.destroy(new Error("Invalid password")),!1}U.write(G.CONNECT_HEADER),w(U,mt),D(U,Q),J.bridgeMode&&(k+=128),U.write(k===131?G.VERSION131:k===132?G.VERSION132:k===4?G.VERSION4:k===5?G.VERSION5:G.VERSION3);let vt=0;return vt|=nt!=null?G.USERNAME_MASK:0,vt|=ht!=null?G.PASSWORD_MASK:0,vt|=et&&et.retain?G.WILL_RETAIN_MASK:0,vt|=et&&et.qos?et.qos<<G.WILL_QOS_SHIFT:0,vt|=et?G.WILL_FLAG_MASK:0,vt|=it?G.CLEAN_SESSION_MASK:0,U.write(V.from([vt])),e(U,q),k===5&&at.write(),D(U,tt),et&&(k===5&&ft.write(),A(U,et.topic),D(U,et.payload)),nt!=null&&D(U,nt),ht!=null&&D(U,ht),!0}function f(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=J===5?Q.reasonCode:Q.returnCode,et=Q.properties,it=2;if(typeof k!="number")return U.destroy(new Error("Invalid return code")),!1;let q=null;if(J===5){if(q=Y(U,et),!q)return!1;it+=q.length}return U.write(G.CONNACK_HEADER),w(U,it),U.write(Q.sessionPresent?G.SESSIONPRESENT_HEADER:b),U.write(V.from([k])),q==null||q.write(),!0}function d(F,U,Z){t("publish: packet: %o",F);let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.qos||0,et=Q.retain?G.RETAIN_MASK:0,it=Q.topic,q=Q.payload||X,tt=Q.messageId,nt=Q.properties,ht=0;if(typeof it=="string")ht+=V.byteLength(it)+2;else if(V.isBuffer(it))ht+=it.length+2;else return U.destroy(new Error("Invalid topic")),!1;if(V.isBuffer(q)?ht+=q.length:ht+=V.byteLength(q),k&&typeof tt!="number")return U.destroy(new Error("Invalid messageId")),!1;k&&(ht+=2);let gt=null;if(J===5){if(gt=Y(U,nt),!gt)return!1;ht+=gt.length}return U.write(G.PUBLISH_HEADER[k][Q.dup?1:0][et?1:0]),w(U,ht),e(U,L(it)),U.write(it),k>0&&e(U,tt),gt==null||gt.write(),t("publish: payload: %o",q),U.write(q)}function u(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.cmd||"puback",et=Q.messageId,it=Q.dup&&k==="pubrel"?G.DUP_MASK:0,q=0,tt=Q.reasonCode,nt=Q.properties,ht=J===5?3:2;if(k==="pubrel"&&(q=1),typeof et!="number")return U.destroy(new Error("Invalid messageId")),!1;let gt=null;if(J===5&&typeof nt=="object"){if(gt=B(U,nt,Z,ht),!gt)return!1;ht+=gt.length}return U.write(G.ACKS[k][q][it][0]),ht===3&&(ht+=tt!==0?1:-1),w(U,ht),e(U,et),J===5&&ht!==2&&U.write(V.from([tt])),gt!==null?gt.write():ht===4&&U.write(V.from([0])),!0}function v(F,U,Z){t("subscribe: packet: ");let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.dup?G.DUP_MASK:0,et=Q.messageId,it=Q.subscriptions,q=Q.properties,tt=0;if(typeof et!="number")return U.destroy(new Error("Invalid messageId")),!1;tt+=2;let nt=null;if(J===5){if(nt=Y(U,q),!nt)return!1;tt+=nt.length}if(typeof it=="object"&&it.length)for(let gt=0;gt<it.length;gt+=1){let mt=it[gt].topic,at=it[gt].qos;if(typeof mt!="string")return U.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof at!="number")return U.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(J===5){if(typeof(it[gt].nl||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(it[gt].rap||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ft=it[gt].rh||0;if(typeof ft!="number"||ft>2)return U.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}tt+=V.byteLength(mt)+2+1}else return U.destroy(new Error("Invalid subscriptions")),!1;t("subscribe: writing to stream: %o",G.SUBSCRIBE_HEADER),U.write(G.SUBSCRIBE_HEADER[1][k?1:0][0]),w(U,tt),e(U,et),nt!==null&&nt.write();let ht=!0;for(let gt of it){let mt=gt.topic,at=gt.qos,ft=+gt.nl,xt=+gt.rap,vt=gt.rh,Pt;A(U,mt),Pt=G.SUBSCRIBE_OPTIONS_QOS[at],J===5&&(Pt|=ft?G.SUBSCRIBE_OPTIONS_NL:0,Pt|=xt?G.SUBSCRIBE_OPTIONS_RAP:0,Pt|=vt?G.SUBSCRIBE_OPTIONS_RH[vt]:0),ht=U.write(V.from([Pt]))}return ht}function g(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.messageId,et=Q.granted,it=Q.properties,q=0;if(typeof k!="number")return U.destroy(new Error("Invalid messageId")),!1;if(q+=2,typeof et=="object"&&et.length)for(let nt=0;nt<et.length;nt+=1){if(typeof et[nt]!="number")return U.destroy(new Error("Invalid qos vector")),!1;q+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let tt=null;if(J===5){if(tt=B(U,it,Z,q),!tt)return!1;q+=tt.length}return U.write(G.SUBACK_HEADER),w(U,q),e(U,k),tt!==null&&tt.write(),U.write(V.from(et))}function y(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.messageId,et=Q.dup?G.DUP_MASK:0,it=Q.unsubscriptions,q=Q.properties,tt=0;if(typeof k!="number")return U.destroy(new Error("Invalid messageId")),!1;if(tt+=2,typeof it=="object"&&it.length)for(let gt=0;gt<it.length;gt+=1){if(typeof it[gt]!="string")return U.destroy(new Error("Invalid unsubscriptions")),!1;tt+=V.byteLength(it[gt])+2}else return U.destroy(new Error("Invalid unsubscriptions")),!1;let nt=null;if(J===5){if(nt=Y(U,q),!nt)return!1;tt+=nt.length}U.write(G.UNSUBSCRIBE_HEADER[1][et?1:0][0]),w(U,tt),e(U,k),nt!==null&&nt.write();let ht=!0;for(let gt=0;gt<it.length;gt++)ht=A(U,it[gt]);return ht}function m(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.messageId,et=Q.dup?G.DUP_MASK:0,it=Q.granted,q=Q.properties,tt=Q.cmd,nt=0,ht=2;if(typeof k!="number")return U.destroy(new Error("Invalid messageId")),!1;if(J===5)if(typeof it=="object"&&it.length)for(let mt=0;mt<it.length;mt+=1){if(typeof it[mt]!="number")return U.destroy(new Error("Invalid qos vector")),!1;ht+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let gt=null;if(J===5){if(gt=B(U,q,Z,ht),!gt)return!1;ht+=gt.length}return U.write(G.ACKS[tt][nt][et][0]),w(U,ht),e(U,k),gt!==null&&gt.write(),J===5&&U.write(V.from(it)),!0}function T(F,U,Z){return U.write(G.EMPTY[F.cmd])}function S(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.reasonCode,et=Q.properties,it=J===5?1:0,q=null;if(J===5){if(q=B(U,et,Z,it),!q)return!1;it+=q.length}return U.write(V.from([G.codes.disconnect<<4])),w(U,it),J===5&&U.write(V.from([k])),q!==null&&q.write(),!0}function E(F,U,Z){let J=Z?Z.protocolVersion:4,Q=F||{},k=Q.reasonCode,et=Q.properties,it=J===5?1:0;J!==5&&U.destroy(new Error("Invalid mqtt version for auth packet"));let q=B(U,et,Z,it);return q?(it+=q.length,U.write(V.from([G.codes.auth<<4])),w(U,it),U.write(V.from([k])),q!==null&&q.write(),!0):!1}var C={};function w(F,U){if(U>G.VARBYTEINT_MAX)return F.destroy(new Error(`Invalid variable byte integer: ${U}`)),!1;let Z=C[U];return Z||(Z=s(U),U<16384&&(C[U]=Z)),t("writeVarByteInt: writing to stream: %o",Z),F.write(Z)}function A(F,U){let Z=V.byteLength(U);return e(F,Z),t("writeString: %s",U),F.write(U,"utf8")}function P(F,U,Z){A(F,U),A(F,Z)}function M(F,U){return t("writeNumberCached: number: %d",U),t("writeNumberCached: %o",a[U]),F.write(a[U])}function R(F,U){let Z=p(U);return t("writeNumberGenerated: %o",Z),F.write(Z)}function I(F,U){let Z=r(U);return t("write4ByteNumber: %o",Z),F.write(Z)}function D(F,U){typeof U=="string"?A(F,U):U?(e(F,U.length),F.write(U)):e(F,0)}function Y(F,U){if(typeof U!="object"||U.length!=null)return{length:1,write(){N(F,{},0)}};let Z=0;function J(Q,k){let et=G.propertiesTypes[Q],it=0;switch(et){case"byte":{if(typeof k!="boolean")return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=2;break}case"int8":{if(typeof k!="number"||k<0||k>255)return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=2;break}case"binary":{if(k&&k===null)return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=1+V.byteLength(k)+2;break}case"int16":{if(typeof k!="number"||k<0||k>65535)return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=3;break}case"int32":{if(typeof k!="number"||k<0||k>4294967295)return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=5;break}case"var":{if(typeof k!="number"||k<0||k>268435455)return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=1+V.byteLength(s(k));break}case"string":{if(typeof k!="string")return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=3+V.byteLength(k.toString());break}case"pair":{if(typeof k!="object")return F.destroy(new Error(`Invalid ${Q}: ${k}`)),!1;it+=Object.getOwnPropertyNames(k).reduce((q,tt)=>{let nt=k[tt];return Array.isArray(nt)?q+=nt.reduce((ht,gt)=>(ht+=3+V.byteLength(tt.toString())+2+V.byteLength(gt.toString()),ht),0):q+=3+V.byteLength(tt.toString())+2+V.byteLength(k[tt].toString()),q},0);break}default:return F.destroy(new Error(`Invalid property ${Q}: ${k}`)),!1}return it}if(U)for(let Q in U){let k=0,et=0,it=U[Q];if(it!==void 0){if(Array.isArray(it))for(let q=0;q<it.length;q++){if(et=J(Q,it[q]),!et)return!1;k+=et}else{if(et=J(Q,it),!et)return!1;k=et}if(!k)return!1;Z+=k}}return{length:V.byteLength(s(Z))+Z,write(){N(F,U,Z)}}}function B(F,U,Z,J){let Q=["reasonString","userProperties"],k=Z&&Z.properties&&Z.properties.maximumPacketSize?Z.properties.maximumPacketSize:0,et=Y(F,U);if(k)for(;J+et.length>k;){let it=Q.shift();if(it&&U[it])delete U[it],et=Y(F,U);else return!1}return et}function O(F,U,Z){switch(G.propertiesTypes[U]){case"byte":{F.write(V.from([G.properties[U]])),F.write(V.from([+Z]));break}case"int8":{F.write(V.from([G.properties[U]])),F.write(V.from([Z]));break}case"binary":{F.write(V.from([G.properties[U]])),D(F,Z);break}case"int16":{F.write(V.from([G.properties[U]])),e(F,Z);break}case"int32":{F.write(V.from([G.properties[U]])),I(F,Z);break}case"var":{F.write(V.from([G.properties[U]])),w(F,Z);break}case"string":{F.write(V.from([G.properties[U]])),A(F,Z);break}case"pair":{Object.getOwnPropertyNames(Z).forEach(J=>{let Q=Z[J];Array.isArray(Q)?Q.forEach(k=>{F.write(V.from([G.properties[U]])),P(F,J.toString(),k.toString())}):(F.write(V.from([G.properties[U]])),P(F,J.toString(),Q.toString()))});break}default:return F.destroy(new Error(`Invalid property ${U} value: ${Z}`)),!1}}function N(F,U,Z){w(F,Z);for(let J in U)if(Object.prototype.hasOwnProperty.call(U,J)&&U[J]!=null){let Q=U[J];if(Array.isArray(Q))for(let k=0;k<Q.length;k++)O(F,J,Q[k]);else O(F,J,Q)}}function L(F){return F?F instanceof V?F.length:V.byteLength(F):0}function W(F){return typeof F=="string"||F instanceof V}z.exports=l}),Tl=Et((j,z)=>{yt(),St(),Tt();var G=Oo(),{EventEmitter:V}=(Ye(),Xt(Ie)),{Buffer:X}=(qt(),Xt(kt));function b(x,t){let a=new c;return G(x,a,t),a.concat()}var c=class extends V{constructor(){super(),this._array=new Array(20),this._i=0}write(x){return this._array[this._i++]=x,!0}concat(){let x=0,t=new Array(this._array.length),a=this._array,p=0,o;for(o=0;o<a.length&&a[o]!==void 0;o++)typeof a[o]!="string"?t[o]=a[o].length:t[o]=X.byteLength(a[o]),x+=t[o];let s=X.allocUnsafe(x);for(o=0;o<a.length&&a[o]!==void 0;o++)typeof a[o]!="string"?(a[o].copy(s,p),p+=t[o]):(s.write(a[o],p),p+=t[o]);return s}destroy(x){x&&this.emit("error",x)}};z.exports=b}),Sl=Et(j=>{yt(),St(),Tt(),j.parser=ml().parser,j.generate=Tl(),j.writeToStream=Oo()}),El=Et((j,z)=>{yt(),St(),Tt(),z.exports=V;function G(b){return b instanceof sr?sr.from(b):new b.constructor(b.buffer.slice(),b.byteOffset,b.length)}function V(b){if(b=b||{},b.circles)return X(b);let c=new Map;if(c.set(Date,o=>new Date(o)),c.set(Map,(o,s)=>new Map(t(Array.from(o),s))),c.set(Set,(o,s)=>new Set(t(Array.from(o),s))),b.constructorHandlers)for(let o of b.constructorHandlers)c.set(o[0],o[1]);let x=null;return b.proto?p:a;function t(o,s){let r=Object.keys(o),e=new Array(r.length);for(let n=0;n<r.length;n++){let l=r[n],i=o[l];typeof i!="object"||i===null?e[l]=i:i.constructor!==Object&&(x=c.get(i.constructor))?e[l]=x(i,s):ArrayBuffer.isView(i)?e[l]=G(i):e[l]=s(i)}return e}function a(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return t(o,a);if(o.constructor!==Object&&(x=c.get(o.constructor)))return x(o,a);let s={};for(let r in o){if(Object.hasOwnProperty.call(o,r)===!1)continue;let e=o[r];typeof e!="object"||e===null?s[r]=e:e.constructor!==Object&&(x=c.get(e.constructor))?s[r]=x(e,a):ArrayBuffer.isView(e)?s[r]=G(e):s[r]=a(e)}return s}function p(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return t(o,p);if(o.constructor!==Object&&(x=c.get(o.constructor)))return x(o,p);let s={};for(let r in o){let e=o[r];typeof e!="object"||e===null?s[r]=e:e.constructor!==Object&&(x=c.get(e.constructor))?s[r]=x(e,p):ArrayBuffer.isView(e)?s[r]=G(e):s[r]=p(e)}return s}}function X(b){let c=[],x=[],t=new Map;if(t.set(Date,r=>new Date(r)),t.set(Map,(r,e)=>new Map(p(Array.from(r),e))),t.set(Set,(r,e)=>new Set(p(Array.from(r),e))),b.constructorHandlers)for(let r of b.constructorHandlers)t.set(r[0],r[1]);let a=null;return b.proto?s:o;function p(r,e){let n=Object.keys(r),l=new Array(n.length);for(let i=0;i<n.length;i++){let h=n[i],f=r[h];if(typeof f!="object"||f===null)l[h]=f;else if(f.constructor!==Object&&(a=t.get(f.constructor)))l[h]=a(f,e);else if(ArrayBuffer.isView(f))l[h]=G(f);else{let d=c.indexOf(f);d!==-1?l[h]=x[d]:l[h]=e(f)}}return l}function o(r){if(typeof r!="object"||r===null)return r;if(Array.isArray(r))return p(r,o);if(r.constructor!==Object&&(a=t.get(r.constructor)))return a(r,o);let e={};c.push(r),x.push(e);for(let n in r){if(Object.hasOwnProperty.call(r,n)===!1)continue;let l=r[n];if(typeof l!="object"||l===null)e[n]=l;else if(l.constructor!==Object&&(a=t.get(l.constructor)))e[n]=a(l,o);else if(ArrayBuffer.isView(l))e[n]=G(l);else{let i=c.indexOf(l);i!==-1?e[n]=x[i]:e[n]=o(l)}}return c.pop(),x.pop(),e}function s(r){if(typeof r!="object"||r===null)return r;if(Array.isArray(r))return p(r,s);if(r.constructor!==Object&&(a=t.get(r.constructor)))return a(r,s);let e={};c.push(r),x.push(e);for(let n in r){let l=r[n];if(typeof l!="object"||l===null)e[n]=l;else if(l.constructor!==Object&&(a=t.get(l.constructor)))e[n]=a(l,s);else if(ArrayBuffer.isView(l))e[n]=G(l);else{let i=c.indexOf(l);i!==-1?e[n]=x[i]:e[n]=s(l)}}return c.pop(),x.pop(),e}}}),Cl=Et((j,z)=>{yt(),St(),Tt(),z.exports=El()()}),Al=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.validateTopic=z,j.validateTopics=G;function z(V){let X=V.split("/");for(let b=0;b<X.length;b++)if(X[b]!=="+"){if(X[b]==="#")return b===X.length-1;if(X[b].indexOf("+")!==-1||X[b].indexOf("#")!==-1)return!1}return!0}function G(V){if(V.length===0)return"empty_topic_list";for(let X=0;X<V.length;X++)if(!z(V[X]))return V[X];return null}}),bo=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=je(),G={objectMode:!0},V={clean:!0},X=class{constructor(b){At(this,"options");At(this,"_inflights");this.options=b||{},this.options={...V,...b},this._inflights=new Map}put(b,c){return this._inflights.set(b.messageId,b),c&&c(),this}createStream(){let b=new z.Readable(G),c=[],x=!1,t=0;return this._inflights.forEach((a,p)=>{c.push(a)}),b._read=()=>{!x&&t<c.length?b.push(c[t++]):b.push(null)},b.destroy=a=>{if(!x)return x=!0,setTimeout(()=>{b.emit("close")},0),b},b}del(b,c){let x=this._inflights.get(b.messageId);return x?(this._inflights.delete(b.messageId),c(null,x)):c&&c(new Error("missing packet")),this}get(b,c){let x=this._inflights.get(b.messageId);return x?c(null,x):c&&c(new Error("missing packet")),this}close(b){this.options.clean&&(this._inflights=null),b&&b()}};j.default=X}),Pl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=[0,16,128,131,135,144,145,151,153],G=(V,X,b)=>{V.log("handlePublish: packet %o",X),b=typeof b<"u"?b:V.noop;let c=X.topic.toString(),x=X.payload,{qos:t}=X,{messageId:a}=X,{options:p}=V;if(V.options.protocolVersion===5){let o;if(X.properties&&(o=X.properties.topicAlias),typeof o<"u")if(c.length===0)if(o>0&&o<=65535){let s=V.topicAliasRecv.getTopicByAlias(o);if(s)c=s,V.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",c,o);else{V.log("handlePublish :: unregistered topic alias. alias: %d",o),V.emit("error",new Error("Received unregistered Topic Alias"));return}}else{V.log("handlePublish :: topic alias out of range. alias: %d",o),V.emit("error",new Error("Received Topic Alias is out of range"));return}else if(V.topicAliasRecv.put(c,o))V.log("handlePublish :: registered topic: %s - alias: %d",c,o);else{V.log("handlePublish :: topic alias out of range. alias: %d",o),V.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(V.log("handlePublish: qos %d",t),t){case 2:{p.customHandleAcks(c,x,X,(o,s)=>{if(typeof o=="number"&&(s=o,o=null),o)return V.emit("error",o);if(z.indexOf(s)===-1)return V.emit("error",new Error("Wrong reason code for pubrec"));s?V._sendPacket({cmd:"pubrec",messageId:a,reasonCode:s},b):V.incomingStore.put(X,()=>{V._sendPacket({cmd:"pubrec",messageId:a},b)})});break}case 1:{p.customHandleAcks(c,x,X,(o,s)=>{if(typeof o=="number"&&(s=o,o=null),o)return V.emit("error",o);if(z.indexOf(s)===-1)return V.emit("error",new Error("Wrong reason code for puback"));s||V.emit("message",c,x,X),V.handleMessage(X,r=>{if(r)return b&&b(r);V._sendPacket({cmd:"puback",messageId:a,reasonCode:s},b)})});break}case 0:V.emit("message",c,x,X),V.handleMessage(X,b);break;default:V.log("handlePublish: unknown QoS. Doing nothing.");break}};j.default=G}),wl=Et((j,z)=>{z.exports={version:"5.14.1"}}),ei=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.MQTTJS_VERSION=j.nextTick=j.ErrorWithSubackPacket=j.ErrorWithReasonCode=void 0,j.applyMixin=V;var z=class Io extends Error{constructor(c,x){super(c);At(this,"code");this.code=x,Object.setPrototypeOf(this,Io.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};j.ErrorWithReasonCode=z;var G=class Do extends Error{constructor(c,x){super(c);At(this,"packet");this.packet=x,Object.setPrototypeOf(this,Do.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};j.ErrorWithSubackPacket=G;function V(X,b,c=!1){let x=[b];for(;;){let t=x[0],a=Object.getPrototypeOf(t);if(a!=null&&a.prototype)x.unshift(a);else break}for(let t of x)for(let a of Object.getOwnPropertyNames(t.prototype))(c||a!=="constructor")&&Object.defineProperty(X.prototype,a,Object.getOwnPropertyDescriptor(t.prototype,a)??Object.create(null))}j.nextTick=typeof(Ut==null?void 0:Ut.nextTick)=="function"?Ut.nextTick:X=>{setTimeout(X,0)},j.MQTTJS_VERSION=wl().version}),fr=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.ReasonCodes=void 0;var z=ei();j.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var G=(V,X)=>{let{messageId:b}=X,c=X.cmd,x=null,t=V.outgoing[b]?V.outgoing[b].cb:null,a=null;if(!t){V.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(V.log("_handleAck :: packet type",c),c){case"pubcomp":case"puback":{let p=X.reasonCode;p&&p>0&&p!==16?(a=new z.ErrorWithReasonCode(`Publish error: ${j.ReasonCodes[p]}`,p),V._removeOutgoingAndStoreMessage(b,()=>{t(a,X)})):V._removeOutgoingAndStoreMessage(b,t);break}case"pubrec":{x={cmd:"pubrel",qos:2,messageId:b};let p=X.reasonCode;p&&p>0&&p!==16?(a=new z.ErrorWithReasonCode(`Publish error: ${j.ReasonCodes[p]}`,p),V._removeOutgoingAndStoreMessage(b,()=>{t(a,X)})):V._sendPacket(x);break}case"suback":{delete V.outgoing[b],V.messageIdProvider.deallocate(b);let p=X.granted;for(let o=0;o<p.length;o++){let s=p[o];if(s&128){a=new Error(`Subscribe error: ${j.ReasonCodes[s]}`),a.code=s;let r=V.messageIdToTopic[b];r&&r.forEach(e=>{delete V._resubscribeTopics[e]})}}delete V.messageIdToTopic[b],V._invokeStoreProcessingQueue(),t(a,X);break}case"unsuback":{delete V.outgoing[b],V.messageIdProvider.deallocate(b),V._invokeStoreProcessingQueue(),t(null,X);break}default:V.emit("error",new Error("unrecognized packet type"))}V.disconnecting&&Object.keys(V.outgoing).length===0&&V.emit("outgoingEmpty")};j.default=G}),Ml=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=ei(),G=fr(),V=(X,b)=>{let{options:c}=X,x=c.protocolVersion,t=x===5?b.reasonCode:b.returnCode;if(x!==5){let a=new z.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${x}`,t);X.emit("error",a);return}X.handleAuth(b,(a,p)=>{if(a){X.emit("error",a);return}if(t===24)X.reconnecting=!1,X._sendPacket(p);else{let o=new z.ErrorWithReasonCode(`Connection refused: ${G.ReasonCodes[t]}`,t);X.emit("error",o)}})};j.default=V}),Rl=Et(j=>{var r,e,n,l,i,h,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M,R,I,D,Y,B,O,N,L,Fn,F,U,Z,J,Bo,k,et,it,Re,Le,On,Li,Fi,Ht,bn,li,Fe,In,Pt;yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.LRUCache=void 0;var z=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,G=new Set,V=typeof Ut=="object"&&Ut?Ut:{},X=(H,K,$,_)=>{typeof V.emitWarning=="function"?V.emitWarning(H,K,$,_):console.error(`[${$}] ${K}: ${H}`)},b=globalThis.AbortController,c=globalThis.AbortSignal;if(typeof b>"u"){c=class{constructor(){At(this,"onabort");At(this,"_onabort",[]);At(this,"reason");At(this,"aborted",!1)}addEventListener($,_){this._onabort.push(_)}},b=class{constructor(){At(this,"signal",new c);K()}abort($){var _,st;if(!this.signal.aborted){this.signal.reason=$,this.signal.aborted=!0;for(let dt of this.signal._onabort)dt($);(st=(_=this.signal).onabort)==null||st.call(_,$)}}};let H=((r=V.env)==null?void 0:r.LRU_CACHE_IGNORE_AC_WARNING)!=="1",K=()=>{H&&(H=!1,X("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",K))}}var x=H=>!G.has(H),t=H=>H&&H===Math.floor(H)&&H>0&&isFinite(H),a=H=>t(H)?H<=Math.pow(2,8)?Uint8Array:H<=Math.pow(2,16)?Uint16Array:H<=Math.pow(2,32)?Uint32Array:H<=Number.MAX_SAFE_INTEGER?p:null:null,p=class extends Array{constructor(H){super(H),this.fill(0)}},o=(e=class{constructor(K,$){At(this,"heap");At(this,"length");if(!ut(e,n))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new $(K),this.length=0}static create(K){let $=a(K);if(!$)return[];Dt(e,n,!0);let _=new e(K,$);return Dt(e,n,!1),_}push(K){this.heap[this.length++]=K}pop(){return this.heap[--this.length]}},n=new WeakMap,Gt(e,n,!1),e),s=(Pt=class{constructor(K){Gt(this,L);Gt(this,h);Gt(this,f);Gt(this,d);Gt(this,u);Gt(this,v);Gt(this,g);At(this,"ttl");At(this,"ttlResolution");At(this,"ttlAutopurge");At(this,"updateAgeOnGet");At(this,"updateAgeOnHas");At(this,"allowStale");At(this,"noDisposeOnSet");At(this,"noUpdateTTL");At(this,"maxEntrySize");At(this,"sizeCalculation");At(this,"noDeleteOnFetchRejection");At(this,"noDeleteOnStaleGet");At(this,"allowStaleOnFetchAbort");At(this,"allowStaleOnFetchRejection");At(this,"ignoreFetchAbort");Gt(this,y);Gt(this,m);Gt(this,T);Gt(this,S);Gt(this,E);Gt(this,C);Gt(this,w);Gt(this,A);Gt(this,P);Gt(this,M);Gt(this,R);Gt(this,I);Gt(this,D);Gt(this,Y);Gt(this,B);Gt(this,O);Gt(this,N);Gt(this,F,()=>{});Gt(this,U,()=>{});Gt(this,Z,()=>{});Gt(this,J,()=>!1);Gt(this,k,K=>{});Gt(this,et,(K,$,_)=>{});Gt(this,it,(K,$,_,st)=>{if(_||st)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});At(this,l,"LRUCache");let{max:$=0,ttl:_,ttlResolution:st=1,ttlAutopurge:dt,updateAgeOnGet:pt,updateAgeOnHas:ot,allowStale:ct,dispose:Ct,disposeAfter:Mt,noDisposeOnSet:Rt,noUpdateTTL:bt,maxSize:zt=0,maxEntrySize:Wt=0,sizeCalculation:Bt,fetchMethod:Yt,memoMethod:It,noDeleteOnFetchRejection:Nt,noDeleteOnStaleGet:Vt,allowStaleOnFetchRejection:Zt,allowStaleOnFetchAbort:Qt,ignoreFetchAbort:ae}=K;if($!==0&&!t($))throw new TypeError("max option must be a nonnegative integer");let rt=$?a($):Array;if(!rt)throw new Error("invalid max value: "+$);if(Dt(this,h,$),Dt(this,f,zt),this.maxEntrySize=Wt||ut(this,f),this.sizeCalculation=Bt,this.sizeCalculation){if(!ut(this,f)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(It!==void 0&&typeof It!="function")throw new TypeError("memoMethod must be a function if defined");if(Dt(this,g,It),Yt!==void 0&&typeof Yt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Dt(this,v,Yt),Dt(this,O,!!Yt),Dt(this,T,new Map),Dt(this,S,new Array($).fill(void 0)),Dt(this,E,new Array($).fill(void 0)),Dt(this,C,new rt($)),Dt(this,w,new rt($)),Dt(this,A,0),Dt(this,P,0),Dt(this,M,o.create($)),Dt(this,y,0),Dt(this,m,0),typeof Ct=="function"&&Dt(this,d,Ct),typeof Mt=="function"?(Dt(this,u,Mt),Dt(this,R,[])):(Dt(this,u,void 0),Dt(this,R,void 0)),Dt(this,B,!!ut(this,d)),Dt(this,N,!!ut(this,u)),this.noDisposeOnSet=!!Rt,this.noUpdateTTL=!!bt,this.noDeleteOnFetchRejection=!!Nt,this.allowStaleOnFetchRejection=!!Zt,this.allowStaleOnFetchAbort=!!Qt,this.ignoreFetchAbort=!!ae,this.maxEntrySize!==0){if(ut(this,f)!==0&&!t(ut(this,f)))throw new TypeError("maxSize must be a positive integer if specified");if(!t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ot(this,L,Bo).call(this)}if(this.allowStale=!!ct,this.noDeleteOnStaleGet=!!Vt,this.updateAgeOnGet=!!pt,this.updateAgeOnHas=!!ot,this.ttlResolution=t(st)||st===0?st:1,this.ttlAutopurge=!!dt,this.ttl=_||0,this.ttl){if(!t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ot(this,L,Fn).call(this)}if(ut(this,h)===0&&this.ttl===0&&ut(this,f)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!ut(this,h)&&!ut(this,f)){let lt="LRU_CACHE_UNBOUNDED";x(lt)&&(G.add(lt),X("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",lt,Pt))}}static unsafeExposeInternals(K){return{starts:ut(K,D),ttls:ut(K,Y),sizes:ut(K,I),keyMap:ut(K,T),keyList:ut(K,S),valList:ut(K,E),next:ut(K,C),prev:ut(K,w),get head(){return ut(K,A)},get tail(){return ut(K,P)},free:ut(K,M),isBackgroundFetch:$=>{var _;return Ot(_=K,L,Ht).call(_,$)},backgroundFetch:($,_,st,dt)=>{var pt;return Ot(pt=K,L,Fi).call(pt,$,_,st,dt)},moveToTail:$=>{var _;return Ot(_=K,L,li).call(_,$)},indexes:$=>{var _;return Ot(_=K,L,Re).call(_,$)},rindexes:$=>{var _;return Ot(_=K,L,Le).call(_,$)},isStale:$=>{var _;return ut(_=K,J).call(_,$)}}}get max(){return ut(this,h)}get maxSize(){return ut(this,f)}get calculatedSize(){return ut(this,m)}get size(){return ut(this,y)}get fetchMethod(){return ut(this,v)}get memoMethod(){return ut(this,g)}get dispose(){return ut(this,d)}get disposeAfter(){return ut(this,u)}getRemainingTTL(K){return ut(this,T).has(K)?1/0:0}*entries(){for(let K of Ot(this,L,Re).call(this))ut(this,E)[K]!==void 0&&ut(this,S)[K]!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield[ut(this,S)[K],ut(this,E)[K]])}*rentries(){for(let K of Ot(this,L,Le).call(this))ut(this,E)[K]!==void 0&&ut(this,S)[K]!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield[ut(this,S)[K],ut(this,E)[K]])}*keys(){for(let K of Ot(this,L,Re).call(this)){let $=ut(this,S)[K];$!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield $)}}*rkeys(){for(let K of Ot(this,L,Le).call(this)){let $=ut(this,S)[K];$!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield $)}}*values(){for(let K of Ot(this,L,Re).call(this))ut(this,E)[K]!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield ut(this,E)[K])}*rvalues(){for(let K of Ot(this,L,Le).call(this))ut(this,E)[K]!==void 0&&!Ot(this,L,Ht).call(this,ut(this,E)[K])&&(yield ut(this,E)[K])}[(i=Symbol.iterator,l=Symbol.toStringTag,i)](){return this.entries()}find(K,$={}){for(let _ of Ot(this,L,Re).call(this)){let st=ut(this,E)[_],dt=Ot(this,L,Ht).call(this,st)?st.__staleWhileFetching:st;if(dt!==void 0&&K(dt,ut(this,S)[_],this))return this.get(ut(this,S)[_],$)}}forEach(K,$=this){for(let _ of Ot(this,L,Re).call(this)){let st=ut(this,E)[_],dt=Ot(this,L,Ht).call(this,st)?st.__staleWhileFetching:st;dt!==void 0&&K.call($,dt,ut(this,S)[_],this)}}rforEach(K,$=this){for(let _ of Ot(this,L,Le).call(this)){let st=ut(this,E)[_],dt=Ot(this,L,Ht).call(this,st)?st.__staleWhileFetching:st;dt!==void 0&&K.call($,dt,ut(this,S)[_],this)}}purgeStale(){let K=!1;for(let $ of Ot(this,L,Le).call(this,{allowStale:!0}))ut(this,J).call(this,$)&&(Ot(this,L,Fe).call(this,ut(this,S)[$],"expire"),K=!0);return K}info(K){let $=ut(this,T).get(K);if($===void 0)return;let _=ut(this,E)[$],st=Ot(this,L,Ht).call(this,_)?_.__staleWhileFetching:_;if(st===void 0)return;let dt={value:st};if(ut(this,Y)&&ut(this,D)){let pt=ut(this,Y)[$],ot=ut(this,D)[$];if(pt&&ot){let ct=pt-(z.now()-ot);dt.ttl=ct,dt.start=Date.now()}}return ut(this,I)&&(dt.size=ut(this,I)[$]),dt}dump(){let K=[];for(let $ of Ot(this,L,Re).call(this,{allowStale:!0})){let _=ut(this,S)[$],st=ut(this,E)[$],dt=Ot(this,L,Ht).call(this,st)?st.__staleWhileFetching:st;if(dt===void 0||_===void 0)continue;let pt={value:dt};if(ut(this,Y)&&ut(this,D)){pt.ttl=ut(this,Y)[$];let ot=z.now()-ut(this,D)[$];pt.start=Math.floor(Date.now()-ot)}ut(this,I)&&(pt.size=ut(this,I)[$]),K.unshift([_,pt])}return K}load(K){this.clear();for(let[$,_]of K){if(_.start){let st=Date.now()-_.start;_.start=z.now()-st}this.set($,_.value,_)}}set(K,$,_={}){var bt,zt,Wt,Bt,Yt;if($===void 0)return this.delete(K),this;let{ttl:st=this.ttl,start:dt,noDisposeOnSet:pt=this.noDisposeOnSet,sizeCalculation:ot=this.sizeCalculation,status:ct}=_,{noUpdateTTL:Ct=this.noUpdateTTL}=_,Mt=ut(this,it).call(this,K,$,_.size||0,ot);if(this.maxEntrySize&&Mt>this.maxEntrySize)return ct&&(ct.set="miss",ct.maxEntrySizeExceeded=!0),Ot(this,L,Fe).call(this,K,"set"),this;let Rt=ut(this,y)===0?void 0:ut(this,T).get(K);if(Rt===void 0)Rt=ut(this,y)===0?ut(this,P):ut(this,M).length!==0?ut(this,M).pop():ut(this,y)===ut(this,h)?Ot(this,L,Li).call(this,!1):ut(this,y),ut(this,S)[Rt]=K,ut(this,E)[Rt]=$,ut(this,T).set(K,Rt),ut(this,C)[ut(this,P)]=Rt,ut(this,w)[Rt]=ut(this,P),Dt(this,P,Rt),Si(this,y)._++,ut(this,et).call(this,Rt,Mt,ct),ct&&(ct.set="add"),Ct=!1;else{Ot(this,L,li).call(this,Rt);let It=ut(this,E)[Rt];if($!==It){if(ut(this,O)&&Ot(this,L,Ht).call(this,It)){It.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Nt}=It;Nt!==void 0&&!pt&&(ut(this,B)&&((bt=ut(this,d))==null||bt.call(this,Nt,K,"set")),ut(this,N)&&((zt=ut(this,R))==null||zt.push([Nt,K,"set"])))}else pt||(ut(this,B)&&((Wt=ut(this,d))==null||Wt.call(this,It,K,"set")),ut(this,N)&&((Bt=ut(this,R))==null||Bt.push([It,K,"set"])));if(ut(this,k).call(this,Rt),ut(this,et).call(this,Rt,Mt,ct),ut(this,E)[Rt]=$,ct){ct.set="replace";let Nt=It&&Ot(this,L,Ht).call(this,It)?It.__staleWhileFetching:It;Nt!==void 0&&(ct.oldValue=Nt)}}else ct&&(ct.set="update")}if(st!==0&&!ut(this,Y)&&Ot(this,L,Fn).call(this),ut(this,Y)&&(Ct||ut(this,Z).call(this,Rt,st,dt),ct&&ut(this,U).call(this,ct,Rt)),!pt&&ut(this,N)&&ut(this,R)){let It=ut(this,R),Nt;for(;Nt=It==null?void 0:It.shift();)(Yt=ut(this,u))==null||Yt.call(this,...Nt)}return this}pop(){var K;try{for(;ut(this,y);){let $=ut(this,E)[ut(this,A)];if(Ot(this,L,Li).call(this,!0),Ot(this,L,Ht).call(this,$)){if($.__staleWhileFetching)return $.__staleWhileFetching}else if($!==void 0)return $}}finally{if(ut(this,N)&&ut(this,R)){let $=ut(this,R),_;for(;_=$==null?void 0:$.shift();)(K=ut(this,u))==null||K.call(this,..._)}}}has(K,$={}){let{updateAgeOnHas:_=this.updateAgeOnHas,status:st}=$,dt=ut(this,T).get(K);if(dt!==void 0){let pt=ut(this,E)[dt];if(Ot(this,L,Ht).call(this,pt)&&pt.__staleWhileFetching===void 0)return!1;if(ut(this,J).call(this,dt))st&&(st.has="stale",ut(this,U).call(this,st,dt));else return _&&ut(this,F).call(this,dt),st&&(st.has="hit",ut(this,U).call(this,st,dt)),!0}else st&&(st.has="miss");return!1}peek(K,$={}){let{allowStale:_=this.allowStale}=$,st=ut(this,T).get(K);if(st===void 0||!_&&ut(this,J).call(this,st))return;let dt=ut(this,E)[st];return Ot(this,L,Ht).call(this,dt)?dt.__staleWhileFetching:dt}async fetch(K,$={}){let{allowStale:_=this.allowStale,updateAgeOnGet:st=this.updateAgeOnGet,noDeleteOnStaleGet:dt=this.noDeleteOnStaleGet,ttl:pt=this.ttl,noDisposeOnSet:ot=this.noDisposeOnSet,size:ct=0,sizeCalculation:Ct=this.sizeCalculation,noUpdateTTL:Mt=this.noUpdateTTL,noDeleteOnFetchRejection:Rt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:bt=this.allowStaleOnFetchRejection,ignoreFetchAbort:zt=this.ignoreFetchAbort,allowStaleOnFetchAbort:Wt=this.allowStaleOnFetchAbort,context:Bt,forceRefresh:Yt=!1,status:It,signal:Nt}=$;if(!ut(this,O))return It&&(It.fetch="get"),this.get(K,{allowStale:_,updateAgeOnGet:st,noDeleteOnStaleGet:dt,status:It});let Vt={allowStale:_,updateAgeOnGet:st,noDeleteOnStaleGet:dt,ttl:pt,noDisposeOnSet:ot,size:ct,sizeCalculation:Ct,noUpdateTTL:Mt,noDeleteOnFetchRejection:Rt,allowStaleOnFetchRejection:bt,allowStaleOnFetchAbort:Wt,ignoreFetchAbort:zt,status:It,signal:Nt},Zt=ut(this,T).get(K);if(Zt===void 0){It&&(It.fetch="miss");let Qt=Ot(this,L,Fi).call(this,K,Zt,Vt,Bt);return Qt.__returned=Qt}else{let Qt=ut(this,E)[Zt];if(Ot(this,L,Ht).call(this,Qt)){let wt=_&&Qt.__staleWhileFetching!==void 0;return It&&(It.fetch="inflight",wt&&(It.returnedStale=!0)),wt?Qt.__staleWhileFetching:Qt.__returned=Qt}let ae=ut(this,J).call(this,Zt);if(!Yt&&!ae)return It&&(It.fetch="hit"),Ot(this,L,li).call(this,Zt),st&&ut(this,F).call(this,Zt),It&&ut(this,U).call(this,It,Zt),Qt;let rt=Ot(this,L,Fi).call(this,K,Zt,Vt,Bt),lt=rt.__staleWhileFetching!==void 0&&_;return It&&(It.fetch=ae?"stale":"refresh",lt&&ae&&(It.returnedStale=!0)),lt?rt.__staleWhileFetching:rt.__returned=rt}}async forceFetch(K,$={}){let _=await this.fetch(K,$);if(_===void 0)throw new Error("fetch() returned undefined");return _}memo(K,$={}){let _=ut(this,g);if(!_)throw new Error("no memoMethod provided to constructor");let{context:st,forceRefresh:dt,...pt}=$,ot=this.get(K,pt);if(!dt&&ot!==void 0)return ot;let ct=_(K,ot,{options:pt,context:st});return this.set(K,ct,pt),ct}get(K,$={}){let{allowStale:_=this.allowStale,updateAgeOnGet:st=this.updateAgeOnGet,noDeleteOnStaleGet:dt=this.noDeleteOnStaleGet,status:pt}=$,ot=ut(this,T).get(K);if(ot!==void 0){let ct=ut(this,E)[ot],Ct=Ot(this,L,Ht).call(this,ct);return pt&&ut(this,U).call(this,pt,ot),ut(this,J).call(this,ot)?(pt&&(pt.get="stale"),Ct?(pt&&_&&ct.__staleWhileFetching!==void 0&&(pt.returnedStale=!0),_?ct.__staleWhileFetching:void 0):(dt||Ot(this,L,Fe).call(this,K,"expire"),pt&&_&&(pt.returnedStale=!0),_?ct:void 0)):(pt&&(pt.get="hit"),Ct?ct.__staleWhileFetching:(Ot(this,L,li).call(this,ot),st&&ut(this,F).call(this,ot),ct))}else pt&&(pt.get="miss")}delete(K){return Ot(this,L,Fe).call(this,K,"delete")}clear(){return Ot(this,L,In).call(this,"delete")}},h=new WeakMap,f=new WeakMap,d=new WeakMap,u=new WeakMap,v=new WeakMap,g=new WeakMap,y=new WeakMap,m=new WeakMap,T=new WeakMap,S=new WeakMap,E=new WeakMap,C=new WeakMap,w=new WeakMap,A=new WeakMap,P=new WeakMap,M=new WeakMap,R=new WeakMap,I=new WeakMap,D=new WeakMap,Y=new WeakMap,B=new WeakMap,O=new WeakMap,N=new WeakMap,L=new WeakSet,Fn=function(){let K=new p(ut(this,h)),$=new p(ut(this,h));Dt(this,Y,K),Dt(this,D,$),Dt(this,Z,(dt,pt,ot=z.now())=>{if($[dt]=pt!==0?ot:0,K[dt]=pt,pt!==0&&this.ttlAutopurge){let ct=setTimeout(()=>{ut(this,J).call(this,dt)&&Ot(this,L,Fe).call(this,ut(this,S)[dt],"expire")},pt+1);ct.unref&&ct.unref()}}),Dt(this,F,dt=>{$[dt]=K[dt]!==0?z.now():0}),Dt(this,U,(dt,pt)=>{if(K[pt]){let ot=K[pt],ct=$[pt];if(!ot||!ct)return;dt.ttl=ot,dt.start=ct,dt.now=_||st();let Ct=dt.now-ct;dt.remainingTTL=ot-Ct}});let _=0,st=()=>{let dt=z.now();if(this.ttlResolution>0){_=dt;let pt=setTimeout(()=>_=0,this.ttlResolution);pt.unref&&pt.unref()}return dt};this.getRemainingTTL=dt=>{let pt=ut(this,T).get(dt);if(pt===void 0)return 0;let ot=K[pt],ct=$[pt];if(!ot||!ct)return 1/0;let Ct=(_||st())-ct;return ot-Ct},Dt(this,J,dt=>{let pt=$[dt],ot=K[dt];return!!ot&&!!pt&&(_||st())-pt>ot})},F=new WeakMap,U=new WeakMap,Z=new WeakMap,J=new WeakMap,Bo=function(){let K=new p(ut(this,h));Dt(this,m,0),Dt(this,I,K),Dt(this,k,$=>{Dt(this,m,ut(this,m)-K[$]),K[$]=0}),Dt(this,it,($,_,st,dt)=>{if(Ot(this,L,Ht).call(this,_))return 0;if(!t(st))if(dt){if(typeof dt!="function")throw new TypeError("sizeCalculation must be a function");if(st=dt(_,$),!t(st))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return st}),Dt(this,et,($,_,st)=>{if(K[$]=_,ut(this,f)){let dt=ut(this,f)-K[$];for(;ut(this,m)>dt;)Ot(this,L,Li).call(this,!0)}Dt(this,m,ut(this,m)+K[$]),st&&(st.entrySize=_,st.totalCalculatedSize=ut(this,m))})},k=new WeakMap,et=new WeakMap,it=new WeakMap,Re=function*({allowStale:K=this.allowStale}={}){if(ut(this,y))for(let $=ut(this,P);!(!Ot(this,L,On).call(this,$)||((K||!ut(this,J).call(this,$))&&(yield $),$===ut(this,A)));)$=ut(this,w)[$]},Le=function*({allowStale:K=this.allowStale}={}){if(ut(this,y))for(let $=ut(this,A);!(!Ot(this,L,On).call(this,$)||((K||!ut(this,J).call(this,$))&&(yield $),$===ut(this,P)));)$=ut(this,C)[$]},On=function(K){return K!==void 0&&ut(this,T).get(ut(this,S)[K])===K},Li=function(K){var dt,pt;let $=ut(this,A),_=ut(this,S)[$],st=ut(this,E)[$];return ut(this,O)&&Ot(this,L,Ht).call(this,st)?st.__abortController.abort(new Error("evicted")):(ut(this,B)||ut(this,N))&&(ut(this,B)&&((dt=ut(this,d))==null||dt.call(this,st,_,"evict")),ut(this,N)&&((pt=ut(this,R))==null||pt.push([st,_,"evict"]))),ut(this,k).call(this,$),K&&(ut(this,S)[$]=void 0,ut(this,E)[$]=void 0,ut(this,M).push($)),ut(this,y)===1?(Dt(this,A,Dt(this,P,0)),ut(this,M).length=0):Dt(this,A,ut(this,C)[$]),ut(this,T).delete(_),Si(this,y)._--,$},Fi=function(K,$,_,st){let dt=$===void 0?void 0:ut(this,E)[$];if(Ot(this,L,Ht).call(this,dt))return dt;let pt=new b,{signal:ot}=_;ot==null||ot.addEventListener("abort",()=>pt.abort(ot.reason),{signal:pt.signal});let ct={signal:pt.signal,options:_,context:st},Ct=(Bt,Yt=!1)=>{let{aborted:It}=pt.signal,Nt=_.ignoreFetchAbort&&Bt!==void 0;if(_.status&&(It&&!Yt?(_.status.fetchAborted=!0,_.status.fetchError=pt.signal.reason,Nt&&(_.status.fetchAbortIgnored=!0)):_.status.fetchResolved=!0),It&&!Nt&&!Yt)return Rt(pt.signal.reason);let Vt=zt;return ut(this,E)[$]===zt&&(Bt===void 0?Vt.__staleWhileFetching?ut(this,E)[$]=Vt.__staleWhileFetching:Ot(this,L,Fe).call(this,K,"fetch"):(_.status&&(_.status.fetchUpdated=!0),this.set(K,Bt,ct.options))),Bt},Mt=Bt=>(_.status&&(_.status.fetchRejected=!0,_.status.fetchError=Bt),Rt(Bt)),Rt=Bt=>{let{aborted:Yt}=pt.signal,It=Yt&&_.allowStaleOnFetchAbort,Nt=It||_.allowStaleOnFetchRejection,Vt=Nt||_.noDeleteOnFetchRejection,Zt=zt;if(ut(this,E)[$]===zt&&(!Vt||Zt.__staleWhileFetching===void 0?Ot(this,L,Fe).call(this,K,"fetch"):It||(ut(this,E)[$]=Zt.__staleWhileFetching)),Nt)return _.status&&Zt.__staleWhileFetching!==void 0&&(_.status.returnedStale=!0),Zt.__staleWhileFetching;if(Zt.__returned===Zt)throw Bt},bt=(Bt,Yt)=>{var Nt;let It=(Nt=ut(this,v))==null?void 0:Nt.call(this,K,dt,ct);It&&It instanceof Promise&&It.then(Vt=>Bt(Vt===void 0?void 0:Vt),Yt),pt.signal.addEventListener("abort",()=>{(!_.ignoreFetchAbort||_.allowStaleOnFetchAbort)&&(Bt(void 0),_.allowStaleOnFetchAbort&&(Bt=Vt=>Ct(Vt,!0)))})};_.status&&(_.status.fetchDispatched=!0);let zt=new Promise(bt).then(Ct,Mt),Wt=Object.assign(zt,{__abortController:pt,__staleWhileFetching:dt,__returned:void 0});return $===void 0?(this.set(K,Wt,{...ct.options,status:void 0}),$=ut(this,T).get(K)):ut(this,E)[$]=Wt,Wt},Ht=function(K){if(!ut(this,O))return!1;let $=K;return!!$&&$ instanceof Promise&&$.hasOwnProperty("__staleWhileFetching")&&$.__abortController instanceof b},bn=function(K,$){ut(this,w)[$]=K,ut(this,C)[K]=$},li=function(K){K!==ut(this,P)&&(K===ut(this,A)?Dt(this,A,ut(this,C)[K]):Ot(this,L,bn).call(this,ut(this,w)[K],ut(this,C)[K]),Ot(this,L,bn).call(this,ut(this,P),K),Dt(this,P,K))},Fe=function(K,$){var st,dt,pt,ot;let _=!1;if(ut(this,y)!==0){let ct=ut(this,T).get(K);if(ct!==void 0)if(_=!0,ut(this,y)===1)Ot(this,L,In).call(this,$);else{ut(this,k).call(this,ct);let Ct=ut(this,E)[ct];if(Ot(this,L,Ht).call(this,Ct)?Ct.__abortController.abort(new Error("deleted")):(ut(this,B)||ut(this,N))&&(ut(this,B)&&((st=ut(this,d))==null||st.call(this,Ct,K,$)),ut(this,N)&&((dt=ut(this,R))==null||dt.push([Ct,K,$]))),ut(this,T).delete(K),ut(this,S)[ct]=void 0,ut(this,E)[ct]=void 0,ct===ut(this,P))Dt(this,P,ut(this,w)[ct]);else if(ct===ut(this,A))Dt(this,A,ut(this,C)[ct]);else{let Mt=ut(this,w)[ct];ut(this,C)[Mt]=ut(this,C)[ct];let Rt=ut(this,C)[ct];ut(this,w)[Rt]=ut(this,w)[ct]}Si(this,y)._--,ut(this,M).push(ct)}}if(ut(this,N)&&((pt=ut(this,R))!=null&&pt.length)){let ct=ut(this,R),Ct;for(;Ct=ct==null?void 0:ct.shift();)(ot=ut(this,u))==null||ot.call(this,...Ct)}return _},In=function(K){var $,_,st;for(let dt of Ot(this,L,Le).call(this,{allowStale:!0})){let pt=ut(this,E)[dt];if(Ot(this,L,Ht).call(this,pt))pt.__abortController.abort(new Error("deleted"));else{let ot=ut(this,S)[dt];ut(this,B)&&(($=ut(this,d))==null||$.call(this,pt,ot,K)),ut(this,N)&&((_=ut(this,R))==null||_.push([pt,ot,K]))}}if(ut(this,T).clear(),ut(this,E).fill(void 0),ut(this,S).fill(void 0),ut(this,Y)&&ut(this,D)&&(ut(this,Y).fill(0),ut(this,D).fill(0)),ut(this,I)&&ut(this,I).fill(0),Dt(this,A,0),Dt(this,P,0),ut(this,M).length=0,Dt(this,m,0),Dt(this,y,0),ut(this,N)&&ut(this,R)){let dt=ut(this,R),pt;for(;pt=dt==null?void 0:dt.shift();)(st=ut(this,u))==null||st.call(this,...pt)}},Pt);j.LRUCache=s}),Ce=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.ContainerIterator=j.Container=j.Base=void 0;var z=class{constructor(X=0){this.iteratorType=X}equals(X){return this.o===X.o}};j.ContainerIterator=z;var G=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};j.Base=G;var V=class extends G{};j.Container=V}),Ll=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Ce(),G=class extends z.Base{constructor(X=[]){super(),this.S=[];let b=this;X.forEach(function(c){b.push(c)})}clear(){this.i=0,this.S=[]}push(X){return this.S.push(X),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},V=G;j.default=V}),Fl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Ce(),G=class extends z.Base{constructor(X=[]){super(),this.j=0,this.q=[];let b=this;X.forEach(function(c){b.push(c)})}clear(){this.q=[],this.i=this.j=0}push(X){let b=this.q.length;if(this.j/b>.5&&this.j+this.i>=b&&b>4096){let c=this.i;for(let x=0;x<c;++x)this.q[x]=this.q[this.j+x];this.j=0,this.q[this.i]=X}else this.q[this.j+this.i]=X;return++this.i}pop(){if(this.i===0)return;let X=this.q[this.j++];return this.i-=1,X}front(){if(this.i!==0)return this.q[this.j]}},V=G;j.default=V}),Ol=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Ce(),G=class extends z.Base{constructor(X=[],b=function(x,t){return x>t?-1:x<t?1:0},c=!0){if(super(),this.v=b,Array.isArray(X))this.C=c?[...X]:X;else{this.C=[];let t=this;X.forEach(function(a){t.C.push(a)})}this.i=this.C.length;let x=this.i>>1;for(let t=this.i-1>>1;t>=0;--t)this.k(t,x)}m(X){let b=this.C[X];for(;X>0;){let c=X-1>>1,x=this.C[c];if(this.v(x,b)<=0)break;this.C[X]=x,X=c}this.C[X]=b}k(X,b){let c=this.C[X];for(;X<b;){let x=X<<1|1,t=x+1,a=this.C[x];if(t<this.i&&this.v(a,this.C[t])>0&&(x=t,a=this.C[t]),this.v(a,c)>=0)break;this.C[X]=a,X=x}this.C[X]=c}clear(){this.i=0,this.C.length=0}push(X){this.C.push(X),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let X=this.C[0],b=this.C.pop();return this.i-=1,this.i&&(this.C[0]=b,this.k(0,this.i>>1)),X}top(){return this.C[0]}find(X){return this.C.indexOf(X)>=0}remove(X){let b=this.C.indexOf(X);return b<0?!1:(b===0?this.pop():b===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(b,1,this.C.pop()),this.i-=1,this.m(b),this.k(b,this.i>>1)),!0)}updateItem(X){let b=this.C.indexOf(X);return b<0?!1:(this.m(b),this.k(b,this.i>>1),!0)}toArray(){return[...this.C]}},V=G;j.default=V}),Rs=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Ce(),G=class extends z.Container{},V=G;j.default=V}),Ae=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.throwIteratorAccessError=z;function z(){throw new RangeError("Iterator access denied!")}}),No=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.RandomIterator=void 0;var z=Ce(),G=Ae(),V=class extends z.ContainerIterator{constructor(X,b){super(b),this.o=X,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,G.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,G.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,G.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,G.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(X){this.container.setElementByPos(this.o,X)}};j.RandomIterator=V}),bl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=V(Rs()),G=No();function V(x){return x&&x.t?x:{default:x}}var X=class Go extends G.RandomIterator{constructor(t,a,p){super(t,p),this.container=a}copy(){return new Go(this.o,this.container,this.iteratorType)}},b=class extends z.default{constructor(x=[],t=!0){if(super(),Array.isArray(x))this.J=t?[...x]:x,this.i=x.length;else{this.J=[];let a=this;x.forEach(function(p){a.pushBack(p)})}}clear(){this.i=0,this.J.length=0}begin(){return new X(0,this)}end(){return new X(this.i,this)}rBegin(){return new X(this.i-1,this,1)}rEnd(){return new X(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(x){if(x<0||x>this.i-1)throw new RangeError;return this.J[x]}eraseElementByPos(x){if(x<0||x>this.i-1)throw new RangeError;return this.J.splice(x,1),this.i-=1,this.i}eraseElementByValue(x){let t=0;for(let a=0;a<this.i;++a)this.J[a]!==x&&(this.J[t++]=this.J[a]);return this.i=this.J.length=t,this.i}eraseElementByIterator(x){let t=x.o;return x=x.next(),this.eraseElementByPos(t),x}pushBack(x){return this.J.push(x),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(x,t){if(x<0||x>this.i-1)throw new RangeError;this.J[x]=t}insert(x,t,a=1){if(x<0||x>this.i)throw new RangeError;return this.J.splice(x,0,...new Array(a).fill(t)),this.i+=a,this.i}find(x){for(let t=0;t<this.i;++t)if(this.J[t]===x)return new X(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let x=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[x++]=this.J[t]);return this.i=this.J.length=x,this.i}sort(x){this.J.sort(x)}forEach(x){for(let t=0;t<this.i;++t)x(this.J[t],t,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},c=b;j.default=c}),Il=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=X(Rs()),G=Ce(),V=Ae();function X(t){return t&&t.t?t:{default:t}}var b=class Uo extends G.ContainerIterator{constructor(a,p,o,s){super(s),this.o=a,this.h=p,this.container=o,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o.l=a}copy(){return new Uo(this.o,this.h,this.container,this.iteratorType)}},c=class extends z.default{constructor(t=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;t.forEach(function(p){a.pushBack(p)})}V(t){let{L:a,B:p}=t;a.B=p,p.L=a,t===this.p&&(this.p=p),t===this._&&(this._=a),this.i-=1}G(t,a){let p=a.B,o={l:t,L:a,B:p};a.B=o,p.L=o,a===this.h&&(this.p=o),p===this.h&&(this._=o),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new b(this.p,this.h,this)}end(){return new b(this.h,this.h,this)}rBegin(){return new b(this._,this.h,this,1)}rEnd(){return new b(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return a.l}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return this.V(a),this.i}eraseElementByValue(t){let a=this.p;for(;a!==this.h;)a.l===t&&this.V(a),a=a.B;return this.i}eraseElementByIterator(t){let a=t.o;return a===this.h&&(0,V.throwIteratorAccessError)(),t=t.next(),this.V(a),t}pushBack(t){return this.G(t,this._),this.i}popBack(){if(this.i===0)return;let t=this._.l;return this.V(this._),t}pushFront(t){return this.G(t,this.h),this.i}popFront(){if(this.i===0)return;let t=this.p.l;return this.V(this.p),t}setElementByPos(t,a){if(t<0||t>this.i-1)throw new RangeError;let p=this.p;for(;t--;)p=p.B;p.l=a}insert(t,a,p=1){if(t<0||t>this.i)throw new RangeError;if(p<=0)return this.i;if(t===0)for(;p--;)this.pushFront(a);else if(t===this.i)for(;p--;)this.pushBack(a);else{let o=this.p;for(let r=1;r<t;++r)o=o.B;let s=o.B;for(this.i+=p;p--;)o.B={l:a,L:o},o.B.L=o,o=o.B;o.B=s,s.L=o}return this.i}find(t){let a=this.p;for(;a!==this.h;){if(a.l===t)return new b(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let t=this.p,a=this._,p=0;for(;p<<1<this.i;){let o=t.l;t.l=a.l,a.l=o,t=t.B,a=a.L,p+=1}}unique(){if(this.i<=1)return this.i;let t=this.p;for(;t!==this.h;){let a=t;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;t.B=a.B,t.B.L=t,t=t.B}return this.i}sort(t){if(this.i<=1)return;let a=[];this.forEach(function(o){a.push(o)}),a.sort(t);let p=this.p;a.forEach(function(o){p.l=o,p=p.B})}merge(t){let a=this;if(this.i===0)t.forEach(function(p){a.pushBack(p)});else{let p=this.p;t.forEach(function(o){for(;p!==a.h&&p.l<=o;)p=p.B;a.G(o,p.L)})}return this.i}forEach(t){let a=this.p,p=0;for(;a!==this.h;)t(a.l,p++,this),a=a.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let t=this.p;for(;t!==this.h;)yield t.l,t=t.B}).bind(this)()}},x=c;j.default=x}),Dl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=V(Rs()),G=No();function V(x){return x&&x.t?x:{default:x}}var X=class zo extends G.RandomIterator{constructor(t,a,p){super(t,p),this.container=a}copy(){return new zo(this.o,this.container,this.iteratorType)}},b=class extends z.default{constructor(x=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof x.length=="number")return x.length;if(typeof x.size=="number")return x.size;if(typeof x.size=="function")return x.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(a/this.F),1);for(let s=0;s<this.P;++s)this.A.push(new Array(this.F));let p=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(p>>1),this.D=this.N=this.F-a%this.F>>1;let o=this;x.forEach(function(s){o.pushBack(s)})}T(){let x=[],t=Math.max(this.P>>1,1);for(let a=0;a<t;++a)x[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)x[x.length]=this.A[a];for(let a=0;a<this.R;++a)x[x.length]=this.A[a];x[x.length]=[...this.A[this.R]],this.j=t,this.R=x.length-1;for(let a=0;a<t;++a)x[x.length]=new Array(this.F);this.A=x,this.P=x.length}O(x){let t=this.D+x+1,a=t%this.F,p=a-1,o=this.j+(t-a)/this.F;return a===0&&(o-=1),o%=this.P,p<0&&(p+=this.F),{curNodeBucketIndex:o,curNodePointerIndex:p}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new X(0,this)}end(){return new X(this.i,this)}rBegin(){return new X(this.i-1,this,1)}rEnd(){return new X(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(x){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=x,this.i}popBack(){if(this.i===0)return;let x=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,x}pushFront(x){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=x,this.i}popFront(){if(this.i===0)return;let x=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,x}getElementByPos(x){if(x<0||x>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:a}=this.O(x);return this.A[t][a]}setElementByPos(x,t){if(x<0||x>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:p}=this.O(x);this.A[a][p]=t}insert(x,t,a=1){if(x<0||x>this.i)throw new RangeError;if(x===0)for(;a--;)this.pushFront(t);else if(x===this.i)for(;a--;)this.pushBack(t);else{let p=[];for(let o=x;o<this.i;++o)p.push(this.getElementByPos(o));this.cut(x-1);for(let o=0;o<a;++o)this.pushBack(t);for(let o=0;o<p.length;++o)this.pushBack(p[o])}return this.i}cut(x){if(x<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:a}=this.O(x);return this.R=t,this.N=a,this.i=x+1,this.i}eraseElementByPos(x){if(x<0||x>this.i-1)throw new RangeError;if(x===0)this.popFront();else if(x===this.i-1)this.popBack();else{let t=[];for(let p=x+1;p<this.i;++p)t.push(this.getElementByPos(p));this.cut(x),this.popBack();let a=this;t.forEach(function(p){a.pushBack(p)})}return this.i}eraseElementByValue(x){if(this.i===0)return 0;let t=[];for(let p=0;p<this.i;++p){let o=this.getElementByPos(p);o!==x&&t.push(o)}let a=t.length;for(let p=0;p<a;++p)this.setElementByPos(p,t[p]);return this.cut(a-1)}eraseElementByIterator(x){let t=x.o;return this.eraseElementByPos(t),x=x.next(),x}find(x){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===x)return new X(t,this);return this.end()}reverse(){let x=0,t=this.i-1;for(;x<t;){let a=this.getElementByPos(x);this.setElementByPos(x,this.getElementByPos(t)),this.setElementByPos(t,a),x+=1,t-=1}}unique(){if(this.i<=1)return this.i;let x=1,t=this.getElementByPos(0);for(let a=1;a<this.i;++a){let p=this.getElementByPos(a);p!==t&&(t=p,this.setElementByPos(x++,p))}for(;this.i>x;)this.popBack();return this.i}sort(x){let t=[];for(let a=0;a<this.i;++a)t.push(this.getElementByPos(a));t.sort(x);for(let a=0;a<this.i;++a)this.setElementByPos(a,t[a])}shrinkToFit(){if(this.i===0)return;let x=[];this.forEach(function(t){x.push(t)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<x.length;++t)this.pushBack(x[t])}forEach(x){for(let t=0;t<this.i;++t)x(this.getElementByPos(t),t,this)}[Symbol.iterator](){return(function*(){for(let x=0;x<this.i;++x)yield this.getElementByPos(x)}).bind(this)()}},c=b;j.default=c}),Bl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.TreeNodeEnableIndex=j.TreeNode=void 0;var z=class{constructor(V,X){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=V,this.l=X}L(){let V=this;if(V.ee===1&&V.tt.tt===V)V=V.W;else if(V.U)for(V=V.U;V.W;)V=V.W;else{let X=V.tt;for(;X.U===V;)V=X,X=V.tt;V=X}return V}B(){let V=this;if(V.W){for(V=V.W;V.U;)V=V.U;return V}else{let X=V.tt;for(;X.W===V;)V=X,X=V.tt;return V.W!==X?X:V}}te(){let V=this.tt,X=this.W,b=X.U;return V.tt===this?V.tt=X:V.U===this?V.U=X:V.W=X,X.tt=V,X.U=this,this.tt=X,this.W=b,b&&(b.tt=this),X}se(){let V=this.tt,X=this.U,b=X.W;return V.tt===this?V.tt=X:V.U===this?V.U=X:V.W=X,X.tt=V,X.W=this,this.tt=X,this.U=b,b&&(b.tt=this),X}};j.TreeNode=z;var G=class extends z{constructor(){super(...arguments),this.rt=1}te(){let V=super.te();return this.ie(),V.ie(),V}se(){let V=super.se();return this.ie(),V.ie(),V}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};j.TreeNodeEnableIndex=G}),Wo=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Bl(),G=Ce(),V=Ae(),X=class extends G.Container{constructor(c=function(t,a){return t<a?-1:t>a?1:0},x=!1){super(),this.Y=void 0,this.v=c,x?(this.re=z.TreeNodeEnableIndex,this.M=function(t,a,p){let o=this.ne(t,a,p);if(o){let s=o.tt;for(;s!==this.h;)s.rt+=1,s=s.tt;let r=this.he(o);if(r){let{parentNode:e,grandParent:n,curNode:l}=r;e.ie(),n.ie(),l.ie()}}return this.i},this.V=function(t){let a=this.fe(t);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=z.TreeNode,this.M=function(t,a,p){let o=this.ne(t,a,p);return o&&this.he(o),this.i},this.V=this.fe),this.h=new this.re}X(c,x){let t=this.h;for(;c;){let a=this.v(c.u,x);if(a<0)c=c.W;else if(a>0)t=c,c=c.U;else return c}return t}Z(c,x){let t=this.h;for(;c;)this.v(c.u,x)<=0?c=c.W:(t=c,c=c.U);return t}$(c,x){let t=this.h;for(;c;){let a=this.v(c.u,x);if(a<0)t=c,c=c.W;else if(a>0)c=c.U;else return c}return t}rr(c,x){let t=this.h;for(;c;)this.v(c.u,x)<0?(t=c,c=c.W):c=c.U;return t}ue(c){for(;;){let x=c.tt;if(x===this.h)return;if(c.ee===1){c.ee=0;return}if(c===x.U){let t=x.W;if(t.ee===1)t.ee=0,x.ee=1,x===this.Y?this.Y=x.te():x.te();else if(t.W&&t.W.ee===1){t.ee=x.ee,x.ee=0,t.W.ee=0,x===this.Y?this.Y=x.te():x.te();return}else t.U&&t.U.ee===1?(t.ee=1,t.U.ee=0,t.se()):(t.ee=1,c=x)}else{let t=x.U;if(t.ee===1)t.ee=0,x.ee=1,x===this.Y?this.Y=x.se():x.se();else if(t.U&&t.U.ee===1){t.ee=x.ee,x.ee=0,t.U.ee=0,x===this.Y?this.Y=x.se():x.se();return}else t.W&&t.W.ee===1?(t.ee=1,t.W.ee=0,t.te()):(t.ee=1,c=x)}}}fe(c){if(this.i===1)return this.clear(),this.h;let x=c;for(;x.U||x.W;){if(x.W)for(x=x.W;x.U;)x=x.U;else x=x.U;[c.u,x.u]=[x.u,c.u],[c.l,x.l]=[x.l,c.l],c=x}this.h.U===x?this.h.U=x.tt:this.h.W===x&&(this.h.W=x.tt),this.ue(x);let t=x.tt;return x===t.U?t.U=void 0:t.W=void 0,this.i-=1,this.Y.ee=0,t}oe(c,x){return c===void 0?!1:this.oe(c.U,x)||x(c)?!0:this.oe(c.W,x)}he(c){for(;;){let x=c.tt;if(x.ee===0)return;let t=x.tt;if(x===t.U){let a=t.W;if(a&&a.ee===1){if(a.ee=x.ee=0,t===this.Y)return;t.ee=1,c=t;continue}else if(c===x.W){if(c.ee=0,c.U&&(c.U.tt=x),c.W&&(c.W.tt=t),x.W=c.U,t.U=c.W,c.U=x,c.W=t,t===this.Y)this.Y=c,this.h.tt=c;else{let p=t.tt;p.U===t?p.U=c:p.W=c}return c.tt=t.tt,x.tt=c,t.tt=c,t.ee=1,{parentNode:x,grandParent:t,curNode:c}}else x.ee=0,t===this.Y?this.Y=t.se():t.se(),t.ee=1}else{let a=t.U;if(a&&a.ee===1){if(a.ee=x.ee=0,t===this.Y)return;t.ee=1,c=t;continue}else if(c===x.U){if(c.ee=0,c.U&&(c.U.tt=t),c.W&&(c.W.tt=x),t.W=c.U,x.U=c.W,c.U=t,c.W=x,t===this.Y)this.Y=c,this.h.tt=c;else{let p=t.tt;p.U===t?p.U=c:p.W=c}return c.tt=t.tt,x.tt=c,t.tt=c,t.ee=1,{parentNode:x,grandParent:t,curNode:c}}else x.ee=0,t===this.Y?this.Y=t.te():t.te(),t.ee=1}return}}ne(c,x,t){if(this.Y===void 0){this.i+=1,this.Y=new this.re(c,x),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,p=this.h.U,o=this.v(p.u,c);if(o===0){p.l=x;return}else if(o>0)p.U=new this.re(c,x),p.U.tt=p,a=p.U,this.h.U=a;else{let s=this.h.W,r=this.v(s.u,c);if(r===0){s.l=x;return}else if(r<0)s.W=new this.re(c,x),s.W.tt=s,a=s.W,this.h.W=a;else{if(t!==void 0){let e=t.o;if(e!==this.h){let n=this.v(e.u,c);if(n===0){e.l=x;return}else if(n>0){let l=e.L(),i=this.v(l.u,c);if(i===0){l.l=x;return}else i<0&&(a=new this.re(c,x),l.W===void 0?(l.W=a,a.tt=l):(e.U=a,a.tt=e))}}}if(a===void 0)for(a=this.Y;;){let e=this.v(a.u,c);if(e>0){if(a.U===void 0){a.U=new this.re(c,x),a.U.tt=a,a=a.U;break}a=a.U}else if(e<0){if(a.W===void 0){a.W=new this.re(c,x),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=x;return}}}}return this.i+=1,a}I(c,x){for(;c;){let t=this.v(c.u,x);if(t<0)c=c.W;else if(t>0)c=c.U;else return c}return c||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(c,x){let t=c.o;if(t===this.h&&(0,V.throwIteratorAccessError)(),this.i===1)return t.u=x,!0;if(t===this.h.U)return this.v(t.B().u,x)>0?(t.u=x,!0):!1;if(t===this.h.W)return this.v(t.L().u,x)<0?(t.u=x,!0):!1;let a=t.L().u;if(this.v(a,x)>=0)return!1;let p=t.B().u;return this.v(p,x)<=0?!1:(t.u=x,!0)}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let x=0,t=this;return this.oe(this.Y,function(a){return c===x?(t.V(a),!0):(x+=1,!1)}),this.i}eraseElementByKey(c){if(this.i===0)return!1;let x=this.I(this.Y,c);return x===this.h?!1:(this.V(x),!0)}eraseElementByIterator(c){let x=c.o;x===this.h&&(0,V.throwIteratorAccessError)();let t=x.W===void 0;return c.iteratorType===0?t&&c.next():(!t||x.U===void 0)&&c.next(),this.V(x),c}forEach(c){let x=0;for(let t of this)c(t,x++,this)}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let x,t=0;for(let a of this){if(t===c){x=a;break}t+=1}return x}getHeight(){if(this.i===0)return 0;let c=function(x){return x?Math.max(c(x.U),c(x.W))+1:0};return c(this.Y)}},b=X;j.default=b}),Vo=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=Ce(),G=Ae(),V=class extends z.ContainerIterator{constructor(b,c,x){super(x),this.o=b,this.h=c,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,G.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,G.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,G.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,G.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let b=this.o,c=this.h.tt;if(b===this.h)return c?c.rt-1:0;let x=0;for(b.U&&(x+=b.U.rt);b!==c;){let t=b.tt;b===t.W&&(x+=1,t.U&&(x+=t.U.rt)),b=t}return x}},X=V;j.default=X}),Nl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=X(Wo()),G=X(Vo()),V=Ae();function X(t){return t&&t.t?t:{default:t}}var b=class Xo extends G.default{constructor(a,p,o,s){super(a,p,s),this.container=o}get pointer(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o.u}copy(){return new Xo(this.o,this.h,this.container,this.iteratorType)}},c=class extends z.default{constructor(t=[],a,p){super(a,p);let o=this;t.forEach(function(s){o.insert(s)})}*K(t){t!==void 0&&(yield*this.K(t.U),yield t.u,yield*this.K(t.W))}begin(){return new b(this.h.U||this.h,this.h,this)}end(){return new b(this.h,this.h,this)}rBegin(){return new b(this.h.W||this.h,this.h,this,1)}rEnd(){return new b(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(t,a){return this.M(t,void 0,a)}find(t){let a=this.I(this.Y,t);return new b(a,this.h,this)}lowerBound(t){let a=this.X(this.Y,t);return new b(a,this.h,this)}upperBound(t){let a=this.Z(this.Y,t);return new b(a,this.h,this)}reverseLowerBound(t){let a=this.$(this.Y,t);return new b(a,this.h,this)}reverseUpperBound(t){let a=this.rr(this.Y,t);return new b(a,this.h,this)}union(t){let a=this;return t.forEach(function(p){a.insert(p)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},x=c;j.default=x}),Gl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=X(Wo()),G=X(Vo()),V=Ae();function X(t){return t&&t.t?t:{default:t}}var b=class Yo extends G.default{constructor(a,p,o,s){super(a,p,s),this.container=o}get pointer(){this.o===this.h&&(0,V.throwIteratorAccessError)();let a=this;return new Proxy([],{get(p,o){if(o==="0")return a.o.u;if(o==="1")return a.o.l},set(p,o,s){if(o!=="1")throw new TypeError("props must be 1");return a.o.l=s,!0}})}copy(){return new Yo(this.o,this.h,this.container,this.iteratorType)}},c=class extends z.default{constructor(t=[],a,p){super(a,p);let o=this;t.forEach(function(s){o.setElement(s[0],s[1])})}*K(t){t!==void 0&&(yield*this.K(t.U),yield[t.u,t.l],yield*this.K(t.W))}begin(){return new b(this.h.U||this.h,this.h,this)}end(){return new b(this.h,this.h,this)}rBegin(){return new b(this.h.W||this.h,this.h,this,1)}rEnd(){return new b(this.h,this.h,this,1)}front(){if(this.i===0)return;let t=this.h.U;return[t.u,t.l]}back(){if(this.i===0)return;let t=this.h.W;return[t.u,t.l]}lowerBound(t){let a=this.X(this.Y,t);return new b(a,this.h,this)}upperBound(t){let a=this.Z(this.Y,t);return new b(a,this.h,this)}reverseLowerBound(t){let a=this.$(this.Y,t);return new b(a,this.h,this)}reverseUpperBound(t){let a=this.rr(this.Y,t);return new b(a,this.h,this)}setElement(t,a,p){return this.M(t,a,p)}find(t){let a=this.I(this.Y,t);return new b(a,this.h,this)}getElementByKey(t){return this.I(this.Y,t).l}union(t){let a=this;return t.forEach(function(p){a.setElement(p[0],p[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},x=c;j.default=x}),Ho=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=z;function z(G){let V=typeof G;return V==="object"&&G!==null||V==="function"}}),jo=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.HashContainerIterator=j.HashContainer=void 0;var z=Ce(),G=X(Ho()),V=Ae();function X(x){return x&&x.t?x:{default:x}}var b=class extends z.ContainerIterator{constructor(x,t,a){super(a),this.o=x,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,V.throwIteratorAccessError)(),this.o=this.o.L,this})}};j.HashContainerIterator=b;var c=class extends z.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(x){let{L:t,B:a}=x;t.B=a,a.L=t,x===this.p&&(this.p=a),x===this._&&(this._=t),this.i-=1}M(x,t,a){a===void 0&&(a=(0,G.default)(x));let p;if(a){let o=x[this.HASH_TAG];if(o!==void 0)return this.H[o].l=t,this.i;Object.defineProperty(x,this.HASH_TAG,{value:this.H.length,configurable:!0}),p={u:x,l:t,L:this._,B:this.h},this.H.push(p)}else{let o=this.g[x];if(o)return o.l=t,this.i;p={u:x,l:t,L:this._,B:this.h},this.g[x]=p}return this.i===0?(this.p=p,this.h.B=p):this._.B=p,this._=p,this.h.L=p,++this.i}I(x,t){if(t===void 0&&(t=(0,G.default)(x)),t){let a=x[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[x]||this.h}clear(){let x=this.HASH_TAG;this.H.forEach(function(t){delete t.u[x]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(x,t){let a;if(t===void 0&&(t=(0,G.default)(x)),t){let p=x[this.HASH_TAG];if(p===void 0)return!1;delete x[this.HASH_TAG],a=this.H[p],delete this.H[p]}else{if(a=this.g[x],a===void 0)return!1;delete this.g[x]}return this.V(a),!0}eraseElementByIterator(x){let t=x.o;return t===this.h&&(0,V.throwIteratorAccessError)(),this.V(t),x.next()}eraseElementByPos(x){if(x<0||x>this.i-1)throw new RangeError;let t=this.p;for(;x--;)t=t.B;return this.V(t),this.i}};j.HashContainer=c}),Ul=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=jo(),G=Ae(),V=class Ko extends z.HashContainerIterator{constructor(x,t,a,p){super(x,t,p),this.container=a}get pointer(){return this.o===this.h&&(0,G.throwIteratorAccessError)(),this.o.u}copy(){return new Ko(this.o,this.h,this.container,this.iteratorType)}},X=class extends z.HashContainer{constructor(c=[]){super();let x=this;c.forEach(function(t){x.insert(t)})}begin(){return new V(this.p,this.h,this)}end(){return new V(this.h,this.h,this)}rBegin(){return new V(this._,this.h,this,1)}rEnd(){return new V(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(c,x){return this.M(c,void 0,x)}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let x=this.p;for(;c--;)x=x.B;return x.u}find(c,x){let t=this.I(c,x);return new V(t,this.h,this)}forEach(c){let x=0,t=this.p;for(;t!==this.h;)c(t.u,x++,this),t=t.B}[Symbol.iterator](){return(function*(){let c=this.p;for(;c!==this.h;)yield c.u,c=c.B}).bind(this)()}},b=X;j.default=b}),zl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),j.default=void 0;var z=jo(),G=X(Ho()),V=Ae();function X(t){return t&&t.t?t:{default:t}}var b=class Zo extends z.HashContainerIterator{constructor(a,p,o,s){super(a,p,s),this.container=o}get pointer(){this.o===this.h&&(0,V.throwIteratorAccessError)();let a=this;return new Proxy([],{get(p,o){if(o==="0")return a.o.u;if(o==="1")return a.o.l},set(p,o,s){if(o!=="1")throw new TypeError("props must be 1");return a.o.l=s,!0}})}copy(){return new Zo(this.o,this.h,this.container,this.iteratorType)}},c=class extends z.HashContainer{constructor(t=[]){super();let a=this;t.forEach(function(p){a.setElement(p[0],p[1])})}begin(){return new b(this.p,this.h,this)}end(){return new b(this.h,this.h,this)}rBegin(){return new b(this._,this.h,this,1)}rEnd(){return new b(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(t,a,p){return this.M(t,a,p)}getElementByKey(t,a){if(a===void 0&&(a=(0,G.default)(t)),a){let o=t[this.HASH_TAG];return o!==void 0?this.H[o].l:void 0}let p=this.g[t];return p?p.l:void 0}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return[a.u,a.l]}find(t,a){let p=this.I(t,a);return new b(p,this.h,this)}forEach(t){let a=0,p=this.p;for(;p!==this.h;)t([p.u,p.l],a++,this),p=p.B}[Symbol.iterator](){return(function*(){let t=this.p;for(;t!==this.h;)yield[t.u,t.l],t=t.B}).bind(this)()}},x=c;j.default=x}),Wl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"t",{value:!0}),Object.defineProperty(j,"Deque",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(j,"HashMap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(j,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(j,"LinkList",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(j,"OrderedMap",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(j,"OrderedSet",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(j,"PriorityQueue",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(j,"Queue",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(j,"Stack",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(j,"Vector",{enumerable:!0,get:function(){return X.default}});var z=o(Ll()),G=o(Fl()),V=o(Ol()),X=o(bl()),b=o(Il()),c=o(Dl()),x=o(Nl()),t=o(Gl()),a=o(Ul()),p=o(zl());function o(s){return s&&s.t?s:{default:s}}}),Vl=Et((j,z)=>{yt(),St(),Tt();var G=Wl().OrderedSet,V=Se()("number-allocator:trace"),X=Se()("number-allocator:error");function b(x,t){this.low=x,this.high=t}b.prototype.equals=function(x){return this.low===x.low&&this.high===x.high},b.prototype.compare=function(x){return this.low<x.low&&this.high<x.low?-1:x.low<this.low&&x.high<this.low?1:0};function c(x,t){if(!(this instanceof c))return new c(x,t);this.min=x,this.max=t,this.ss=new G([],(a,p)=>a.compare(p)),V("Create"),this.clear()}c.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},c.prototype.alloc=function(){if(this.ss.size()===0)return V("alloc():empty"),null;let x=this.ss.begin(),t=x.pointer.low,a=x.pointer.high,p=t;return p+1<=a?this.ss.updateKeyByIterator(x,new b(t+1,a)):this.ss.eraseElementByPos(0),V("alloc():"+p),p},c.prototype.use=function(x){let t=new b(x,x),a=this.ss.lowerBound(t);if(!a.equals(this.ss.end())){let p=a.pointer.low,o=a.pointer.high;return a.pointer.equals(t)?(this.ss.eraseElementByIterator(a),V("use():"+x),!0):p>x?!1:p===x?(this.ss.updateKeyByIterator(a,new b(p+1,o)),V("use():"+x),!0):o===x?(this.ss.updateKeyByIterator(a,new b(p,o-1)),V("use():"+x),!0):(this.ss.updateKeyByIterator(a,new b(x+1,o)),this.ss.insert(new b(p,x-1)),V("use():"+x),!0)}return V("use():failed"),!1},c.prototype.free=function(x){if(x<this.min||x>this.max){X("free():"+x+" is out of range");return}let t=new b(x,x),a=this.ss.upperBound(t);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(t);return}a.pre();let p=a.pointer.high;a.pointer.high+1===x?this.ss.updateKeyByIterator(a,new b(p,x)):this.ss.insert(t)}else if(a.equals(this.ss.begin()))if(x+1===a.pointer.low){let p=a.pointer.high;this.ss.updateKeyByIterator(a,new b(x,p))}else this.ss.insert(t);else{let p=a.pointer.low,o=a.pointer.high;a.pre();let s=a.pointer.low;a.pointer.high+1===x?x+1===p?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new b(s,o))):this.ss.updateKeyByIterator(a,new b(s,x)):x+1===p?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new b(x,o))):this.ss.insert(t)}V("free():"+x)},c.prototype.clear=function(){V("clear()"),this.ss.clear(),this.ss.insert(new b(this.min,this.max))},c.prototype.intervalCount=function(){return this.ss.size()},c.prototype.dump=function(){console.log("length:"+this.ss.size());for(let x of this.ss)console.log(x)},z.exports=c}),Jo=Et((j,z)=>{yt(),St(),Tt();var G=Vl();z.exports.NumberAllocator=G}),Xl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=Rl(),G=Jo(),V=class{constructor(X){At(this,"aliasToTopic");At(this,"topicToAlias");At(this,"max");At(this,"numberAllocator");At(this,"length");X>0&&(this.aliasToTopic=new z.LRUCache({max:X}),this.topicToAlias={},this.numberAllocator=new G.NumberAllocator(1,X),this.max=X,this.length=0)}put(X,b){if(b===0||b>this.max)return!1;let c=this.aliasToTopic.get(b);return c&&delete this.topicToAlias[c],this.aliasToTopic.set(b,X),this.topicToAlias[X]=b,this.numberAllocator.use(b),this.length=this.aliasToTopic.size,!0}getTopicByAlias(X){return this.aliasToTopic.get(X)}getAliasByTopic(X){let b=this.topicToAlias[X];return typeof b<"u"&&this.aliasToTopic.get(b),b}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};j.default=V}),Yl=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(j,"__esModule",{value:!0});var G=fr(),V=z(Xl()),X=ei(),b=(c,x)=>{c.log("_handleConnack");let{options:t}=c,a=t.protocolVersion===5?x.reasonCode:x.returnCode;if(clearTimeout(c.connackTimer),delete c.topicAliasSend,x.properties){if(x.properties.topicAliasMaximum){if(x.properties.topicAliasMaximum>65535){c.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}x.properties.topicAliasMaximum>0&&(c.topicAliasSend=new V.default(x.properties.topicAliasMaximum))}x.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=x.properties.serverKeepAlive),x.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=x.properties.maximumPacketSize)}if(a===0)c.reconnecting=!1,c._onConnect(x);else if(a>0){let p=new X.ErrorWithReasonCode(`Connection refused: ${G.ReasonCodes[a]}`,a);c.emit("error",p),c.options.reconnectOnConnackError&&c._cleanUp(!0)}};j.default=b}),Hl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=(G,V,X)=>{G.log("handling pubrel packet");let b=typeof X<"u"?X:G.noop,{messageId:c}=V,x={cmd:"pubcomp",messageId:c};G.incomingStore.get(V,(t,a)=>{t?G._sendPacket(x,b):(G.emit("message",a.topic,a.payload,a),G.handleMessage(a,p=>{if(p)return b(p);G.incomingStore.del(a,G.noop),G._sendPacket(x,b)}))})};j.default=z}),jl=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});var G=z(Pl()),V=z(Ml()),X=z(Yl()),b=z(fr()),c=z(Hl()),x=(t,a,p)=>{let{options:o}=t;if(o.protocolVersion===5&&o.properties&&o.properties.maximumPacketSize&&o.properties.maximumPacketSize<a.length)return t.emit("error",new Error(`exceeding packets size ${a.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",a),a.cmd){case"publish":(0,G.default)(t,a,p);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0,b.default)(t,a),p();break;case"pubrel":t.reschedulePing(),(0,c.default)(t,a,p);break;case"connack":(0,X.default)(t,a),p();break;case"auth":t.reschedulePing(),(0,V.default)(t,a),p();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),p();break;case"disconnect":t.emit("disconnect",a),p();break;default:t.log("_handlePacket :: unknown command"),p();break}};j.default=x}),Qo=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=class{constructor(){At(this,"nextId");this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let G=this.nextId++;return this.nextId===65536&&(this.nextId=1),G}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(G){return!0}deallocate(G){}clear(){}};j.default=z}),Kl=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=class{constructor(G){At(this,"aliasToTopic");At(this,"max");At(this,"length");this.aliasToTopic={},this.max=G}put(G,V){return V===0||V>this.max?!1:(this.aliasToTopic[V]=G,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(G){return this.aliasToTopic[G]}clear(){this.aliasToTopic={}}};j.default=z}),Zl=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0}),j.TypedEventEmitter=void 0;var G=z((Ye(),Xt(Ie))),V=ei(),X=class{};j.TypedEventEmitter=X,(0,V.applyMixin)(X,G.default)}),dr=Et((j,z)=>{yt(),St(),Tt();function G(V){"@babel/helpers - typeof";return z.exports=G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},z.exports.__esModule=!0,z.exports.default=z.exports,G(V)}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),Jl=Et((j,z)=>{yt(),St(),Tt();var G=dr().default;function V(X,b){if(G(X)!="object"||!X)return X;var c=X[Symbol.toPrimitive];if(c!==void 0){var x=c.call(X,b||"default");if(G(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(X)}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),Ql=Et((j,z)=>{yt(),St(),Tt();var G=dr().default,V=Jl();function X(b){var c=V(b,"string");return G(c)=="symbol"?c:c+""}z.exports=X,z.exports.__esModule=!0,z.exports.default=z.exports}),$l=Et((j,z)=>{yt(),St(),Tt();var G=Ql();function V(X,b,c){return(b=G(b))in X?Object.defineProperty(X,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):X[b]=c,X}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),kl=Et((j,z)=>{yt(),St(),Tt();function G(V){if(Array.isArray(V))return V}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),ql=Et((j,z)=>{yt(),St(),Tt();function G(V,X){var b=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(b!=null){var c,x,t,a,p=[],o=!0,s=!1;try{if(t=(b=b.call(V)).next,X===0){if(Object(b)!==b)return;o=!1}else for(;!(o=(c=t.call(b)).done)&&(p.push(c.value),p.length!==X);o=!0);}catch(r){s=!0,x=r}finally{try{if(!o&&b.return!=null&&(a=b.return(),Object(a)!==a))return}finally{if(s)throw x}}return p}}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),_l=Et((j,z)=>{yt(),St(),Tt();function G(V,X){(X==null||X>V.length)&&(X=V.length);for(var b=0,c=Array(X);b<X;b++)c[b]=V[b];return c}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),tu=Et((j,z)=>{yt(),St(),Tt();var G=_l();function V(X,b){if(X){if(typeof X=="string")return G(X,b);var c={}.toString.call(X).slice(8,-1);return c==="Object"&&X.constructor&&(c=X.constructor.name),c==="Map"||c==="Set"?Array.from(X):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?G(X,b):void 0}}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),eu=Et((j,z)=>{yt(),St(),Tt();function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),iu=Et((j,z)=>{yt(),St(),Tt();var G=kl(),V=ql(),X=tu(),b=eu();function c(x,t){return G(x)||V(x,t)||X(x,t)||b()}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports}),$o=Et((j,z)=>{yt(),St(),Tt(),function(G,V){typeof j=="object"&&typeof z<"u"?V(j):typeof define=="function"&&define.amd?define(["exports"],V):(G=typeof globalThis<"u"?globalThis:G||self,V(G.fastUniqueNumbers={}))}(j,function(G){var V=function(r){return function(e){var n=r(e);return e.add(n),n}},X=function(r){return function(e,n){return r.set(e,n),n}},b=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,c=536870912,x=c*2,t=function(r,e){return function(n){var l=e.get(n),i=l===void 0?n.size:l<x?l+1:0;if(!n.has(i))return r(n,i);if(n.size<c){for(;n.has(i);)i=Math.floor(Math.random()*x);return r(n,i)}if(n.size>b)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(i);)i=Math.floor(Math.random()*b);return r(n,i)}},a=new WeakMap,p=X(a),o=t(p,a),s=V(o);G.addUniqueNumber=s,G.generateUniqueNumber=o})}),ru=Et((j,z)=>{yt(),St(),Tt();function G(X,b,c,x,t,a,p){try{var o=X[a](p),s=o.value}catch(r){return void c(r)}o.done?b(s):Promise.resolve(s).then(x,t)}function V(X){return function(){var b=this,c=arguments;return new Promise(function(x,t){var a=X.apply(b,c);function p(s){G(a,x,t,p,o,"next",s)}function o(s){G(a,x,t,p,o,"throw",s)}p(void 0)})}}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),ko=Et((j,z)=>{yt(),St(),Tt();function G(V,X){this.v=V,this.k=X}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),qo=Et((j,z)=>{yt(),St(),Tt();function G(V,X,b,c){var x=Object.defineProperty;try{x({},"",{})}catch{x=0}z.exports=G=function(t,a,p,o){function s(r,e){G(t,r,function(n){return this._invoke(r,e,n)})}a?x?x(t,a,{value:p,enumerable:!o,configurable:!o,writable:!o}):t[a]=p:(s("next",0),s("throw",1),s("return",2))},z.exports.__esModule=!0,z.exports.default=z.exports,G(V,X,b,c)}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),_o=Et((j,z)=>{yt(),St(),Tt();var G=qo();function V(){var X,b,c=typeof Symbol=="function"?Symbol:{},x=c.iterator||"@@iterator",t=c.toStringTag||"@@toStringTag";function a(i,h,f,d){var u=h&&h.prototype instanceof o?h:o,v=Object.create(u.prototype);return G(v,"_invoke",function(g,y,m){var T,S,E,C=0,w=m||[],A=!1,P={p:0,n:0,v:X,a:M,f:M.bind(X,4),d:function(R,I){return T=R,S=0,E=X,P.n=I,p}};function M(R,I){for(S=R,E=I,b=0;!A&&C&&!D&&b<w.length;b++){var D,Y=w[b],B=P.p,O=Y[2];R>3?(D=O===I)&&(E=Y[(S=Y[4])?5:(S=3,3)],Y[4]=Y[5]=X):Y[0]<=B&&((D=R<2&&B<Y[1])?(S=0,P.v=I,P.n=Y[1]):B<O&&(D=R<3||Y[0]>I||I>O)&&(Y[4]=R,Y[5]=I,P.n=O,S=0))}if(D||R>1)return p;throw A=!0,I}return function(R,I,D){if(C>1)throw TypeError("Generator is already running");for(A&&I===1&&M(I,D),S=I,E=D;(b=S<2?X:E)||!A;){T||(S?S<3?(S>1&&(P.n=-1),M(S,E)):P.n=E:P.v=E);try{if(C=2,T){if(S||(R="next"),b=T[R]){if(!(b=b.call(T,E)))throw TypeError("iterator result is not an object");if(!b.done)return b;E=b.value,S<2&&(S=0)}else S===1&&(b=T.return)&&b.call(T),S<2&&(E=TypeError("The iterator does not provide a '"+R+"' method"),S=1);T=X}else if((b=(A=P.n<0)?E:g.call(y,P))!==p)break}catch(Y){T=X,S=1,E=Y}finally{C=1}}return{value:b,done:A}}}(i,f,d),!0),v}var p={};function o(){}function s(){}function r(){}b=Object.getPrototypeOf;var e=[][x]?b(b([][x]())):(G(b={},x,function(){return this}),b),n=r.prototype=o.prototype=Object.create(e);function l(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,r):(i.__proto__=r,G(i,t,"GeneratorFunction")),i.prototype=Object.create(n),i}return s.prototype=r,G(n,"constructor",r),G(r,"constructor",s),s.displayName="GeneratorFunction",G(r,t,"GeneratorFunction"),G(n),G(n,t,"Generator"),G(n,x,function(){return this}),G(n,"toString",function(){return"[object Generator]"}),(z.exports=V=function(){return{w:a,m:l}},z.exports.__esModule=!0,z.exports.default=z.exports)()}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),th=Et((j,z)=>{yt(),St(),Tt();var G=ko(),V=qo();function X(b,c){function x(a,p,o,s){try{var r=b[a](p),e=r.value;return e instanceof G?c.resolve(e.v).then(function(n){x("next",n,o,s)},function(n){x("throw",n,o,s)}):c.resolve(e).then(function(n){r.value=n,o(r)},function(n){return x("throw",n,o,s)})}catch(n){s(n)}}var t;this.next||(V(X.prototype),V(X.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),V(this,"_invoke",function(a,p,o){function s(){return new c(function(r,e){x(a,o,r,e)})}return t=t?t.then(s,s):s()},!0)}z.exports=X,z.exports.__esModule=!0,z.exports.default=z.exports}),eh=Et((j,z)=>{yt(),St(),Tt();var G=_o(),V=th();function X(b,c,x,t,a){return new V(G().w(b,c,x,t),a||Promise)}z.exports=X,z.exports.__esModule=!0,z.exports.default=z.exports}),nu=Et((j,z)=>{yt(),St(),Tt();var G=eh();function V(X,b,c,x,t){var a=G(X,b,c,x,t);return a.next().then(function(p){return p.done?p.value:a.next()})}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),su=Et((j,z)=>{yt(),St(),Tt();function G(V){var X=Object(V),b=[];for(var c in X)b.unshift(c);return function x(){for(;b.length;)if((c=b.pop())in X)return x.value=c,x.done=!1,x;return x.done=!0,x}}z.exports=G,z.exports.__esModule=!0,z.exports.default=z.exports}),au=Et((j,z)=>{yt(),St(),Tt();var G=dr().default;function V(X){if(X!=null){var b=X[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(b)return b.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length))return{next:function(){return X&&c>=X.length&&(X=void 0),{value:X&&X[c++],done:!X}}}}throw new TypeError(G(X)+" is not iterable")}z.exports=V,z.exports.__esModule=!0,z.exports.default=z.exports}),ou=Et((j,z)=>{yt(),St(),Tt();var G=ko(),V=_o(),X=nu(),b=eh(),c=th(),x=su(),t=au();function a(){var p=V(),o=p.m(a),s=(Object.getPrototypeOf?Object.getPrototypeOf(o):o.__proto__).constructor;function r(l){var i=typeof l=="function"&&l.constructor;return!!i&&(i===s||(i.displayName||i.name)==="GeneratorFunction")}var e={throw:1,return:2,break:3,continue:3};function n(l){var i,h;return function(f){i||(i={stop:function(){return h(f.a,2)},catch:function(){return f.v},abrupt:function(d,u){return h(f.a,e[d],u)},delegateYield:function(d,u,v){return i.resultName=u,h(f.d,t(d),v)},finish:function(d){return h(f.f,d)}},h=function(d,u,v){f.p=i.prev,f.n=i.next;try{return d(u,v)}finally{i.next=f.n}}),i.resultName&&(i[i.resultName]=f.v,i.resultName=void 0),i.sent=f.v,i.next=f.n;try{return l.call(this,i)}finally{f.p=i.prev,f.n=i.next}}}return(z.exports=a=function(){return{wrap:function(l,i,h,f){return p.w(n(l),i,h,f&&f.reverse())},isGeneratorFunction:r,mark:p.m,awrap:function(l,i){return new G(l,i)},AsyncIterator:c,async:function(l,i,h,f,d){return(r(i)?b:X)(n(l),i,h,f,d)},keys:x,values:t}},z.exports.__esModule=!0,z.exports.default=z.exports)()}z.exports=a,z.exports.__esModule=!0,z.exports.default=z.exports}),hu=Et((j,z)=>{yt(),St(),Tt();var G=ou()();z.exports=G;try{regeneratorRuntime=G}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=G:Function("r","regeneratorRuntime = r")(G)}}),lu=Et((j,z)=>{yt(),St(),Tt(),function(G,V){typeof j=="object"&&typeof z<"u"?V(j,$l(),iu(),$o(),ru(),hu()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],V):(G=typeof globalThis<"u"?globalThis:G||self,V(G.brokerFactory={},G._defineProperty,G._slicedToArray,G.fastUniqueNumbers,G._asyncToGenerator,G._regeneratorRuntime))}(j,function(G,V,X,b,c,x){var t=function(h){return typeof h.start=="function"},a=new WeakMap;function p(h,f){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(h);f&&(u=u.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),d.push.apply(d,u)}return d}function o(h){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?p(Object(d),!0).forEach(function(u){V(h,u,d[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):p(Object(d)).forEach(function(u){Object.defineProperty(h,u,Object.getOwnPropertyDescriptor(d,u))})}return h}var s=function(h){return o(o({},h),{},{connect:function(f){var d=f.call;return c(x.mark(function u(){var v,g,y,m;return x.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v=new MessageChannel,g=v.port1,y=v.port2,T.next=1,d("connect",{port:g},[g]);case 1:return m=T.sent,a.set(y,m),T.abrupt("return",y);case 2:case"end":return T.stop()}},u)}))},disconnect:function(f){var d=f.call;return function(){var u=c(x.mark(function v(g){var y;return x.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(y=a.get(g),y!==void 0){m.next=1;break}throw new Error("The given port is not connected.");case 1:return m.next=2,d("disconnect",{portId:y});case 2:case"end":return m.stop()}},v)}));return function(v){return u.apply(this,arguments)}}()},isSupported:function(f){var d=f.call;return function(){return d("isSupported")}}})};function r(h,f){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(h);f&&(u=u.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),d.push.apply(d,u)}return d}function e(h){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?r(Object(d),!0).forEach(function(u){V(h,u,d[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(u){Object.defineProperty(h,u,Object.getOwnPropertyDescriptor(d,u))})}return h}var n=new WeakMap,l=function(h){if(n.has(h))return n.get(h);var f=new Map;return n.set(h,f),f},i=function(h){var f=s(h);return function(d){var u=l(d);d.addEventListener("message",function(w){var A=w.data,P=A.id;if(P!==null&&u.has(P)){var M=u.get(P),R=M.reject,I=M.resolve;u.delete(P),A.error===void 0?I(A.result):R(new Error(A.error.message))}}),t(d)&&d.start();for(var v=function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(M,R){var I=b.generateUniqueNumber(u);u.set(I,{reject:R,resolve:M}),A===null?d.postMessage({id:I,method:w},P):d.postMessage({id:I,method:w,params:A},P)})},g=function(w,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];d.postMessage({id:null,method:w,params:A},P)},y={},m=0,T=Object.entries(f);m<T.length;m++){var S=X(T[m],2),E=S[0],C=S[1];y=e(e({},y),{},V({},E,C({call:v,notify:g})))}return e({},y)}};G.createBroker=i})}),uu=Et((j,z)=>{yt(),St(),Tt(),function(G,V){typeof j=="object"&&typeof z<"u"?V(j,dr(),lu(),$o()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],V):(G=typeof globalThis<"u"?globalThis:G||self,V(G.workerTimersBroker={},G._typeof,G.brokerFactory,G.fastUniqueNumbers))}(j,function(G,V,X,b){var c=new Map([[0,null]]),x=new Map([[0,null]]),t=X.createBroker({clearInterval:function(p){var o=p.call;return function(s){V(c.get(s))==="symbol"&&(c.set(s,null),o("clear",{timerId:s,timerType:"interval"}).then(function(){c.delete(s)}))}},clearTimeout:function(p){var o=p.call;return function(s){V(x.get(s))==="symbol"&&(x.set(s,null),o("clear",{timerId:s,timerType:"timeout"}).then(function(){x.delete(s)}))}},setInterval:function(p){var o=p.call;return function(s){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length,n=new Array(e>2?e-2:0),l=2;l<e;l++)n[l-2]=arguments[l];var i=Symbol(),h=b.generateUniqueNumber(c);c.set(h,i);var f=function(){return o("set",{delay:r,now:performance.timeOrigin+performance.now(),timerId:h,timerType:"interval"}).then(function(){var d=c.get(h);if(d===void 0)throw new Error("The timer is in an undefined state.");d===i&&(s.apply(void 0,n),c.get(h)===i&&f())})};return f(),h}},setTimeout:function(p){var o=p.call;return function(s){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length,n=new Array(e>2?e-2:0),l=2;l<e;l++)n[l-2]=arguments[l];var i=Symbol(),h=b.generateUniqueNumber(x);return x.set(h,i),o("set",{delay:r,now:performance.timeOrigin+performance.now(),timerId:h,timerType:"timeout"}).then(function(){var f=x.get(h);if(f===void 0)throw new Error("The timer is in an undefined state.");f===i&&(x.delete(h),s.apply(void 0,n))}),h}}}),a=function(p){var o=new Worker(p);return t(o)};G.load=a,G.wrap=t})}),fu=Et((j,z)=>{yt(),St(),Tt(),function(G,V){typeof j=="object"&&typeof z<"u"?V(j,uu()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],V):(G=typeof globalThis<"u"?globalThis:G||self,V(G.workerTimers={},G.workerTimersBroker))}(j,function(G,V){var X=function(o,s){var r=null;return function(){if(r!==null)return r;var e=new Blob([s],{type:"application/javascript; charset=utf-8"}),n=URL.createObjectURL(e);return r=o(n),setTimeout(function(){return URL.revokeObjectURL(n)}),r}},b=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,c=X(V.load,b),x=function(o){return c().clearInterval(o)},t=function(o){return c().clearTimeout(o)},a=function(){var o;return(o=c()).setInterval.apply(o,arguments)},p=function(){var o;return(o=c()).setTimeout.apply(o,arguments)};G.clearInterval=x,G.clearTimeout=t,G.setInterval=a,G.setTimeout=p})}),cr=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.isReactNativeBrowser=j.isWebWorker=void 0;var z=()=>{var b;return typeof window<"u"?typeof navigator<"u"&&((b=navigator.userAgent)==null?void 0:b.toLowerCase().indexOf(" electron/"))>-1&&(Ut!=null&&Ut.versions)?!Object.prototype.hasOwnProperty.call(Ut.versions,"electron"):typeof window.document<"u":!1},G=()=>{var b,c;return!!(typeof self=="object"&&((c=(b=self==null?void 0:self.constructor)==null?void 0:b.name)!=null&&c.includes("WorkerGlobalScope"))&&typeof Deno>"u")},V=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X=z()||G()||V();j.isWebWorker=G(),j.isReactNativeBrowser=V(),j.default=X}),du=Et(j=>{yt(),St(),Tt();var z=j&&j.__createBinding||(Object.create?function(a,p,o,s){s===void 0&&(s=o);var r=Object.getOwnPropertyDescriptor(p,o);(!r||("get"in r?!p.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return p[o]}}),Object.defineProperty(a,s,r)}:function(a,p,o,s){s===void 0&&(s=o),a[s]=p[o]}),G=j&&j.__setModuleDefault||(Object.create?function(a,p){Object.defineProperty(a,"default",{enumerable:!0,value:p})}:function(a,p){a.default=p}),V=j&&j.__importStar||function(){var a=function(p){return a=Object.getOwnPropertyNames||function(o){var s=[];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s[s.length]=r);return s},a(p)};return function(p){if(p&&p.__esModule)return p;var o={};if(p!=null)for(var s=a(p),r=0;r<s.length;r++)s[r]!=="default"&&z(o,p,s[r]);return G(o,p),o}}();Object.defineProperty(j,"__esModule",{value:!0});var X=fu(),b=V(cr()),c={set:X.setInterval,clear:X.clearInterval},x={set:(a,p)=>setInterval(a,p),clear:a=>clearInterval(a)},t=a=>{switch(a){case"native":return x;case"worker":return c;case"auto":default:return b.default&&!b.isWebWorker&&!b.isReactNativeBrowser?c:x}};j.default=t}),ih=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(j,"__esModule",{value:!0});var G=z(du()),V=class{constructor(X,b){At(this,"_keepalive");At(this,"timerId");At(this,"timer");At(this,"destroyed",!1);At(this,"counter");At(this,"client");At(this,"_keepaliveTimeoutTimestamp");At(this,"_intervalEvery");this.client=X,this.timer=typeof b=="object"&&"set"in b&&"clear"in b?b:(0,G.default)(b),this.setKeepalive(X.options.keepalive)}get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(X){if(X*=1e3,isNaN(X)||X<=0||X>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${X}`);this._keepalive=X,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${X}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let X=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+X,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};j.default=V}),Dn=Et(j=>{var u;yt(),St(),Tt();var z=j&&j.__createBinding||(Object.create?function(v,g,y,m){m===void 0&&(m=y);var T=Object.getOwnPropertyDescriptor(g,y);(!T||("get"in T?!g.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(v,m,T)}:function(v,g,y,m){m===void 0&&(m=y),v[m]=g[y]}),G=j&&j.__setModuleDefault||(Object.create?function(v,g){Object.defineProperty(v,"default",{enumerable:!0,value:g})}:function(v,g){v.default=g}),V=j&&j.__importStar||function(){var v=function(g){return v=Object.getOwnPropertyNames||function(y){var m=[];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(m[m.length]=T);return m},v(g)};return function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var m=v(g),T=0;T<m.length;T++)m[T]!=="default"&&z(y,g,m[T]);return G(y,g),y}}(),X=j&&j.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(j,"__esModule",{value:!0});var b=X(Sl()),c=je(),x=X(Cl()),t=X(Se()),a=V(Al()),p=X(bo()),o=X(jl()),s=X(Qo()),r=X(Kl()),e=ei(),n=Zl(),l=X(ih()),i=V(cr()),h=globalThis.setImmediate||((...v)=>{let g=v.shift();(0,e.nextTick)(()=>{g(...v)})}),f={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},d=(u=class extends n.TypedEventEmitter{constructor(y,m){super();At(this,"connected");At(this,"disconnecting");At(this,"disconnected");At(this,"reconnecting");At(this,"incomingStore");At(this,"outgoingStore");At(this,"options");At(this,"queueQoSZero");At(this,"_reconnectCount");At(this,"log");At(this,"messageIdProvider");At(this,"outgoing");At(this,"messageIdToTopic");At(this,"noop");At(this,"keepaliveManager");At(this,"stream");At(this,"queue");At(this,"streamBuilder");At(this,"_resubscribeTopics");At(this,"connackTimer");At(this,"reconnectTimer");At(this,"_storeProcessing");At(this,"_packetIdsDuringStoreProcessing");At(this,"_storeProcessingQueue");At(this,"_firstConnection");At(this,"topicAliasRecv");At(this,"topicAliasSend");At(this,"_deferredReconnect");At(this,"connackPacket");this.options=m||{};for(let T in f)typeof this.options[T]>"u"?this.options[T]=f[T]:this.options[T]=m[T];this.log=this.options.log||(0,t.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",u.VERSION),i.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",i.default?"browser":"node"),this.log("MqttClient :: options.protocol",m.protocol),this.log("MqttClient :: options.protocolVersion",m.protocolVersion),this.log("MqttClient :: options.username",m.username),this.log("MqttClient :: options.keepalive",m.keepalive),this.log("MqttClient :: options.reconnectPeriod",m.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",m.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",m.properties?m.properties.topicAliasMaximum:void 0),this.options.clientId=typeof m.clientId=="string"?m.clientId:u.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=m.protocolVersion===5&&m.customHandleAcks?m.customHandleAcks:(...T)=>{T[3](null,0)},this.options.writeCache||(b.default.writeToStream.cacheNumbers=!1),this.streamBuilder=y,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new s.default:this.options.messageIdProvider,this.outgoingStore=m.outgoingStore||new p.default,this.incomingStore=m.incomingStore||new p.default,this.queueQoSZero=m.queueQoSZero===void 0?!0:m.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,m.properties&&m.properties.topicAliasMaximum>0&&(m.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new r.default(m.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:T}=this,S=()=>{let E=T.shift();this.log("deliver :: entry %o",E);let C=null;if(!E){this._resubscribe();return}C=E.packet,this.log("deliver :: call _sendPacket for %o",C);let w=!0;C.messageId&&C.messageId!==0&&(this.messageIdProvider.register(C.messageId)||(w=!1)),w?this._sendPacket(C,A=>{E.cb&&E.cb(A),S()}):(this.log("messageId: %d has already used. The message is skipped and removed.",C.messageId),S())};this.log("connect :: sending queued packets"),S()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}handleAuth(y,m){m()}handleMessage(y,m){m()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var P;let y=new c.Writable,m=b.default.parser(this.options),T=null,S=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),m.on("packet",M=>{this.log("parser :: on packet push to packets array."),S.push(M)});let E=()=>{this.log("work :: getting next packet in queue");let M=S.shift();if(M)this.log("work :: packet pulled from queue"),(0,o.default)(this,M,C);else{this.log("work :: no packets in queue");let R=T;T=null,this.log("work :: done flag is %s",!!R),R&&R()}},C=()=>{if(S.length)(0,e.nextTick)(E);else{let M=T;T=null,M()}};y._write=(M,R,I)=>{T=I,this.log("writable stream :: parsing buffer"),m.parse(M),E()};let w=M=>{this.log("streamErrorHandler :: error",M.message),M.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",M)):this.noop(M)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(y),this.stream.on("error",w),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let A={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(A.will={...this.options.will,payload:(P=this.options.will)==null?void 0:P.payload}),this.topicAliasRecv&&(A.properties||(A.properties={}),this.topicAliasRecv&&(A.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(A),m.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let M={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(M)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(y,m,T,S){this.log("publish :: message `%s` to topic `%s`",m,y);let{options:E}=this;typeof T=="function"&&(S=T,T=null),T=T||{},T={qos:0,retain:!1,dup:!1,...T};let{qos:C,retain:w,dup:A,properties:P,cbStorePut:M}=T;if(this._checkDisconnecting(S))return this;let R=()=>{let I=0;if((C===1||C===2)&&(I=this._nextId(),I===null))return this.log("No messageId left"),!1;let D={cmd:"publish",topic:y,payload:m,qos:C,retain:w,messageId:I,dup:A};switch(E.protocolVersion===5&&(D.properties=P),this.log("publish :: qos",C),C){case 1:case 2:this.outgoing[D.messageId]={volatile:!1,cb:S||this.noop},this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,void 0,M);break;default:this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,S,M);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!R())&&this._storeProcessingQueue.push({invoke:R,cbStorePut:T.cbStorePut,callback:S}),this}publishAsync(y,m,T){return new Promise((S,E)=>{this.publish(y,m,T,(C,w)=>{C?E(C):S(w)})})}subscribe(y,m,T){let S=this.options.protocolVersion;typeof m=="function"&&(T=m),T=T||this.noop;let E=!1,C=[];typeof y=="string"?(y=[y],C=y):Array.isArray(y)?C=y:typeof y=="object"&&(E=y.resubscribe,delete y.resubscribe,C=Object.keys(y));let w=a.validateTopics(C);if(w!==null)return h(T,new Error(`Invalid topic ${w}`)),this;if(this._checkDisconnecting(T))return this.log("subscribe: discconecting true"),this;let A={qos:0};S===5&&(A.nl=!1,A.rap=!1,A.rh=0),m={...A,...m};let{properties:P}=m,M=[],R=(Y,B)=>{if(B=B||m,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Y)||this._resubscribeTopics[Y].qos<B.qos||E){let O={topic:Y,qos:B.qos};S===5&&(O.nl=B.nl,O.rap=B.rap,O.rh=B.rh,O.properties=P),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",O.topic,O.qos),M.push(O)}};if(Array.isArray(y)?y.forEach(Y=>{this.log("subscribe: array topic %s",Y),R(Y)}):Object.keys(y).forEach(Y=>{this.log("subscribe: object topic %s, %o",Y,y[Y]),R(Y,y[Y])}),!M.length)return T(null,[]),this;let I=(Y,B)=>{let O={cmd:"subscribe",subscriptions:Y,messageId:B};if(P&&(O.properties=P),this.options.resubscribe){this.log("subscribe :: resubscribe true");let L=[];Y.forEach(W=>{if(this.options.reconnectPeriod>0){let F={qos:W.qos};S===5&&(F.nl=W.nl||!1,F.rap=W.rap||!1,F.rh=W.rh||0,F.properties=W.properties),this._resubscribeTopics[W.topic]=F,L.push(W.topic)}}),this.messageIdToTopic[O.messageId]=L}let N=new Promise((L,W)=>{this.outgoing[O.messageId]={volatile:!0,cb(F,U){if(!F){let{granted:Z}=U;for(let J=0;J<Z.length;J+=1)Y[J].qos=Z[J]}F?W(new e.ErrorWithSubackPacket(F.message,U)):L(U)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(O),N},D=()=>{let Y=this.options.subscribeBatchSize??M.length,B=[];for(let O=0;O<M.length;O+=Y){let N=M.slice(O,O+Y),L=this._nextId();if(L===null)return this.log("No messageId left"),!1;B.push(I(N,L))}return Promise.all(B).then(O=>{T(null,M,O.at(-1))}).catch(O=>{T(O,M,O.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!D())&&this._storeProcessingQueue.push({invoke:D,callback:T}),this}subscribeAsync(y,m){return new Promise((T,S)=>{this.subscribe(y,m,(E,C)=>{E?S(E):T(C)})})}unsubscribe(y,m,T){typeof y=="string"&&(y=[y]),typeof m=="function"&&(T=m),T=T||this.noop;let S=a.validateTopics(y);if(S!==null)return h(T,new Error(`Invalid topic ${S}`)),this;if(this._checkDisconnecting(T))return this;let E=()=>{let C=this._nextId();if(C===null)return this.log("No messageId left"),!1;let w={cmd:"unsubscribe",messageId:C,unsubscriptions:[]};return typeof y=="string"?w.unsubscriptions=[y]:Array.isArray(y)&&(w.unsubscriptions=y),this.options.resubscribe&&w.unsubscriptions.forEach(A=>{delete this._resubscribeTopics[A]}),typeof m=="object"&&m.properties&&(w.properties=m.properties),this.outgoing[w.messageId]={volatile:!0,cb:T},this.log("unsubscribe: call _sendPacket"),this._sendPacket(w),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!E())&&this._storeProcessingQueue.push({invoke:E,callback:T}),this}unsubscribeAsync(y,m){return new Promise((T,S)=>{this.unsubscribe(y,m,(E,C)=>{E?S(E):T(C)})})}end(y,m,T){this.log("end :: (%s)",this.options.clientId),(y==null||typeof y!="boolean")&&(T=T||m,m=y,y=!1),typeof m!="object"&&(T=T||m,m=null),this.log("end :: cb? %s",!!T),(!T||typeof T!="function")&&(T=this.noop);let S=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(C=>{this.outgoingStore.close(w=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),T){let A=C||w;this.log("end :: closeStores: invoking callback with args"),T(A)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},E=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,y),this._cleanUp(y,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,e.nextTick)(S)},m)};return this.disconnecting?(T(),this):(this._clearReconnect(),this.disconnecting=!0,!y&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,E,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),E()),this)}endAsync(y,m){return new Promise((T,S)=>{this.end(y,m,E=>{E?S(E):T()})})}removeOutgoingMessage(y){if(this.outgoing[y]){let{cb:m}=this.outgoing[y];this._removeOutgoingAndStoreMessage(y,()=>{m(new Error("Message removed"))})}return this}reconnect(y){this.log("client reconnect");let m=()=>{y?(this.options.incomingStore=y.incomingStore,this.options.outgoingStore=y.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=m:m(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(y=>{this.outgoing[y].volatile&&typeof this.outgoing[y].cb=="function"&&(this.outgoing[y].cb(new Error("Connection closed")),delete this.outgoing[y])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(y=>{typeof this.outgoing[y].cb=="function"&&(this.outgoing[y].cb(new Error("Connection closed")),delete this.outgoing[y])}))}_removeTopicAliasAndRecoverTopicName(y){let m;y.properties&&(m=y.properties.topicAlias);let T=y.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",m,T),T.length===0){if(typeof m>"u")return new Error("Unregistered Topic Alias");if(T=this.topicAliasSend.getTopicByAlias(m),typeof T>"u")return new Error("Unregistered Topic Alias");y.topic=T}m&&delete y.properties.topicAlias}_checkDisconnecting(y){return this.disconnecting&&(y&&y!==this.noop?y(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(y,m,T={}){if(m&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",m)),this.log("_cleanUp :: forced? %s",y),y)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let S={cmd:"disconnect",...T};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(S,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),h(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),m&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",m),m())}_storeAndSend(y,m,T){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",y.cmd);let S=y,E;if(S.cmd==="publish"&&(S=(0,x.default)(y),E=this._removeTopicAliasAndRecoverTopicName(S),E))return m&&m(E);this.outgoingStore.put(S,C=>{if(C)return m&&m(C);T(),this._writePacket(y,m)})}_applyTopicAlias(y){if(this.options.protocolVersion===5&&y.cmd==="publish"){let m;y.properties&&(m=y.properties.topicAlias);let T=y.topic.toString();if(this.topicAliasSend)if(m){if(T.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",T,m),!this.topicAliasSend.put(T,m)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,m),new Error("Sending Topic Alias out of range")}else T.length!==0&&(this.options.autoAssignTopicAlias?(m=this.topicAliasSend.getAliasByTopic(T),m?(y.topic="",y.properties={...y.properties,topicAlias:m},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",T,m)):(m=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(T,m),y.properties={...y.properties,topicAlias:m},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",T,m))):this.options.autoUseTopicAlias&&(m=this.topicAliasSend.getAliasByTopic(T),m&&(y.topic="",y.properties={...y.properties,topicAlias:m},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",T,m))));else if(m)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,m),new Error("Sending Topic Alias out of range")}}_noop(y){this.log("noop ::",y)}_writePacket(y,m){this.log("_writePacket :: packet: %O",y),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",y),this.log("_writePacket :: writing to stream");let T=b.default.writeToStream(y,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",T),!T&&m&&m!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",m)):m&&(this.log("_writePacket :: invoking cb"),m())}_sendPacket(y,m,T,S){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),T=T||this.noop,m=m||this.noop;let E=this._applyTopicAlias(y);if(E){m(E);return}if(!this.connected){if(y.cmd==="auth"){this._writePacket(y,m);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(y,m,T);return}if(S){this._writePacket(y,m);return}switch(y.cmd){case"publish":break;case"pubrel":this._storeAndSend(y,m,T);return;default:this._writePacket(y,m);return}switch(y.qos){case 2:case 1:this._storeAndSend(y,m,T);break;case 0:default:this._writePacket(y,m);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(y,m,T){this.log("_storePacket :: packet: %o",y),this.log("_storePacket :: cb? %s",!!m),T=T||this.noop;let S=y;if(S.cmd==="publish"){S=(0,x.default)(y);let C=this._removeTopicAliasAndRecoverTopicName(S);if(C)return m&&m(C)}let E=S.qos||0;E===0&&this.queueQoSZero||S.cmd!=="publish"?this.queue.push({packet:S,cb:m}):E>0?(m=this.outgoing[S.messageId]?this.outgoing[S.messageId].cb:null,this.outgoingStore.put(S,C=>{if(C)return m&&m(C);T()})):m&&m(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new l.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(y=!1){this.keepaliveManager&&this.options.keepalive&&(y||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let y=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&y.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let m=0;m<y.length;m++){let T={};T[y[m]]=this._resubscribeTopics[y[m]],T.resubscribe=!0,this.subscribe(T,{properties:T[y[m]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(y){if(this.disconnected){this.emit("connect",y);return}this.connackPacket=y,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let m=()=>{let T=this.outgoingStore.createStream(),S=()=>{T.destroy(),T=null,this._flushStoreProcessingQueue(),E()},E=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",S),T.on("error",w=>{E(),this._flushStoreProcessingQueue(),this.removeListener("close",S),this.emit("error",w)});let C=()=>{if(!T)return;let w=T.read(1),A;if(!w){T.once("readable",C);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[w.messageId]){C();return}!this.disconnecting&&!this.reconnectTimer?(A=this.outgoing[w.messageId]?this.outgoing[w.messageId].cb:null,this.outgoing[w.messageId]={volatile:!1,cb(P,M){A&&A(P,M),C()}},this._packetIdsDuringStoreProcessing[w.messageId]=!0,this.messageIdProvider.register(w.messageId)?this._sendPacket(w,void 0,void 0,!0):this.log("messageId: %d has already used.",w.messageId)):T.destroy&&T.destroy()};T.on("end",()=>{let w=!0;for(let A in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[A]){w=!1;break}this.removeListener("close",S),w?(E(),this._invokeAllStoreProcessingQueue(),this.emit("connect",y)):m()}),C()};m()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let y=this._storeProcessingQueue[0];if(y&&y.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let y of this._storeProcessingQueue)y.cbStorePut&&y.cbStorePut(new Error("Connection closed")),y.callback&&y.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(y,m){delete this.outgoing[y],this.outgoingStore.del({messageId:y},(T,S)=>{m(T,S),this.messageIdProvider.deallocate(y),this._invokeStoreProcessingQueue()})}},At(u,"VERSION",e.MQTTJS_VERSION),u);j.default=d}),cu=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=Jo(),G=class{constructor(){At(this,"numberAllocator");At(this,"lastId");this.numberAllocator=new z.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(V){return this.numberAllocator.use(V)}deallocate(V){this.numberAllocator.free(V)}clear(){this.numberAllocator.clear()}};j.default=G});function vu(){if(Bn)return Oi;Bn=!0;let j=2147483647,z=36,G=1,V=26,X=38,b=700,c=72,x=128,t="-",a=/^xn--/,p=/[^\0-\x7F]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=z-G,e=Math.floor,n=String.fromCharCode;function l(T){throw new RangeError(s[T])}function i(T,S){let E=[],C=T.length;for(;C--;)E[C]=S(T[C]);return E}function h(T,S){let E=T.split("@"),C="";E.length>1&&(C=E[0]+"@",T=E[1]),T=T.replace(o,".");let w=T.split("."),A=i(w,S).join(".");return C+A}function f(T){let S=[],E=0,C=T.length;for(;E<C;){let w=T.charCodeAt(E++);if(w>=55296&&w<=56319&&E<C){let A=T.charCodeAt(E++);(A&64512)==56320?S.push(((w&1023)<<10)+(A&1023)+65536):(S.push(w),E--)}else S.push(w)}return S}let d=T=>String.fromCodePoint(...T),u=function(T){return T>=48&&T<58?26+(T-48):T>=65&&T<91?T-65:T>=97&&T<123?T-97:z},v=function(T,S){return T+22+75*(T<26)-((S!=0)<<5)},g=function(T,S,E){let C=0;for(T=E?e(T/b):T>>1,T+=e(T/S);T>r*V>>1;C+=z)T=e(T/r);return e(C+(r+1)*T/(T+X))},y=function(T){let S=[],E=T.length,C=0,w=x,A=c,P=T.lastIndexOf(t);P<0&&(P=0);for(let M=0;M<P;++M)T.charCodeAt(M)>=128&&l("not-basic"),S.push(T.charCodeAt(M));for(let M=P>0?P+1:0;M<E;){let R=C;for(let D=1,Y=z;;Y+=z){M>=E&&l("invalid-input");let B=u(T.charCodeAt(M++));B>=z&&l("invalid-input"),B>e((j-C)/D)&&l("overflow"),C+=B*D;let O=Y<=A?G:Y>=A+V?V:Y-A;if(B<O)break;let N=z-O;D>e(j/N)&&l("overflow"),D*=N}let I=S.length+1;A=g(C-R,I,R==0),e(C/I)>j-w&&l("overflow"),w+=e(C/I),C%=I,S.splice(C++,0,w)}return String.fromCodePoint(...S)},m=function(T){let S=[];T=f(T);let E=T.length,C=x,w=0,A=c;for(let R of T)R<128&&S.push(n(R));let P=S.length,M=P;for(P&&S.push(t);M<E;){let R=j;for(let D of T)D>=C&&D<R&&(R=D);let I=M+1;R-C>e((j-w)/I)&&l("overflow"),w+=(R-C)*I,C=R;for(let D of T)if(D<C&&++w>j&&l("overflow"),D===C){let Y=w;for(let B=z;;B+=z){let O=B<=A?G:B>=A+V?V:B-A;if(Y<O)break;let N=Y-O,L=z-O;S.push(n(v(O+N%L,0))),Y=e(N/L)}S.push(n(v(Y,0))),A=g(w,I,M===P),w=0,++M}++w,++C}return S.join("")};return Oi={version:"2.3.1",ucs2:{decode:f,encode:d},decode:y,encode:m,toASCII:function(T){return h(T,function(S){return p.test(S)?"xn--"+m(S):S})},toUnicode:function(T){return h(T,function(S){return a.test(S)?y(S.slice(4).toLowerCase()):S})}},Oi}var Oi,Bn,Oe,pu=se(()=>{yt(),St(),Tt(),Oi={},Bn=!1,Oe=vu(),Oe.decode,Oe.encode,Oe.toASCII,Oe.toUnicode,Oe.ucs2,Oe.version});function gu(){return Gn||(Gn=!0,Nn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var j={},z=Symbol("test"),G=Object(z);if(typeof z=="string"||Object.prototype.toString.call(z)!=="[object Symbol]"||Object.prototype.toString.call(G)!=="[object Symbol]")return!1;var V=42;j[z]=V;for(z in j)return!1;if(typeof Object.keys=="function"&&Object.keys(j).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(j).length!==0)return!1;var X=Object.getOwnPropertySymbols(j);if(X.length!==1||X[0]!==z||!Object.prototype.propertyIsEnumerable.call(j,z))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var b=Object.getOwnPropertyDescriptor(j,z);if(b.value!==V||b.enumerable!==!0)return!1}return!0}),Nn}function mu(){return zn||(zn=!0,Un=Error),Un}function xu(){return Vn||(Vn=!0,Wn=EvalError),Wn}function yu(){return Yn||(Yn=!0,Xn=RangeError),Xn}function Tu(){return jn||(jn=!0,Hn=ReferenceError),Hn}function rh(){return Zn||(Zn=!0,Kn=SyntaxError),Kn}function yi(){return Qn||(Qn=!0,Jn=TypeError),Jn}function Su(){return kn||(kn=!0,$n=URIError),$n}function Eu(){if(qn)return bi;qn=!0;var j=typeof Symbol<"u"&&Symbol,z=gu();return bi=function(){return typeof j!="function"||typeof Symbol!="function"||typeof j("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:z()},bi}function Cu(){if(_n)return Ii;_n=!0;var j={__proto__:null,foo:{}},z=Object;return Ii=function(){return{__proto__:j}.foo===j.foo&&!(j instanceof z)},Ii}function Au(){if(ts)return Di;ts=!0;var j="Function.prototype.bind called on incompatible ",z=Object.prototype.toString,G=Math.max,V="[object Function]",X=function(x,t){for(var a=[],p=0;p<x.length;p+=1)a[p]=x[p];for(var o=0;o<t.length;o+=1)a[o+x.length]=t[o];return a},b=function(x,t){for(var a=[],p=t,o=0;p<x.length;p+=1,o+=1)a[o]=x[p];return a},c=function(x,t){for(var a="",p=0;p<x.length;p+=1)a+=x[p],p+1<x.length&&(a+=t);return a};return Di=function(x){var t=this;if(typeof t!="function"||z.apply(t)!==V)throw new TypeError(j+t);for(var a=b(arguments,1),p,o=function(){if(this instanceof p){var l=t.apply(this,X(a,arguments));return Object(l)===l?l:this}return t.apply(x,X(a,arguments))},s=G(0,t.length-a.length),r=[],e=0;e<s;e++)r[e]="$"+e;if(p=Function("binder","return function ("+c(r,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var n=function(){};n.prototype=t.prototype,p.prototype=new n,n.prototype=null}return p},Di}function Ls(){if(es)return Bi;es=!0;var j=Au();return Bi=Function.prototype.bind||j,Bi}function Pu(){if(is)return Ni;is=!0;var j=Function.prototype.call,z=Object.prototype.hasOwnProperty,G=Ls();return Ni=G.call(j,z),Ni}function ii(){if(rs)return Gi;rs=!0;var j,z=mu(),G=xu(),V=yu(),X=Tu(),b=rh(),c=yi(),x=Su(),t=Function,a=function(M){try{return t('"use strict"; return ('+M+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var o=function(){throw new c},s=p?function(){try{return arguments.callee,o}catch{try{return p(arguments,"callee").get}catch{return o}}}():o,r=Eu()(),e=Cu()(),n=Object.getPrototypeOf||(e?function(M){return M.__proto__}:null),l={},i=typeof Uint8Array>"u"||!n?j:n(Uint8Array),h={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?j:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?j:ArrayBuffer,"%ArrayIteratorPrototype%":r&&n?n([][Symbol.iterator]()):j,"%AsyncFromSyncIteratorPrototype%":j,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?j:Atomics,"%BigInt%":typeof BigInt>"u"?j:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?j:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?j:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?j:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z,"%eval%":eval,"%EvalError%":G,"%Float32Array%":typeof Float32Array>"u"?j:Float32Array,"%Float64Array%":typeof Float64Array>"u"?j:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?j:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?j:Int8Array,"%Int16Array%":typeof Int16Array>"u"?j:Int16Array,"%Int32Array%":typeof Int32Array>"u"?j:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r&&n?n(n([][Symbol.iterator]())):j,"%JSON%":typeof JSON=="object"?JSON:j,"%Map%":typeof Map>"u"?j:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r||!n?j:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?j:Promise,"%Proxy%":typeof Proxy>"u"?j:Proxy,"%RangeError%":V,"%ReferenceError%":X,"%Reflect%":typeof Reflect>"u"?j:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?j:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r||!n?j:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?j:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r&&n?n(""[Symbol.iterator]()):j,"%Symbol%":r?Symbol:j,"%SyntaxError%":b,"%ThrowTypeError%":s,"%TypedArray%":i,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?j:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?j:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?j:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?j:Uint32Array,"%URIError%":x,"%WeakMap%":typeof WeakMap>"u"?j:WeakMap,"%WeakRef%":typeof WeakRef>"u"?j:WeakRef,"%WeakSet%":typeof WeakSet>"u"?j:WeakSet};if(n)try{null.error}catch(M){var f=n(n(M));h["%Error.prototype%"]=f}var d=function M(R){var I;if(R==="%AsyncFunction%")I=a("async function () {}");else if(R==="%GeneratorFunction%")I=a("function* () {}");else if(R==="%AsyncGeneratorFunction%")I=a("async function* () {}");else if(R==="%AsyncGenerator%"){var D=M("%AsyncGeneratorFunction%");D&&(I=D.prototype)}else if(R==="%AsyncIteratorPrototype%"){var Y=M("%AsyncGenerator%");Y&&n&&(I=n(Y.prototype))}return h[R]=I,I},u={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=Ls(),g=Pu(),y=v.call(Function.call,Array.prototype.concat),m=v.call(Function.apply,Array.prototype.splice),T=v.call(Function.call,String.prototype.replace),S=v.call(Function.call,String.prototype.slice),E=v.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,A=function(M){var R=S(M,0,1),I=S(M,-1);if(R==="%"&&I!=="%")throw new b("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&R!=="%")throw new b("invalid intrinsic syntax, expected opening `%`");var D=[];return T(M,C,function(Y,B,O,N){D[D.length]=O?T(N,w,"$1"):B||Y}),D},P=function(M,R){var I=M,D;if(g(u,I)&&(D=u[I],I="%"+D[0]+"%"),g(h,I)){var Y=h[I];if(Y===l&&(Y=d(I)),typeof Y>"u"&&!R)throw new c("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:D,name:I,value:Y}}throw new b("intrinsic "+M+" does not exist!")};return Gi=function(M,R){if(typeof M!="string"||M.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new c('"allowMissing" argument must be a boolean');if(E(/^%?[^%]*%?$/,M)===null)throw new b("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=A(M),D=I.length>0?I[0]:"",Y=P("%"+D+"%",R),B=Y.name,O=Y.value,N=!1,L=Y.alias;L&&(D=L[0],m(I,y([0,1],L)));for(var W=1,F=!0;W<I.length;W+=1){var U=I[W],Z=S(U,0,1),J=S(U,-1);if((Z==='"'||Z==="'"||Z==="`"||J==='"'||J==="'"||J==="`")&&Z!==J)throw new b("property names with quotes must have matching quotes");if((U==="constructor"||!F)&&(N=!0),D+="."+U,B="%"+D+"%",g(h,B))O=h[B];else if(O!=null){if(!(U in O)){if(!R)throw new c("base intrinsic for "+M+" exists, but the property is not available.");return}if(p&&W+1>=I.length){var Q=p(O,U);F=!!Q,F&&"get"in Q&&!("originalValue"in Q.get)?O=Q.get:O=O[U]}else F=g(O,U),O=O[U];F&&!N&&(h[B]=O)}}return O},Gi}function Fs(){if(ns)return Ui;ns=!0;var j=ii(),z=j("%Object.defineProperty%",!0)||!1;if(z)try{z({},"a",{value:1})}catch{z=!1}return Ui=z,Ui}function nh(){if(ss)return zi;ss=!0;var j=ii(),z=j("%Object.getOwnPropertyDescriptor%",!0);if(z)try{z([],"length")}catch{z=null}return zi=z,zi}function wu(){if(as)return Wi;as=!0;var j=Fs(),z=rh(),G=yi(),V=nh();return Wi=function(X,b,c){if(!X||typeof X!="object"&&typeof X!="function")throw new G("`obj` must be an object or a function`");if(typeof b!="string"&&typeof b!="symbol")throw new G("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new G("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new G("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new G("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new G("`loose`, if provided, must be a boolean");var x=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,o=!!V&&V(X,b);if(j)j(X,b,{configurable:a===null&&o?o.configurable:!a,enumerable:x===null&&o?o.enumerable:!x,value:c,writable:t===null&&o?o.writable:!t});else if(p||!x&&!t&&!a)X[b]=c;else throw new z("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Wi}function Mu(){if(os)return Vi;os=!0;var j=Fs(),z=function(){return!!j};return z.hasArrayLengthDefineBug=function(){if(!j)return null;try{return j([],"length",{value:1}).length!==1}catch{return!0}},Vi=z,Vi}function Ru(){if(hs)return Xi;hs=!0;var j=ii(),z=wu(),G=Mu()(),V=nh(),X=yi(),b=j("%Math.floor%");return Xi=function(c,x){if(typeof c!="function")throw new X("`fn` is not a function");if(typeof x!="number"||x<0||x>4294967295||b(x)!==x)throw new X("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],a=!0,p=!0;if("length"in c&&V){var o=V(c,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(p=!1)}return(a||p||!t)&&(G?z(c,"length",x,!0,!0):z(c,"length",x)),c},Xi}function Lu(){if(ls)return $e;ls=!0;var j=Ls(),z=ii(),G=Ru(),V=yi(),X=z("%Function.prototype.apply%"),b=z("%Function.prototype.call%"),c=z("%Reflect.apply%",!0)||j.call(b,X),x=Fs(),t=z("%Math.max%");$e=function(p){if(typeof p!="function")throw new V("a function is required");var o=c(j,b,arguments);return G(o,1+t(0,p.length-(arguments.length-1)),!0)};var a=function(){return c(j,X,arguments)};return x?x($e,"apply",{value:a}):$e.apply=a,$e}function Fu(){if(us)return Yi;us=!0;var j=ii(),z=Lu(),G=z(j("String.prototype.indexOf"));return Yi=function(V,X){var b=j(V,!!X);return typeof b=="function"&&G(V,".prototype.")>-1?z(b):b},Yi}var Nn,Gn,Un,zn,Wn,Vn,Xn,Yn,Hn,jn,Kn,Zn,Jn,Qn,$n,kn,bi,qn,Ii,_n,Di,ts,Bi,es,Ni,is,Gi,rs,Ui,ns,zi,ss,Wi,as,Vi,os,Xi,hs,$e,ls,Yi,us,Ou=se(()=>{yt(),St(),Tt(),Nn={},Gn=!1,Un={},zn=!1,Wn={},Vn=!1,Xn={},Yn=!1,Hn={},jn=!1,Kn={},Zn=!1,Jn={},Qn=!1,$n={},kn=!1,bi={},qn=!1,Ii={},_n=!1,Di={},ts=!1,Bi={},es=!1,Ni={},is=!1,Gi={},rs=!1,Ui={},ns=!1,zi={},ss=!1,Wi={},as=!1,Vi={},os=!1,Xi={},hs=!1,$e={},ls=!1,Yi={},us=!1});function Os(j){throw new Error("Node.js process "+j+" is not supported by JSPM core outside of Node.js")}function bu(){!Xe||!We||(Xe=!1,We.length?de=We.concat(de):ci=-1,de.length&&sh())}function sh(){if(!Xe){var j=setTimeout(bu,0);Xe=!0;for(var z=de.length;z;){for(We=de,de=[];++ci<z;)We&&We[ci].run();ci=-1,z=de.length}We=null,Xe=!1,clearTimeout(j)}}function Iu(j){var z=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)z[G-1]=arguments[G];de.push(new ah(j,z)),de.length===1&&!Xe&&setTimeout(sh,0)}function ah(j,z){this.fun=j,this.array=z}function te(){}function Du(j){Os("_linkedBinding")}function Bu(j){Os("dlopen")}function Nu(){return[]}function Gu(){return[]}function Uu(j,z){if(!j)throw new Error(z||"assertion error")}function zu(){return!1}function Wu(){return me.now()/1e3}function gr(j){var z=Math.floor((Date.now()-me.now())*.001),G=me.now()*.001,V=Math.floor(G)+z,X=Math.floor(G%1*1e9);return j&&(V=V-j[0],X=X-j[1],X<0&&(V--,X+=Hi)),[V,X]}function we(){return bs}function Vu(j){return[]}var de,Xe,We,ci,zs,Ws,Vs,Xs,Ys,Hs,js,Ks,Zs,Js,Qs,$s,ks,qs,_s,ta,ea,ia,ra,na,sa,Ei,aa,oa,ha,la,ua,fa,da,ca,va,pa,ga,ma,xa,ya,Ta,Sa,Ea,Ca,Aa,Pa,wa,Ma,Ra,La,Fa,me,mr,Hi,Oa,ba,Ia,Da,Ba,Na,Ga,Ua,za,Wa,Va,bs,oh=se(()=>{yt(),St(),Tt(),de=[],Xe=!1,ci=-1,ah.prototype.run=function(){this.fun.apply(null,this.array)},zs="browser",Ws="x64",Vs="browser",Xs={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Ys=["/usr/bin/node"],Hs=[],js="v16.8.0",Ks={},Zs=function(j,z){console.warn((z?z+": ":"")+j)},Js=function(j){Os("binding")},Qs=function(j){return 0},$s=function(){return"/"},ks=function(j){},qs={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},_s=te,ta=[],ea={},ia=!1,ra={},na=te,sa=te,Ei=function(){return{}},aa=Ei,oa=Ei,ha=te,la=te,ua=te,fa={},da={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},ca=te,va=te,pa=te,ga=te,ma=te,xa=te,ya=te,Ta=void 0,Sa=void 0,Ea=void 0,Ca=te,Aa=2,Pa=1,wa="/bin/usr/node",Ma=9229,Ra="node",La=[],Fa=te,me={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},me.now===void 0&&(mr=Date.now(),me.timing&&me.timing.navigationStart&&(mr=me.timing.navigationStart),me.now=()=>Date.now()-mr),Hi=1e9,gr.bigint=function(j){var z=gr(j);return typeof BigInt>"u"?z[0]*Hi+z[1]:BigInt(z[0]*Hi)+BigInt(z[1])},Oa=10,ba={},Ia=0,Da=we,Ba=we,Na=we,Ga=we,Ua=we,za=te,Wa=we,Va=we,bs={version:js,versions:Ks,arch:Ws,platform:Vs,release:qs,_rawDebug:_s,moduleLoadList:ta,binding:Js,_linkedBinding:Du,_events:ba,_eventsCount:Ia,_maxListeners:Oa,on:we,addListener:Da,once:Ba,off:Na,removeListener:Ga,removeAllListeners:Ua,emit:za,prependListener:Wa,prependOnceListener:Va,listeners:Vu,domain:ea,_exiting:ia,config:ra,dlopen:Bu,uptime:Wu,_getActiveRequests:Nu,_getActiveHandles:Gu,reallyExit:na,_kill:sa,cpuUsage:Ei,resourceUsage:aa,memoryUsage:oa,kill:ha,exit:la,openStdin:ua,allowedNodeEnvironmentFlags:fa,assert:Uu,features:da,_fatalExceptions:ca,setUncaughtExceptionCaptureCallback:va,hasUncaughtExceptionCaptureCallback:zu,emitWarning:Zs,nextTick:Iu,_tickCallback:pa,_debugProcess:ga,_debugEnd:ma,_startProfilerIdleNotifier:xa,_stopProfilerIdleNotifier:ya,stdout:Ta,stdin:Ea,stderr:Sa,abort:Ca,umask:Qs,chdir:ks,cwd:$s,env:Xs,title:zs,argv:Ys,execArgv:Hs,pid:Aa,ppid:Pa,execPath:wa,debugPort:Ma,hrtime:gr,argv0:Ra,_preload_modules:La,setSourceMapsEnabled:Fa}});function Xu(){if(fs)return ji;fs=!0;var j=bs;function z(b){if(typeof b!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(b))}function G(b,c){for(var x="",t=0,a=-1,p=0,o,s=0;s<=b.length;++s){if(s<b.length)o=b.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||p===1))if(a!==s-1&&p===2){if(x.length<2||t!==2||x.charCodeAt(x.length-1)!==46||x.charCodeAt(x.length-2)!==46){if(x.length>2){var r=x.lastIndexOf("/");if(r!==x.length-1){r===-1?(x="",t=0):(x=x.slice(0,r),t=x.length-1-x.lastIndexOf("/")),a=s,p=0;continue}}else if(x.length===2||x.length===1){x="",t=0,a=s,p=0;continue}}c&&(x.length>0?x+="/..":x="..",t=2)}else x.length>0?x+="/"+b.slice(a+1,s):x=b.slice(a+1,s),t=s-a-1;a=s,p=0}else o===46&&p!==-1?++p:p=-1}return x}function V(b,c){var x=c.dir||c.root,t=c.base||(c.name||"")+(c.ext||"");return x?x===c.root?x+t:x+b+t:t}var X={resolve:function(){for(var b="",c=!1,x,t=arguments.length-1;t>=-1&&!c;t--){var a;t>=0?a=arguments[t]:(x===void 0&&(x=j.cwd()),a=x),z(a),a.length!==0&&(b=a+"/"+b,c=a.charCodeAt(0)===47)}return b=G(b,!c),c?b.length>0?"/"+b:"/":b.length>0?b:"."},normalize:function(b){if(z(b),b.length===0)return".";var c=b.charCodeAt(0)===47,x=b.charCodeAt(b.length-1)===47;return b=G(b,!c),b.length===0&&!c&&(b="."),b.length>0&&x&&(b+="/"),c?"/"+b:b},isAbsolute:function(b){return z(b),b.length>0&&b.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var b,c=0;c<arguments.length;++c){var x=arguments[c];z(x),x.length>0&&(b===void 0?b=x:b+="/"+x)}return b===void 0?".":X.normalize(b)},relative:function(b,c){if(z(b),z(c),b===c||(b=X.resolve(b),c=X.resolve(c),b===c))return"";for(var x=1;x<b.length&&b.charCodeAt(x)===47;++x);for(var t=b.length,a=t-x,p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var o=c.length,s=o-p,r=a<s?a:s,e=-1,n=0;n<=r;++n){if(n===r){if(s>r){if(c.charCodeAt(p+n)===47)return c.slice(p+n+1);if(n===0)return c.slice(p+n)}else a>r&&(b.charCodeAt(x+n)===47?e=n:n===0&&(e=0));break}var l=b.charCodeAt(x+n),i=c.charCodeAt(p+n);if(l!==i)break;l===47&&(e=n)}var h="";for(n=x+e+1;n<=t;++n)(n===t||b.charCodeAt(n)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+c.slice(p+e):(p+=e,c.charCodeAt(p)===47&&++p,c.slice(p))},_makeLong:function(b){return b},dirname:function(b){if(z(b),b.length===0)return".";for(var c=b.charCodeAt(0),x=c===47,t=-1,a=!0,p=b.length-1;p>=1;--p)if(c=b.charCodeAt(p),c===47){if(!a){t=p;break}}else a=!1;return t===-1?x?"/":".":x&&t===1?"//":b.slice(0,t)},basename:function(b,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');z(b);var x=0,t=-1,a=!0,p;if(c!==void 0&&c.length>0&&c.length<=b.length){if(c.length===b.length&&c===b)return"";var o=c.length-1,s=-1;for(p=b.length-1;p>=0;--p){var r=b.charCodeAt(p);if(r===47){if(!a){x=p+1;break}}else s===-1&&(a=!1,s=p+1),o>=0&&(r===c.charCodeAt(o)?--o===-1&&(t=p):(o=-1,t=s))}return x===t?t=s:t===-1&&(t=b.length),b.slice(x,t)}else{for(p=b.length-1;p>=0;--p)if(b.charCodeAt(p)===47){if(!a){x=p+1;break}}else t===-1&&(a=!1,t=p+1);return t===-1?"":b.slice(x,t)}},extname:function(b){z(b);for(var c=-1,x=0,t=-1,a=!0,p=0,o=b.length-1;o>=0;--o){var s=b.charCodeAt(o);if(s===47){if(!a){x=o+1;break}continue}t===-1&&(a=!1,t=o+1),s===46?c===-1?c=o:p!==1&&(p=1):c!==-1&&(p=-1)}return c===-1||t===-1||p===0||p===1&&c===t-1&&c===x+1?"":b.slice(c,t)},format:function(b){if(b===null||typeof b!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof b);return V("/",b)},parse:function(b){z(b);var c={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return c;var x=b.charCodeAt(0),t=x===47,a;t?(c.root="/",a=1):a=0;for(var p=-1,o=0,s=-1,r=!0,e=b.length-1,n=0;e>=a;--e){if(x=b.charCodeAt(e),x===47){if(!r){o=e+1;break}continue}s===-1&&(r=!1,s=e+1),x===46?p===-1?p=e:n!==1&&(n=1):p!==-1&&(n=-1)}return p===-1||s===-1||n===0||n===1&&p===s-1&&p===o+1?s!==-1&&(o===0&&t?c.base=c.name=b.slice(1,s):c.base=c.name=b.slice(o,s)):(o===0&&t?(c.name=b.slice(1,p),c.base=b.slice(1,s)):(c.name=b.slice(o,p),c.base=b.slice(o,s)),c.ext=b.slice(p,s)),o>0?c.dir=b.slice(0,o-1):t&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};return X.posix=X,ji=X,ji}var ji,fs,ds,Yu=se(()=>{yt(),St(),Tt(),oh(),ji={},fs=!1,ds=Xu()}),hh={};_e(hh,{URL:()=>xh,Url:()=>ch,default:()=>ee,fileURLToPath:()=>uh,format:()=>vh,parse:()=>mh,pathToFileURL:()=>fh,resolve:()=>ph,resolveObject:()=>gh});function Hu(){if(cs)return Ki;cs=!0;var j=typeof Map=="function"&&Map.prototype,z=Object.getOwnPropertyDescriptor&&j?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,G=j&&z&&typeof z.get=="function"?z.get:null,V=j&&Map.prototype.forEach,X=typeof Set=="function"&&Set.prototype,b=Object.getOwnPropertyDescriptor&&X?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=X&&b&&typeof b.get=="function"?b.get:null,x=X&&Set.prototype.forEach,t=typeof WeakMap=="function"&&WeakMap.prototype,a=t?WeakMap.prototype.has:null,p=typeof WeakSet=="function"&&WeakSet.prototype,o=p?WeakSet.prototype.has:null,s=typeof WeakRef=="function"&&WeakRef.prototype,r=s?WeakRef.prototype.deref:null,e=Boolean.prototype.valueOf,n=Object.prototype.toString,l=Function.prototype.toString,i=String.prototype.match,h=String.prototype.slice,f=String.prototype.replace,d=String.prototype.toUpperCase,u=String.prototype.toLowerCase,v=RegExp.prototype.test,g=Array.prototype.concat,y=Array.prototype.join,m=Array.prototype.slice,T=Math.floor,S=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,w=typeof Symbol=="function"&&typeof Symbol.iterator=="object",A=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===w||!0)?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,M=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ot){return ot.__proto__}:null);function R(ot,ct){if(ot===1/0||ot===-1/0||ot!==ot||ot&&ot>-1e3&&ot<1e3||v.call(/e/,ct))return ct;var Ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ot=="number"){var Mt=ot<0?-T(-ot):T(ot);if(Mt!==ot){var Rt=String(Mt),bt=h.call(ct,Rt.length+1);return f.call(Rt,Ct,"$&_")+"."+f.call(f.call(bt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return f.call(ct,Ct,"$&_")}var I=dh,D=I.custom,Y=Q(D)?D:null;Ki=function ot(ct,Ct,Mt,Rt){var bt=Ct||{};if(it(bt,"quoteStyle")&&bt.quoteStyle!=="single"&&bt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(it(bt,"maxStringLength")&&(typeof bt.maxStringLength=="number"?bt.maxStringLength<0&&bt.maxStringLength!==1/0:bt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var zt=it(bt,"customInspect")?bt.customInspect:!0;if(typeof zt!="boolean"&&zt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(it(bt,"indent")&&bt.indent!==null&&bt.indent!=="	"&&!(parseInt(bt.indent,10)===bt.indent&&bt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(it(bt,"numericSeparator")&&typeof bt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Wt=bt.numericSeparator;if(typeof ct>"u")return"undefined";if(ct===null)return"null";if(typeof ct=="boolean")return ct?"true":"false";if(typeof ct=="string")return vt(ct,bt);if(typeof ct=="number"){if(ct===0)return 1/0/ct>0?"0":"-0";var Bt=String(ct);return Wt?R(ct,Bt):Bt}if(typeof ct=="bigint"){var Yt=String(ct)+"n";return Wt?R(ct,Yt):Yt}var It=typeof bt.depth>"u"?5:bt.depth;if(typeof Mt>"u"&&(Mt=0),Mt>=It&&It>0&&typeof ct=="object")return N(ct)?"[Array]":"[Object]";var Nt=st(bt,Mt);if(typeof Rt>"u")Rt=[];else if(nt(Rt,ct)>=0)return"[Circular]";function Vt(le,Pe,Ne){if(Pe&&(Rt=m.call(Rt),Rt.push(Pe)),Ne){var ue={depth:bt.depth};return it(bt,"quoteStyle")&&(ue.quoteStyle=bt.quoteStyle),ot(le,ue,Mt+1,Rt)}return ot(le,bt,Mt+1,Rt)}if(typeof ct=="function"&&!W(ct)){var Zt=tt(ct),Qt=pt(ct,Vt);return"[Function"+(Zt?": "+Zt:" (anonymous)")+"]"+(Qt.length>0?" { "+y.call(Qt,", ")+" }":"")}if(Q(ct)){var ae=w?f.call(String(ct),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(ct);return typeof ct=="object"&&!w?H(ae):ae}if(xt(ct)){for(var rt="<"+u.call(String(ct.nodeName)),lt=ct.attributes||[],wt=0;wt<lt.length;wt++)rt+=" "+lt[wt].name+"="+B(O(lt[wt].value),"double",bt);return rt+=">",ct.childNodes&&ct.childNodes.length&&(rt+="..."),rt+="</"+u.call(String(ct.nodeName))+">",rt}if(N(ct)){if(ct.length===0)return"[]";var Lt=pt(ct,Vt);return Nt&&!_(Lt)?"["+dt(Lt,Nt)+"]":"[ "+y.call(Lt,", ")+" ]"}if(F(ct)){var Ft=pt(ct,Vt);return!("cause"in Error.prototype)&&"cause"in ct&&!P.call(ct,"cause")?"{ ["+String(ct)+"] "+y.call(g.call("[cause]: "+Vt(ct.cause),Ft),", ")+" }":Ft.length===0?"["+String(ct)+"]":"{ ["+String(ct)+"] "+y.call(Ft,", ")+" }"}if(typeof ct=="object"&&zt){if(Y&&typeof ct[Y]=="function"&&I)return I(ct,{depth:It-Mt});if(zt!=="symbol"&&typeof ct.inspect=="function")return ct.inspect()}if(ht(ct)){var Jt=[];return V&&V.call(ct,function(le,Pe){Jt.push(Vt(Pe,ct,!0)+" => "+Vt(le,ct))}),$("Map",G.call(ct),Jt,Nt)}if(at(ct)){var ie=[];return x&&x.call(ct,function(le){ie.push(Vt(le,ct))}),$("Set",c.call(ct),ie,Nt)}if(gt(ct))return K("WeakMap");if(ft(ct))return K("WeakSet");if(mt(ct))return K("WeakRef");if(Z(ct))return H(Vt(Number(ct)));if(k(ct))return H(Vt(S.call(ct)));if(J(ct))return H(e.call(ct));if(U(ct))return H(Vt(String(ct)));if(typeof window<"u"&&ct===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ct===globalThis||typeof Zi<"u"&&ct===Zi)return"{ [object globalThis] }";if(!L(ct)&&!W(ct)){var oe=pt(ct,Vt),ri=M?M(ct)===Object.prototype:ct instanceof Object||ct.constructor===Object,ni=ct instanceof Object?"":"null prototype",si=!ri&&A&&Object(ct)===ct&&A in ct?h.call(q(ct),8,-1):ni?"Object":"",Ti=ri||typeof ct.constructor!="function"?"":ct.constructor.name?ct.constructor.name+" ":"",Be=Ti+(si||ni?"["+y.call(g.call([],si||[],ni||[]),": ")+"] ":"");return oe.length===0?Be+"{}":Nt?Be+"{"+dt(oe,Nt)+"}":Be+"{ "+y.call(oe,", ")+" }"}return String(ct)};function B(ot,ct,Ct){var Mt=(Ct.quoteStyle||ct)==="double"?'"':"'";return Mt+ot+Mt}function O(ot){return f.call(String(ot),/"/g,"&quot;")}function N(ot){return q(ot)==="[object Array]"&&(!A||!(typeof ot=="object"&&A in ot))}function L(ot){return q(ot)==="[object Date]"&&(!A||!(typeof ot=="object"&&A in ot))}function W(ot){return q(ot)==="[object RegExp]"&&(!A||!(typeof ot=="object"&&A in ot))}function F(ot){return q(ot)==="[object Error]"&&(!A||!(typeof ot=="object"&&A in ot))}function U(ot){return q(ot)==="[object String]"&&(!A||!(typeof ot=="object"&&A in ot))}function Z(ot){return q(ot)==="[object Number]"&&(!A||!(typeof ot=="object"&&A in ot))}function J(ot){return q(ot)==="[object Boolean]"&&(!A||!(typeof ot=="object"&&A in ot))}function Q(ot){if(w)return ot&&typeof ot=="object"&&ot instanceof Symbol;if(typeof ot=="symbol")return!0;if(!ot||typeof ot!="object"||!C)return!1;try{return C.call(ot),!0}catch{}return!1}function k(ot){if(!ot||typeof ot!="object"||!S)return!1;try{return S.call(ot),!0}catch{}return!1}var et=Object.prototype.hasOwnProperty||function(ot){return ot in(this||Zi)};function it(ot,ct){return et.call(ot,ct)}function q(ot){return n.call(ot)}function tt(ot){if(ot.name)return ot.name;var ct=i.call(l.call(ot),/^function\s*([\w$]+)/);return ct?ct[1]:null}function nt(ot,ct){if(ot.indexOf)return ot.indexOf(ct);for(var Ct=0,Mt=ot.length;Ct<Mt;Ct++)if(ot[Ct]===ct)return Ct;return-1}function ht(ot){if(!G||!ot||typeof ot!="object")return!1;try{G.call(ot);try{c.call(ot)}catch{return!0}return ot instanceof Map}catch{}return!1}function gt(ot){if(!a||!ot||typeof ot!="object")return!1;try{a.call(ot,a);try{o.call(ot,o)}catch{return!0}return ot instanceof WeakMap}catch{}return!1}function mt(ot){if(!r||!ot||typeof ot!="object")return!1;try{return r.call(ot),!0}catch{}return!1}function at(ot){if(!c||!ot||typeof ot!="object")return!1;try{c.call(ot);try{G.call(ot)}catch{return!0}return ot instanceof Set}catch{}return!1}function ft(ot){if(!o||!ot||typeof ot!="object")return!1;try{o.call(ot,o);try{a.call(ot,a)}catch{return!0}return ot instanceof WeakSet}catch{}return!1}function xt(ot){return!ot||typeof ot!="object"?!1:typeof HTMLElement<"u"&&ot instanceof HTMLElement?!0:typeof ot.nodeName=="string"&&typeof ot.getAttribute=="function"}function vt(ot,ct){if(ot.length>ct.maxStringLength){var Ct=ot.length-ct.maxStringLength,Mt="... "+Ct+" more character"+(Ct>1?"s":"");return vt(h.call(ot,0,ct.maxStringLength),ct)+Mt}var Rt=f.call(f.call(ot,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Pt);return B(Rt,"single",ct)}function Pt(ot){var ct=ot.charCodeAt(0),Ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[ct];return Ct?"\\"+Ct:"\\x"+(ct<16?"0":"")+d.call(ct.toString(16))}function H(ot){return"Object("+ot+")"}function K(ot){return ot+" { ? }"}function $(ot,ct,Ct,Mt){var Rt=Mt?dt(Ct,Mt):y.call(Ct,", ");return ot+" ("+ct+") {"+Rt+"}"}function _(ot){for(var ct=0;ct<ot.length;ct++)if(nt(ot[ct],`
`)>=0)return!1;return!0}function st(ot,ct){var Ct;if(ot.indent==="	")Ct="	";else if(typeof ot.indent=="number"&&ot.indent>0)Ct=y.call(Array(ot.indent+1)," ");else return null;return{base:Ct,prev:y.call(Array(ct+1),Ct)}}function dt(ot,ct){if(ot.length===0)return"";var Ct=`
`+ct.prev+ct.base;return Ct+y.call(ot,","+Ct)+`
`+ct.prev}function pt(ot,ct){var Ct=N(ot),Mt=[];if(Ct){Mt.length=ot.length;for(var Rt=0;Rt<ot.length;Rt++)Mt[Rt]=it(ot,Rt)?ct(ot[Rt],ot):""}var bt=typeof E=="function"?E(ot):[],zt;if(w){zt={};for(var Wt=0;Wt<bt.length;Wt++)zt["$"+bt[Wt]]=bt[Wt]}for(var Bt in ot)it(ot,Bt)&&(Ct&&String(Number(Bt))===Bt&&Bt<ot.length||w&&zt["$"+Bt]instanceof Symbol||(v.call(/[^\w$]/,Bt)?Mt.push(ct(Bt,ot)+": "+ct(ot[Bt],ot)):Mt.push(Bt+": "+ct(ot[Bt],ot))));if(typeof E=="function")for(var Yt=0;Yt<bt.length;Yt++)P.call(ot,bt[Yt])&&Mt.push("["+ct(bt[Yt])+"]: "+ct(ot[bt[Yt]],ot));return Mt}return Ki}function ju(){if(vs)return Ji;vs=!0;var j=ii(),z=Fu(),G=Hu(),V=yi(),X=j("%WeakMap%",!0),b=j("%Map%",!0),c=z("WeakMap.prototype.get",!0),x=z("WeakMap.prototype.set",!0),t=z("WeakMap.prototype.has",!0),a=z("Map.prototype.get",!0),p=z("Map.prototype.set",!0),o=z("Map.prototype.has",!0),s=function(l,i){for(var h=l,f;(f=h.next)!==null;h=f)if(f.key===i)return h.next=f.next,f.next=l.next,l.next=f,f},r=function(l,i){var h=s(l,i);return h&&h.value},e=function(l,i,h){var f=s(l,i);f?f.value=h:l.next={key:i,next:l.next,value:h}},n=function(l,i){return!!s(l,i)};return Ji=function(){var l,i,h,f={assert:function(d){if(!f.has(d))throw new V("Side channel does not contain "+G(d))},get:function(d){if(X&&d&&(typeof d=="object"||typeof d=="function")){if(l)return c(l,d)}else if(b){if(i)return a(i,d)}else if(h)return r(h,d)},has:function(d){if(X&&d&&(typeof d=="object"||typeof d=="function")){if(l)return t(l,d)}else if(b){if(i)return o(i,d)}else if(h)return n(h,d);return!1},set:function(d,u){X&&d&&(typeof d=="object"||typeof d=="function")?(l||(l=new X),x(l,d,u)):b?(i||(i=new b),p(i,d,u)):(h||(h={key:{},next:null}),e(h,d,u))}};return f},Ji}function Is(){if(ps)return Qi;ps=!0;var j=String.prototype.replace,z=/%20/g,G={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Qi={default:G.RFC3986,formatters:{RFC1738:function(V){return j.call(V,z,"+")},RFC3986:function(V){return String(V)}},RFC1738:G.RFC1738,RFC3986:G.RFC3986},Qi}function lh(){if(gs)return $i;gs=!0;var j=Is(),z=Object.prototype.hasOwnProperty,G=Array.isArray,V=function(){for(var l=[],i=0;i<256;++i)l.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return l}(),X=function(l){for(;l.length>1;){var i=l.pop(),h=i.obj[i.prop];if(G(h)){for(var f=[],d=0;d<h.length;++d)typeof h[d]<"u"&&f.push(h[d]);i.obj[i.prop]=f}}},b=function(l,i){for(var h=i&&i.plainObjects?Object.create(null):{},f=0;f<l.length;++f)typeof l[f]<"u"&&(h[f]=l[f]);return h},c=function l(i,h,f){if(!h)return i;if(typeof h!="object"){if(G(i))i.push(h);else if(i&&typeof i=="object")(f&&(f.plainObjects||f.allowPrototypes)||!z.call(Object.prototype,h))&&(i[h]=!0);else return[i,h];return i}if(!i||typeof i!="object")return[i].concat(h);var d=i;return G(i)&&!G(h)&&(d=b(i,f)),G(i)&&G(h)?(h.forEach(function(u,v){if(z.call(i,v)){var g=i[v];g&&typeof g=="object"&&u&&typeof u=="object"?i[v]=l(g,u,f):i.push(u)}else i[v]=u}),i):Object.keys(h).reduce(function(u,v){var g=h[v];return z.call(u,v)?u[v]=l(u[v],g,f):u[v]=g,u},d)},x=function(l,i){return Object.keys(i).reduce(function(h,f){return h[f]=i[f],h},l)},t=function(l,i,h){var f=l.replace(/\+/g," ");if(h==="iso-8859-1")return f.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(f)}catch{return f}},a=1024,p=function(l,i,h,f,d){if(l.length===0)return l;var u=l;if(typeof l=="symbol"?u=Symbol.prototype.toString.call(l):typeof l!="string"&&(u=String(l)),h==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(E){return"%26%23"+parseInt(E.slice(2),16)+"%3B"});for(var v="",g=0;g<u.length;g+=a){for(var y=u.length>=a?u.slice(g,g+a):u,m=[],T=0;T<y.length;++T){var S=y.charCodeAt(T);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||d===j.RFC1738&&(S===40||S===41)){m[m.length]=y.charAt(T);continue}if(S<128){m[m.length]=V[S];continue}if(S<2048){m[m.length]=V[192|S>>6]+V[128|S&63];continue}if(S<55296||S>=57344){m[m.length]=V[224|S>>12]+V[128|S>>6&63]+V[128|S&63];continue}T+=1,S=65536+((S&1023)<<10|y.charCodeAt(T)&1023),m[m.length]=V[240|S>>18]+V[128|S>>12&63]+V[128|S>>6&63]+V[128|S&63]}v+=m.join("")}return v},o=function(l){for(var i=[{obj:{o:l},prop:"o"}],h=[],f=0;f<i.length;++f)for(var d=i[f],u=d.obj[d.prop],v=Object.keys(u),g=0;g<v.length;++g){var y=v[g],m=u[y];typeof m=="object"&&m!==null&&h.indexOf(m)===-1&&(i.push({obj:u,prop:y}),h.push(m))}return X(i),l},s=function(l){return Object.prototype.toString.call(l)==="[object RegExp]"},r=function(l){return!l||typeof l!="object"?!1:!!(l.constructor&&l.constructor.isBuffer&&l.constructor.isBuffer(l))},e=function(l,i){return[].concat(l,i)},n=function(l,i){if(G(l)){for(var h=[],f=0;f<l.length;f+=1)h.push(i(l[f]));return h}return i(l)};return $i={arrayToObject:b,assign:x,combine:e,compact:o,decode:t,encode:p,isBuffer:r,isRegExp:s,maybeMap:n,merge:c},$i}function Ku(){if(ms)return ki;ms=!0;var j=ju(),z=lh(),G=Is(),V=Object.prototype.hasOwnProperty,X={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,l){return n+"["+l+"]"},repeat:function(n){return n}},b=Array.isArray,c=Array.prototype.push,x=function(n,l){c.apply(n,b(l)?l:[l])},t=Date.prototype.toISOString,a=G.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:z.encode,encodeValuesOnly:!1,format:a,formatter:G.formatters[a],indices:!1,serializeDate:function(n){return t.call(n)},skipNulls:!1,strictNullHandling:!1},o=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},s={},r=function n(l,i,h,f,d,u,v,g,y,m,T,S,E,C,w,A,P,M){for(var R=l,I=M,D=0,Y=!1;(I=I.get(s))!==void 0&&!Y;){var B=I.get(l);if(D+=1,typeof B<"u"){if(B===D)throw new RangeError("Cyclic object value");Y=!0}typeof I.get(s)>"u"&&(D=0)}if(typeof m=="function"?R=m(i,R):R instanceof Date?R=E(R):h==="comma"&&b(R)&&(R=z.maybeMap(R,function(q){return q instanceof Date?E(q):q})),R===null){if(u)return y&&!A?y(i,p.encoder,P,"key",C):i;R=""}if(o(R)||z.isBuffer(R)){if(y){var O=A?i:y(i,p.encoder,P,"key",C);return[w(O)+"="+w(y(R,p.encoder,P,"value",C))]}return[w(i)+"="+w(String(R))]}var N=[];if(typeof R>"u")return N;var L;if(h==="comma"&&b(R))A&&y&&(R=z.maybeMap(R,y)),L=[{value:R.length>0?R.join(",")||null:void 0}];else if(b(m))L=m;else{var W=Object.keys(R);L=T?W.sort(T):W}var F=g?i.replace(/\./g,"%2E"):i,U=f&&b(R)&&R.length===1?F+"[]":F;if(d&&b(R)&&R.length===0)return U+"[]";for(var Z=0;Z<L.length;++Z){var J=L[Z],Q=typeof J=="object"&&typeof J.value<"u"?J.value:R[J];if(!(v&&Q===null)){var k=S&&g?J.replace(/\./g,"%2E"):J,et=b(R)?typeof h=="function"?h(U,k):U:U+(S?"."+k:"["+k+"]");M.set(l,D);var it=j();it.set(s,M),x(N,n(Q,et,h,f,d,u,v,g,h==="comma"&&A&&b(R)?null:y,m,T,S,E,C,w,A,P,it))}}return N},e=function(n){if(!n)return p;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var l=n.charset||p.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=G.default;if(typeof n.format<"u"){if(!V.call(G.formatters,n.format))throw new TypeError("Unknown format option provided.");i=n.format}var h=G.formatters[i],f=p.filter;(typeof n.filter=="function"||b(n.filter))&&(f=n.filter);var d;if(n.arrayFormat in X?d=n.arrayFormat:"indices"in n?d=n.indices?"indices":"repeat":d=p.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof n.allowDots>"u"?n.encodeDotInKeys===!0?!0:p.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:d,charset:l,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:p.charsetSentinel,commaRoundTrip:n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?p.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:p.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:p.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:p.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:p.encodeValuesOnly,filter:f,format:i,formatter:h,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:p.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:p.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:p.strictNullHandling}};return ki=function(n,l){var i=n,h=e(l),f,d;typeof h.filter=="function"?(d=h.filter,i=d("",i)):b(h.filter)&&(d=h.filter,f=d);var u=[];if(typeof i!="object"||i===null)return"";var v=X[h.arrayFormat],g=v==="comma"&&h.commaRoundTrip;f||(f=Object.keys(i)),h.sort&&f.sort(h.sort);for(var y=j(),m=0;m<f.length;++m){var T=f[m];h.skipNulls&&i[T]===null||x(u,r(i[T],T,v,g,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,y))}var S=u.join(h.delimiter),E=h.addQueryPrefix===!0?"?":"";return h.charsetSentinel&&(h.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),S.length>0?E+S:""},ki}function Zu(){if(xs)return qi;xs=!0;var j=lh(),z=Object.prototype.hasOwnProperty,G=Array.isArray,V={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:j.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},X=function(s){return s.replace(/&#(\d+);/g,function(r,e){return String.fromCharCode(parseInt(e,10))})},b=function(s,r){return s&&typeof s=="string"&&r.comma&&s.indexOf(",")>-1?s.split(","):s},c="utf8=%26%2310003%3B",x="utf8=%E2%9C%93",t=function(s,r){var e={__proto__:null},n=r.ignoreQueryPrefix?s.replace(/^\?/,""):s;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=r.parameterLimit===1/0?void 0:r.parameterLimit,i=n.split(r.delimiter,l),h=-1,f,d=r.charset;if(r.charsetSentinel)for(f=0;f<i.length;++f)i[f].indexOf("utf8=")===0&&(i[f]===x?d="utf-8":i[f]===c&&(d="iso-8859-1"),h=f,f=i.length);for(f=0;f<i.length;++f)if(f!==h){var u=i[f],v=u.indexOf("]="),g=v===-1?u.indexOf("="):v+1,y,m;g===-1?(y=r.decoder(u,V.decoder,d,"key"),m=r.strictNullHandling?null:""):(y=r.decoder(u.slice(0,g),V.decoder,d,"key"),m=j.maybeMap(b(u.slice(g+1),r),function(S){return r.decoder(S,V.decoder,d,"value")})),m&&r.interpretNumericEntities&&d==="iso-8859-1"&&(m=X(m)),u.indexOf("[]=")>-1&&(m=G(m)?[m]:m);var T=z.call(e,y);T&&r.duplicates==="combine"?e[y]=j.combine(e[y],m):(!T||r.duplicates==="last")&&(e[y]=m)}return e},a=function(s,r,e,n){for(var l=n?r:b(r,e),i=s.length-1;i>=0;--i){var h,f=s[i];if(f==="[]"&&e.parseArrays)h=e.allowEmptyArrays&&(l===""||e.strictNullHandling&&l===null)?[]:[].concat(l);else{h=e.plainObjects?Object.create(null):{};var d=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,u=e.decodeDotInKeys?d.replace(/%2E/g,"."):d,v=parseInt(u,10);!e.parseArrays&&u===""?h={0:l}:!isNaN(v)&&f!==u&&String(v)===u&&v>=0&&e.parseArrays&&v<=e.arrayLimit?(h=[],h[v]=l):u!=="__proto__"&&(h[u]=l)}l=h}return l},p=function(s,r,e,n){if(s){var l=e.allowDots?s.replace(/\.([^.[]+)/g,"[$1]"):s,i=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,f=e.depth>0&&i.exec(l),d=f?l.slice(0,f.index):l,u=[];if(d){if(!e.plainObjects&&z.call(Object.prototype,d)&&!e.allowPrototypes)return;u.push(d)}for(var v=0;e.depth>0&&(f=h.exec(l))!==null&&v<e.depth;){if(v+=1,!e.plainObjects&&z.call(Object.prototype,f[1].slice(1,-1))&&!e.allowPrototypes)return;u.push(f[1])}if(f){if(e.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+e.depth+" and strictDepth is true");u.push("["+l.slice(f.index)+"]")}return a(u,r,e,n)}},o=function(s){if(!s)return V;if(typeof s.allowEmptyArrays<"u"&&typeof s.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof s.decodeDotInKeys<"u"&&typeof s.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(s.decoder!==null&&typeof s.decoder<"u"&&typeof s.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof s.charset>"u"?V.charset:s.charset,e=typeof s.duplicates>"u"?V.duplicates:s.duplicates;if(e!=="combine"&&e!=="first"&&e!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof s.allowDots>"u"?s.decodeDotInKeys===!0?!0:V.allowDots:!!s.allowDots;return{allowDots:n,allowEmptyArrays:typeof s.allowEmptyArrays=="boolean"?!!s.allowEmptyArrays:V.allowEmptyArrays,allowPrototypes:typeof s.allowPrototypes=="boolean"?s.allowPrototypes:V.allowPrototypes,allowSparse:typeof s.allowSparse=="boolean"?s.allowSparse:V.allowSparse,arrayLimit:typeof s.arrayLimit=="number"?s.arrayLimit:V.arrayLimit,charset:r,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:V.charsetSentinel,comma:typeof s.comma=="boolean"?s.comma:V.comma,decodeDotInKeys:typeof s.decodeDotInKeys=="boolean"?s.decodeDotInKeys:V.decodeDotInKeys,decoder:typeof s.decoder=="function"?s.decoder:V.decoder,delimiter:typeof s.delimiter=="string"||j.isRegExp(s.delimiter)?s.delimiter:V.delimiter,depth:typeof s.depth=="number"||s.depth===!1?+s.depth:V.depth,duplicates:e,ignoreQueryPrefix:s.ignoreQueryPrefix===!0,interpretNumericEntities:typeof s.interpretNumericEntities=="boolean"?s.interpretNumericEntities:V.interpretNumericEntities,parameterLimit:typeof s.parameterLimit=="number"?s.parameterLimit:V.parameterLimit,parseArrays:s.parseArrays!==!1,plainObjects:typeof s.plainObjects=="boolean"?s.plainObjects:V.plainObjects,strictDepth:typeof s.strictDepth=="boolean"?!!s.strictDepth:V.strictDepth,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:V.strictNullHandling}};return qi=function(s,r){var e=o(r);if(s===""||s===null||typeof s>"u")return e.plainObjects?Object.create(null):{};for(var n=typeof s=="string"?t(s,e):s,l=e.plainObjects?Object.create(null):{},i=Object.keys(n),h=0;h<i.length;++h){var f=i[h],d=p(f,n[f],e,typeof s=="string");l=j.merge(l,d,e)}return e.allowSparse===!0?l:j.compact(l)},qi}function Ju(){if(ys)return _i;ys=!0;var j=Ku(),z=Zu(),G=Is();return _i={formats:G,parse:z,stringify:j},_i}function Qu(){if(Ts)return be;Ts=!0;var j=Oe;function z(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var G=/^([a-z0-9.+-]+:)/i,V=/:[0-9]*$/,X=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,b=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(b),x=["'"].concat(c),t=["%","/","?",";","#"].concat(x),a=["/","?","#"],p=255,o=/^[+a-z0-9A-Z_-]{0,63}$/,s=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,r={javascript:!0,"javascript:":!0},e={javascript:!0,"javascript:":!0},n={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},l=Ju();function i(u,v,g){if(u&&typeof u=="object"&&u instanceof z)return u;var y=new z;return y.parse(u,v,g),y}z.prototype.parse=function(u,v,g){if(typeof u!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof u);var y=u.indexOf("?"),m=y!==-1&&y<u.indexOf("#")?"?":"#",T=u.split(m),S=/\\/g;T[0]=T[0].replace(S,"/"),u=T.join(m);var E=u;if(E=E.trim(),!g&&u.split("#").length===1){var C=X.exec(E);if(C)return this.path=E,this.href=E,this.pathname=C[1],C[2]?(this.search=C[2],v?this.query=l.parse(this.search.substr(1)):this.query=this.search.substr(1)):v&&(this.search="",this.query={}),this}var w=G.exec(E);if(w){w=w[0];var A=w.toLowerCase();this.protocol=A,E=E.substr(w.length)}if(g||w||E.match(/^\/\/[^@/]+@[^@/]+/)){var P=E.substr(0,2)==="//";P&&!(w&&e[w])&&(E=E.substr(2),this.slashes=!0)}if(!e[w]&&(P||w&&!n[w])){for(var M=-1,R=0;R<a.length;R++){var I=E.indexOf(a[R]);I!==-1&&(M===-1||I<M)&&(M=I)}var D,Y;M===-1?Y=E.lastIndexOf("@"):Y=E.lastIndexOf("@",M),Y!==-1&&(D=E.slice(0,Y),E=E.slice(Y+1),this.auth=decodeURIComponent(D)),M=-1;for(var R=0;R<t.length;R++){var I=E.indexOf(t[R]);I!==-1&&(M===-1||I<M)&&(M=I)}M===-1&&(M=E.length),this.host=E.slice(0,M),E=E.slice(M),this.parseHost(),this.hostname=this.hostname||"";var B=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!B)for(var O=this.hostname.split(/\./),R=0,N=O.length;R<N;R++){var L=O[R];if(L&&!L.match(o)){for(var W="",F=0,U=L.length;F<U;F++)L.charCodeAt(F)>127?W+="x":W+=L[F];if(!W.match(o)){var Z=O.slice(0,R),J=O.slice(R+1),Q=L.match(s);Q&&(Z.push(Q[1]),J.unshift(Q[2])),J.length&&(E="/"+J.join(".")+E),this.hostname=Z.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=j.toASCII(this.hostname));var k=this.port?":"+this.port:"",et=this.hostname||"";this.host=et+k,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),E[0]!=="/"&&(E="/"+E))}if(!r[A])for(var R=0,N=x.length;R<N;R++){var it=x[R];if(E.indexOf(it)!==-1){var q=encodeURIComponent(it);q===it&&(q=escape(it)),E=E.split(it).join(q)}}var tt=E.indexOf("#");tt!==-1&&(this.hash=E.substr(tt),E=E.slice(0,tt));var nt=E.indexOf("?");if(nt!==-1?(this.search=E.substr(nt),this.query=E.substr(nt+1),v&&(this.query=l.parse(this.query)),E=E.slice(0,nt)):v&&(this.search="",this.query={}),E&&(this.pathname=E),n[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",ht=this.search||"";this.path=k+ht}return this.href=this.format(),this};function h(u){return typeof u=="string"&&(u=i(u)),u instanceof z?u.format():z.prototype.format.call(u)}z.prototype.format=function(){var u=this.auth||"";u&&(u=encodeURIComponent(u),u=u.replace(/%3A/i,":"),u+="@");var v=this.protocol||"",g=this.pathname||"",y=this.hash||"",m=!1,T="";this.host?m=u+this.host:this.hostname&&(m=u+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(m+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(T=l.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var S=this.search||T&&"?"+T||"";return v&&v.substr(-1)!==":"&&(v+=":"),this.slashes||(!v||n[v])&&m!==!1?(m="//"+(m||""),g&&g.charAt(0)!=="/"&&(g="/"+g)):m||(m=""),y&&y.charAt(0)!=="#"&&(y="#"+y),S&&S.charAt(0)!=="?"&&(S="?"+S),g=g.replace(/[?#]/g,function(E){return encodeURIComponent(E)}),S=S.replace("#","%23"),v+m+g+S+y};function f(u,v){return i(u,!1,!0).resolve(v)}z.prototype.resolve=function(u){return this.resolveObject(i(u,!1,!0)).format()};function d(u,v){return u?i(u,!1,!0).resolveObject(v):v}return z.prototype.resolveObject=function(u){if(typeof u=="string"){var v=new z;v.parse(u,!1,!0),u=v}for(var g=new z,y=Object.keys(this),m=0;m<y.length;m++){var T=y[m];g[T]=this[T]}if(g.hash=u.hash,u.href==="")return g.href=g.format(),g;if(u.slashes&&!u.protocol){for(var S=Object.keys(u),E=0;E<S.length;E++){var C=S[E];C!=="protocol"&&(g[C]=u[C])}return n[g.protocol]&&g.hostname&&!g.pathname&&(g.pathname="/",g.path=g.pathname),g.href=g.format(),g}if(u.protocol&&u.protocol!==g.protocol){if(!n[u.protocol]){for(var w=Object.keys(u),A=0;A<w.length;A++){var P=w[A];g[P]=u[P]}return g.href=g.format(),g}if(g.protocol=u.protocol,!u.host&&!e[u.protocol]){for(var N=(u.pathname||"").split("/");N.length&&!(u.host=N.shift()););u.host||(u.host=""),u.hostname||(u.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),g.pathname=N.join("/")}else g.pathname=u.pathname;if(g.search=u.search,g.query=u.query,g.host=u.host||"",g.auth=u.auth,g.hostname=u.hostname||u.host,g.port=u.port,g.pathname||g.search){var M=g.pathname||"",R=g.search||"";g.path=M+R}return g.slashes=g.slashes||u.slashes,g.href=g.format(),g}var I=g.pathname&&g.pathname.charAt(0)==="/",D=u.host||u.pathname&&u.pathname.charAt(0)==="/",Y=D||I||g.host&&u.pathname,B=Y,O=g.pathname&&g.pathname.split("/")||[],N=u.pathname&&u.pathname.split("/")||[],L=g.protocol&&!n[g.protocol];if(L&&(g.hostname="",g.port=null,g.host&&(O[0]===""?O[0]=g.host:O.unshift(g.host)),g.host="",u.protocol&&(u.hostname=null,u.port=null,u.host&&(N[0]===""?N[0]=u.host:N.unshift(u.host)),u.host=null),Y=Y&&(N[0]===""||O[0]==="")),D)g.host=u.host||u.host===""?u.host:g.host,g.hostname=u.hostname||u.hostname===""?u.hostname:g.hostname,g.search=u.search,g.query=u.query,O=N;else if(N.length)O||(O=[]),O.pop(),O=O.concat(N),g.search=u.search,g.query=u.query;else if(u.search!=null){if(L){g.host=O.shift(),g.hostname=g.host;var W=g.host&&g.host.indexOf("@")>0?g.host.split("@"):!1;W&&(g.auth=W.shift(),g.hostname=W.shift(),g.host=g.hostname)}return g.search=u.search,g.query=u.query,(g.pathname!==null||g.search!==null)&&(g.path=(g.pathname?g.pathname:"")+(g.search?g.search:"")),g.href=g.format(),g}if(!O.length)return g.pathname=null,g.search?g.path="/"+g.search:g.path=null,g.href=g.format(),g;for(var F=O.slice(-1)[0],U=(g.host||u.host||O.length>1)&&(F==="."||F==="..")||F==="",Z=0,J=O.length;J>=0;J--)F=O[J],F==="."?O.splice(J,1):F===".."?(O.splice(J,1),Z++):Z&&(O.splice(J,1),Z--);if(!Y&&!B)for(;Z--;Z)O.unshift("..");Y&&O[0]!==""&&(!O[0]||O[0].charAt(0)!=="/")&&O.unshift(""),U&&O.join("/").substr(-1)!=="/"&&O.push("");var Q=O[0]===""||O[0]&&O[0].charAt(0)==="/";if(L){g.hostname=Q?"":O.length?O.shift():"",g.host=g.hostname;var W=g.host&&g.host.indexOf("@")>0?g.host.split("@"):!1;W&&(g.auth=W.shift(),g.hostname=W.shift(),g.host=g.hostname)}return Y=Y||g.host&&O.length,Y&&!Q&&O.unshift(""),O.length>0?g.pathname=O.join("/"):(g.pathname=null,g.path=null),(g.pathname!==null||g.search!==null)&&(g.path=(g.pathname?g.pathname:"")+(g.search?g.search:"")),g.auth=u.auth||g.auth,g.slashes=g.slashes||u.slashes,g.href=g.format(),g},z.prototype.parseHost=function(){var u=this.host,v=V.exec(u);v&&(v=v[0],v!==":"&&(this.port=v.substr(1)),u=u.substr(0,u.length-v.length)),u&&(this.hostname=u)},be.parse=i,be.resolve=f,be.resolveObject=d,be.format=h,be.Url=z,be}function uh(j){if(typeof j=="string")j=new URL(j);else if(!(j instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(j.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return ar?$u(j):ku(j)}function $u(j){let z=j.hostname,G=j.pathname;for(let V=0;V<G.length;V++)if(G[V]==="%"){let X=G.codePointAt(V+2)||32;if(G[V+1]==="2"&&X===102||G[V+1]==="5"&&X===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(G=G.replace(Ch,"\\"),G=decodeURIComponent(G),z!=="")return`\\\\${z}${G}`;{let V=G.codePointAt(1)|32,X=G[2];if(V<Sh||V>Eh||X!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return G.slice(1)}}function ku(j){if(j.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let z=j.pathname;for(let G=0;G<z.length;G++)if(z[G]==="%"){let V=z.codePointAt(G+2)||32;if(z[G+1]==="2"&&V===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(z)}function fh(j){let z=ds.resolve(j),G=j.charCodeAt(j.length-1);(G===Th||ar&&G===yh)&&z[z.length-1]!==ds.sep&&(z+="/");let V=new URL("file://");return z.includes("%")&&(z=z.replace(Ah,"%25")),!ar&&z.includes("\\")&&(z=z.replace(Ph,"%5C")),z.includes(`
`)&&(z=z.replace(wh,"%0A")),z.includes("\r")&&(z=z.replace(Mh,"%0D")),z.includes("	")&&(z=z.replace(Rh,"%09")),V.pathname=z,V}var dh,Ki,cs,Zi,Ji,vs,Qi,ps,$i,gs,ki,ms,qi,xs,_i,ys,be,Ts,ee,Xa,ch,vh,ph,gh,mh,xh,yh,Th,Sh,Eh,ar,Ch,Ah,Ph,wh,Mh,Rh,qu=se(()=>{yt(),St(),Tt(),pu(),Ou(),Yu(),oh(),dh=Object.freeze(Object.create(null)),Ki={},cs=!1,Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ji={},vs=!1,Qi={},ps=!1,$i={},gs=!1,ki={},ms=!1,qi={},xs=!1,_i={},ys=!1,be={},Ts=!1,ee=Qu(),ee.parse,ee.resolve,ee.resolveObject,ee.format,ee.Url,Xa=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ee.URL=typeof URL<"u"?URL:null,ee.pathToFileURL=fh,ee.fileURLToPath=uh,ch=ee.Url,vh=ee.format,ph=ee.resolve,gh=ee.resolveObject,mh=ee.parse,xh=ee.URL,yh=92,Th=47,Sh=97,Eh=122,ar=Xa==="win32",Ch=/\//g,Ah=/%/g,Ph=/\\/g,wh=/\n/g,Mh=/\r/g,Rh=/\t/g}),_u=Et((j,z)=>{yt(),St(),Tt(),z.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Ds=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0}),j.BufferedDuplex=void 0,j.writev=V;var z=je(),G=(qt(),Xt(kt));function V(b,c){let x=new Array(b.length);for(let t=0;t<b.length;t++)typeof b[t].chunk=="string"?x[t]=G.Buffer.from(b[t].chunk,"utf8"):x[t]=b[t].chunk;this._write(G.Buffer.concat(x),"binary",c)}var X=class extends z.Duplex{constructor(c,x,t){super({objectMode:!0});At(this,"socket");At(this,"proxy");At(this,"isSocketOpen");At(this,"writeQueue");this.proxy=x,this.socket=t,this.writeQueue=[],c.objectMode||(this._writev=V.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",a=>{!this.destroyed&&this.readable&&this.push(a)})}_read(c){this.proxy.read(c)}_write(c,x,t){this.isSocketOpen?this.writeToProxy(c,x,t):this.writeQueue.push({chunk:c,encoding:x,cb:t})}_final(c){this.writeQueue=[],this.proxy.end(c)}_destroy(c,x){this.writeQueue=[],this.proxy.destroy(),x(c)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(c,x,t){this.proxy.write(c,x)===!1?this.proxy.once("drain",t):t()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:c,encoding:x,cb:t}=this.writeQueue.shift();this.writeToProxy(c,x,t)}}};j.BufferedDuplex=X}),Ci=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(j,"__esModule",{value:!0}),j.streamBuilder=j.browserStreamBuilder=void 0;var G=(qt(),Xt(kt)),V=z(_u()),X=z(Se()),b=je(),c=z(cr()),x=Ds(),t=(0,X.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function p(i,h){let f=`${i.protocol}://${i.hostname}:${i.port}${i.path}`;return typeof i.transformWsUrl=="function"&&(f=i.transformWsUrl(f,i,h)),f}function o(i){let h=i;return i.port||(i.protocol==="wss"?h.port=443:h.port=80),i.path||(h.path="/"),i.wsOptions||(h.wsOptions={}),!c.default&&!i.forceNativeWebSocket&&i.protocol==="wss"&&a.forEach(f=>{Object.prototype.hasOwnProperty.call(i,f)&&!Object.prototype.hasOwnProperty.call(i.wsOptions,f)&&(h.wsOptions[f]=i[f])}),h}function s(i){let h=o(i);if(h.hostname||(h.hostname=h.host),!h.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let f=new URL(document.URL);h.hostname=f.hostname,h.port||(h.port=Number(f.port))}return h.objectMode===void 0&&(h.objectMode=!(h.binary===!0||h.binary===void 0)),h}function r(i,h,f){t("createWebSocket"),t(`protocol: ${f.protocolId} ${f.protocolVersion}`);let d=f.protocolId==="MQIsdp"&&f.protocolVersion===3?"mqttv3.1":"mqtt";t(`creating new Websocket for url: ${h} and protocol: ${d}`);let u;return f.createWebsocket?u=f.createWebsocket(h,[d],f):u=new V.default(h,[d],f.wsOptions),u}function e(i,h){let f=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt",d=p(h,i),u;return h.createWebsocket?u=h.createWebsocket(d,[f],h):u=new WebSocket(d,[f]),u.binaryType="arraybuffer",u}var n=(i,h)=>{t("streamBuilder");let f=o(h);f.hostname=f.hostname||f.host||"localhost";let d=p(f,i),u=r(i,d,f),v=V.default.createWebSocketStream(u,f.wsOptions);return v.url=d,u.on("close",()=>{v.destroy()}),v};j.streamBuilder=n;var l=(i,h)=>{t("browserStreamBuilder");let f,d=s(h).browserBufferSize||1024*512,u=h.browserBufferTimeout||1e3,v=!h.objectMode,g=e(i,h),y=T(h,A,P);h.objectMode||(y._writev=x.writev.bind(y)),y.on("close",()=>{g.close()});let m=typeof g.addEventListener<"u";g.readyState===g.OPEN?(f=y,f.socket=g):(f=new x.BufferedDuplex(h,y,g),m?g.addEventListener("open",S):g.onopen=S),m?(g.addEventListener("close",E),g.addEventListener("error",C),g.addEventListener("message",w)):(g.onclose=E,g.onerror=C,g.onmessage=w);function T(M,R,I){let D=new b.Transform({objectMode:M.objectMode});return D._write=R,D._flush=I,D}function S(){t("WebSocket onOpen"),f instanceof x.BufferedDuplex&&f.socketReady()}function E(M){t("WebSocket onClose",M),f.end(),f.destroy()}function C(M){t("WebSocket onError",M);let R=new Error("WebSocket error");R.event=M,f.destroy(R)}async function w(M){if(!y||!y.readable||!y.writable)return;let{data:R}=M;R instanceof ArrayBuffer?R=G.Buffer.from(R):R instanceof Blob?R=G.Buffer.from(await new Response(R).arrayBuffer()):R=G.Buffer.from(R,"utf8"),y.push(R)}function A(M,R,I){if(g.bufferedAmount>d){setTimeout(A,u,M,R,I);return}v&&typeof M=="string"&&(M=G.Buffer.from(M,"utf8"));try{g.send(M)}catch(D){return I(D)}I()}function P(M){g.close(),M()}return f};j.browserStreamBuilder=l}),Bs={};_e(Bs,{Server:()=>jt,Socket:()=>jt,Stream:()=>jt,_createServerHandle:()=>jt,_normalizeArgs:()=>jt,_setSimultaneousAccepts:()=>jt,connect:()=>jt,createConnection:()=>jt,createServer:()=>jt,default:()=>Lh,isIP:()=>jt,isIPv4:()=>jt,isIPv6:()=>jt});function jt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Lh,Fh=se(()=>{yt(),St(),Tt(),Lh={_createServerHandle:jt,_normalizeArgs:jt,_setSimultaneousAccepts:jt,connect:jt,createConnection:jt,createServer:jt,isIP:jt,isIPv4:jt,isIPv6:jt,Server:jt,Socket:jt,Stream:jt}}),Oh=Et((j,z)=>{yt(),St(),Tt(),z.exports={}}),Ya=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(j,"__esModule",{value:!0});var G=z((Fh(),Xt(Bs))),V=z(Se()),X=z(Oh()),b=(0,V.default)("mqttjs:tcp"),c=(x,t)=>{if(t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",t.socksProxy)return(0,X.default)(t.hostname,t.port,t.socksProxy,{timeout:t.socksTimeout});let{port:a,path:p}=t,o=t.hostname;return b("port %d and host %s",a,o),G.default.createConnection({port:a,host:o,path:p})};j.default=c}),bh={};_e(bh,{default:()=>Ih});var Ih,tf=se(()=>{yt(),St(),Tt(),Ih={}}),Ha=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(j,"__esModule",{value:!0});var G=(tf(),Xt(bh)),V=z((Fh(),Xt(Bs))),X=z(Se()),b=z(Oh()),c=(0,X.default)("mqttjs:tls");function x(a){let{host:p,port:o,socksProxy:s,...r}=a;if(s!==void 0){let e=(0,b.default)(p,o,s,{timeout:a.socksTimeout});return(0,G.connect)({...r,socket:e})}return(0,G.connect)(a)}var t=(a,p)=>{p.port=p.port||8883,p.host=p.hostname||p.host||"localhost",V.default.isIP(p.host)===0&&(p.servername=p.host),p.rejectUnauthorized=p.rejectUnauthorized!==!1,delete p.path,c("port %d host %s rejectUnauthorized %b",p.port,p.host,p.rejectUnauthorized);let o=x(p);o.on("secureConnect",()=>{p.rejectUnauthorized&&!o.authorized?o.emit("error",new Error("TLS not authorized")):o.removeListener("error",s)});function s(r){p.rejectUnauthorized&&a.emit("error",r),o.end()}return o.on("error",s),o};j.default=t}),ja=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=(qt(),Xt(kt)),G=je(),V=Ds(),X,b,c;function x(){let s=new G.Transform;return s._write=(r,e,n)=>{X.send({data:r.buffer,success(){n()},fail(l){n(new Error(l))}})},s._flush=r=>{X.close({success(){r()}})},s}function t(s){s.hostname||(s.hostname="localhost"),s.path||(s.path="/"),s.wsOptions||(s.wsOptions={})}function a(s,r){let e=s.protocol==="wxs"?"wss":"ws",n=`${e}://${s.hostname}${s.path}`;return s.port&&s.port!==80&&s.port!==443&&(n=`${e}://${s.hostname}:${s.port}${s.path}`),typeof s.transformWsUrl=="function"&&(n=s.transformWsUrl(n,s,r)),n}function p(){X.onOpen(()=>{c.socketReady()}),X.onMessage(s=>{let{data:r}=s;r instanceof ArrayBuffer?r=z.Buffer.from(r):r=z.Buffer.from(r,"utf8"),b.push(r)}),X.onClose(()=>{c.emit("close"),c.end(),c.destroy()}),X.onError(s=>{let r=new Error(s.errMsg);c.destroy(r)})}var o=(s,r)=>{if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");let e=r.protocolId==="MQIsdp"&&r.protocolVersion===3?"mqttv3.1":"mqtt";t(r);let n=a(r,s);X=wx.connectSocket({url:n,protocols:[e]}),b=x(),c=new V.BufferedDuplex(r,b,X),c._destroy=(i,h)=>{X.close({success(){h&&h(i)}})};let l=c.destroy;return c.destroy=(i,h)=>(c.destroy=l,setTimeout(()=>{X.close({fail(){c._destroy(i,h)}})},0),c),p(),c};j.default=o}),Ka=Et(j=>{yt(),St(),Tt(),Object.defineProperty(j,"__esModule",{value:!0});var z=(qt(),Xt(kt)),G=je(),V=Ds(),X,b,c,x=!1;function t(){let r=new G.Transform;return r._write=(e,n,l)=>{X.sendSocketMessage({data:e.buffer,success(){l()},fail(){l(new Error)}})},r._flush=e=>{X.closeSocket({success(){e()}})},r}function a(r){r.hostname||(r.hostname="localhost"),r.path||(r.path="/"),r.wsOptions||(r.wsOptions={})}function p(r,e){let n=r.protocol==="alis"?"wss":"ws",l=`${n}://${r.hostname}${r.path}`;return r.port&&r.port!==80&&r.port!==443&&(l=`${n}://${r.hostname}:${r.port}${r.path}`),typeof r.transformWsUrl=="function"&&(l=r.transformWsUrl(l,r,e)),l}function o(){x||(x=!0,X.onSocketOpen(()=>{c.socketReady()}),X.onSocketMessage(r=>{if(typeof r.data=="string"){let e=z.Buffer.from(r.data,"base64");b.push(e)}else{let e=new FileReader;e.addEventListener("load",()=>{if(e.result instanceof ArrayBuffer){b.push(z.Buffer.from(e.result));return}b.push(z.Buffer.from(e.result,"utf-8"))}),e.readAsArrayBuffer(r.data)}}),X.onSocketClose(()=>{c.end(),c.destroy()}),X.onSocketError(r=>{c.destroy(r)}))}var s=(r,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let n=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";a(e);let l=p(e,r);return X=e.my,X.connectSocket({url:l,protocols:n}),b=t(),c=new V.BufferedDuplex(e,b,X),o(),c};j.default=s}),ef=Et(j=>{yt(),St(),Tt();var z=j&&j.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(j,"__esModule",{value:!0}),j.connectAsync=p;var G=z(Se()),V=z((qu(),Xt(hh))),X=z(Dn()),b=z(cr());typeof(Ut==null?void 0:Ut.nextTick)!="function"&&(Ut.nextTick=setImmediate);var c=(0,G.default)("mqttjs"),x=null;function t(o){let s;if(o.auth)if(s=o.auth.match(/^(.+):(.+)$/),s){let[,r,e]=s;o.username=r,o.password=e}else o.username=o.auth}function a(o,s){var n,l,i;if(c("connecting to an MQTT broker..."),typeof o=="object"&&!s&&(s=o,o=""),s=s||{},o&&typeof o=="string"){let h=V.default.parse(o,!0),f={};if(h.port!=null&&(f.port=Number(h.port)),f.host=h.hostname,f.query=h.query,f.auth=h.auth,f.protocol=h.protocol,f.path=h.path,s={...f,...s},!s.protocol)throw new Error("Missing protocol");s.protocol=s.protocol.replace(/:$/,"")}if(s.unixSocket=s.unixSocket||((n=s.protocol)==null?void 0:n.includes("+unix")),s.unixSocket?s.protocol=s.protocol.replace("+unix",""):!((l=s.protocol)!=null&&l.startsWith("ws"))&&!((i=s.protocol)!=null&&i.startsWith("wx"))&&delete s.path,t(s),s.query&&typeof s.query.clientId=="string"&&(s.clientId=s.query.clientId),b.default||s.unixSocket?s.socksProxy=void 0:s.socksProxy===void 0&&typeof Ut<"u"&&(s.socksProxy=Ut.env.MQTTJS_SOCKS_PROXY),s.cert&&s.key)if(s.protocol){if(["mqtts","wss","wxs","alis"].indexOf(s.protocol)===-1)switch(s.protocol){case"mqtt":s.protocol="mqtts";break;case"ws":s.protocol="wss";break;case"wx":s.protocol="wxs";break;case"ali":s.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${s.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(x||(x={},!b.default&&!s.forceNativeWebSocket?(x.ws=Ci().streamBuilder,x.wss=Ci().streamBuilder,x.mqtt=Ya().default,x.tcp=Ya().default,x.ssl=Ha().default,x.tls=x.ssl,x.mqtts=Ha().default):(x.ws=Ci().browserStreamBuilder,x.wss=Ci().browserStreamBuilder,x.wx=ja().default,x.wxs=ja().default,x.ali=Ka().default,x.alis=Ka().default)),!x[s.protocol]){let h=["mqtts","wss"].indexOf(s.protocol)!==-1;s.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((f,d)=>h&&d%2===0?!1:typeof x[f]=="function")[0]}if(s.clean===!1&&!s.clientId)throw new Error("Missing clientId for unclean clients");s.protocol&&(s.defaultProtocol=s.protocol);function r(h){return s.servers&&((!h._reconnectCount||h._reconnectCount===s.servers.length)&&(h._reconnectCount=0),s.host=s.servers[h._reconnectCount].host,s.port=s.servers[h._reconnectCount].port,s.protocol=s.servers[h._reconnectCount].protocol?s.servers[h._reconnectCount].protocol:s.defaultProtocol,s.hostname=s.host,h._reconnectCount++),c("calling streambuilder for",s.protocol),x[s.protocol](h,s)}let e=new X.default(r,s);return e.on("error",()=>{}),e}function p(o,s,r=!0){return new Promise((e,n)=>{let l=a(o,s),i={connect:f=>{h(),e(l)},end:()=>{h(),e(l)},error:f=>{h(),l.end(),n(f)}};r===!1&&(i.close=()=>{i.error(new Error("Couldn't connect to server"))});function h(){Object.keys(i).forEach(f=>{l.off(f,i[f])})}Object.keys(i).forEach(f=>{l.on(f,i[f])})})}j.default=a}),Za=Et(j=>{yt(),St(),Tt();var z=j&&j.__createBinding||(Object.create?function(r,e,n,l){l===void 0&&(l=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,l,i)}:function(r,e,n,l){l===void 0&&(l=n),r[l]=e[n]}),G=j&&j.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),V=j&&j.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(n){var l=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(l[l.length]=i);return l},r(e)};return function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var l=r(e),i=0;i<l.length;i++)l[i]!=="default"&&z(n,e,l[i]);return G(n,e),n}}(),X=j&&j.__exportStar||function(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&z(e,r,n)},b=j&&j.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(j,"__esModule",{value:!0}),j.ReasonCodes=j.KeepaliveManager=j.UniqueMessageIdProvider=j.DefaultMessageIdProvider=j.Store=j.MqttClient=j.connectAsync=j.connect=j.Client=void 0;var c=b(Dn());j.MqttClient=c.default;var x=b(Qo());j.DefaultMessageIdProvider=x.default;var t=b(cu());j.UniqueMessageIdProvider=t.default;var a=b(bo());j.Store=a.default;var p=V(ef());j.connect=p.default,Object.defineProperty(j,"connectAsync",{enumerable:!0,get:function(){return p.connectAsync}});var o=b(ih());j.KeepaliveManager=o.default,j.Client=c.default,X(Dn(),j),X(ei(),j);var s=fr();Object.defineProperty(j,"ReasonCodes",{enumerable:!0,get:function(){return s.ReasonCodes}})}),rf=Et(j=>{yt(),St(),Tt();var z=j&&j.__createBinding||(Object.create?function(c,x,t,a){a===void 0&&(a=t);var p=Object.getOwnPropertyDescriptor(x,t);(!p||("get"in p?!x.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return x[t]}}),Object.defineProperty(c,a,p)}:function(c,x,t,a){a===void 0&&(a=t),c[a]=x[t]}),G=j&&j.__setModuleDefault||(Object.create?function(c,x){Object.defineProperty(c,"default",{enumerable:!0,value:x})}:function(c,x){c.default=x}),V=j&&j.__importStar||function(){var c=function(x){return c=Object.getOwnPropertyNames||function(t){var a=[];for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(a[a.length]=p);return a},c(x)};return function(x){if(x&&x.__esModule)return x;var t={};if(x!=null)for(var a=c(x),p=0;p<a.length;p++)a[p]!=="default"&&z(t,x,a[p]);return G(t,x),t}}(),X=j&&j.__exportStar||function(c,x){for(var t in c)t!=="default"&&!Object.prototype.hasOwnProperty.call(x,t)&&z(x,c,t)};Object.defineProperty(j,"__esModule",{value:!0});var b=V(Za());j.default=b,X(Za(),j)});const nf=rf();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const{floor:sf,random:af}=Math,or="Trystero",gi=(j,z)=>Array(j).fill().map(z),Ja="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",of=j=>gi(j,()=>Ja[sf(af()*Ja.length)]).join(""),$t=of(20),Ue=Promise.all.bind(Promise),Dh=typeof window<"u",{entries:Qa,fromEntries:hf,keys:lf}=Object,xe=()=>{},ye=j=>new Error(`${or}: ${j}`),uf=new TextEncoder,ff=new TextDecoder,qe=j=>uf.encode(j),tr=j=>ff.decode(j),Ai=(...j)=>j.join("@"),df=(j,z,G,V)=>(j.relayUrls||z).slice(0,j.relayUrls?j.relayUrls.length:j.relayRedundancy||G),mi=JSON.stringify,Ss=JSON.parse;let xr=null,vi=null;const cf=()=>{xr||(xr=new Promise(j=>{vi=j}).finally(()=>{vi=null,xr=null}))},vf=()=>vi==null?void 0:vi(),pf=()=>{if(Dh){const j=new AbortController;return addEventListener("online",vf,{signal:j.signal}),addEventListener("offline",cf,{signal:j.signal}),()=>j.abort()}return xe},Ns="AES-GCM",yr={},gf=j=>btoa(String.fromCharCode.apply(null,new Uint8Array(j))),mf=j=>{const z=atob(j);return new Uint8Array(z.length).map((G,V)=>z.charCodeAt(V)).buffer},xf=async(j,z)=>new Uint8Array(await crypto.subtle.digest(j,qe(z))),Pi=async j=>yr[j]||(yr[j]=Array.from(await xf("SHA-1",j)).map(z=>z.toString(36)).join("")),yf=async(j,z,G)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},qe(`${j}:${z}:${G}`)),{name:Ns},!1,["encrypt","decrypt"]),Bh="$",Nh=",",Tf=async(j,z)=>{const G=crypto.getRandomValues(new Uint8Array(16));return G.join(Nh)+Bh+gf(await crypto.subtle.encrypt({name:Ns,iv:G},await j,qe(z)))},Sf=async(j,z)=>{const[G,V]=z.split(Bh);return tr(await crypto.subtle.decrypt({name:Ns,iv:new Uint8Array(G.split(Nh))},await j,mf(V)))},Ef=5e3,$a="icegatheringstatechange",ka="offer",Cf="answer",qa=(j,{rtcConfig:z,rtcPolyfill:G,turnConfig:V})=>{const X=new(G||RTCPeerConnection)({iceServers:Af.concat(V||[]),...z}),b={};let c=!1,x=!1,t=null;const a=o=>{o.binaryType="arraybuffer",o.bufferedAmountLowThreshold=65535,o.onmessage=s=>{var r;return(r=b.data)==null?void 0:r.call(b,s.data)},o.onopen=()=>{var s;return(s=b.connect)==null?void 0:s.call(b)},o.onclose=()=>{var s;return(s=b.close)==null?void 0:s.call(b)},o.onerror=s=>{var r;return(r=b.error)==null?void 0:r.call(b,s)}},p=o=>Promise.race([new Promise(s=>{const r=()=>{o.iceGatheringState==="complete"&&(o.removeEventListener($a,r),s())};o.addEventListener($a,r),r()}),new Promise(s=>setTimeout(s,Ef))]).then(()=>({type:o.localDescription.type,sdp:o.localDescription.sdp.replace(/a=ice-options:trickle\s\n/g,"")}));return j?(t=X.createDataChannel("data"),a(t)):X.ondatachannel=({channel:o})=>{t=o,a(o)},X.onnegotiationneeded=async()=>{var o,s;try{c=!0,await X.setLocalDescription();const r=await p(X);(o=b.signal)==null||o.call(b,r)}catch(r){(s=b.error)==null||s.call(b,r)}finally{c=!1}},X.onconnectionstatechange=()=>{var o;["disconnected","failed","closed"].includes(X.connectionState)&&((o=b.close)==null||o.call(b))},X.ontrack=o=>{var s,r;(s=b.track)==null||s.call(b,o.track,o.streams[0]),(r=b.stream)==null||r.call(b,o.streams[0])},X.onremovestream=o=>{var s;return(s=b.stream)==null?void 0:s.call(b,o.stream)},j&&(X.canTrickleIceCandidates||X.onnegotiationneeded()),{created:Date.now(),connection:X,get channel(){return t},get isDead(){return X.connectionState==="closed"},async signal(o){var s,r,e;if(!((t==null?void 0:t.readyState)==="open"&&!((s=o.sdp)!=null&&s.includes("a=rtpmap"))))try{if(o.type===ka){if(c||X.signalingState!=="stable"&&!x){if(j)return;await Ue([X.setLocalDescription({type:"rollback"}),X.setRemoteDescription(o)])}else await X.setRemoteDescription(o);await X.setLocalDescription();const n=await p(X);return(r=b.signal)==null||r.call(b,n),n}else if(o.type===Cf){x=!0;try{await X.setRemoteDescription(o)}finally{x=!1}}}catch(n){(e=b.error)==null||e.call(b,n)}},sendData:o=>t.send(o),destroy:()=>{t==null||t.close(),X.close(),c=!1,x=!1},setHandlers:o=>Object.assign(b,o),offerPromise:j?new Promise(o=>b.signal=s=>{s.type===ka&&o(s)}):Promise.resolve(),addStream:o=>o.getTracks().forEach(s=>X.addTrack(s,o)),removeStream:o=>X.getSenders().filter(s=>o.getTracks().includes(s.track)).forEach(s=>X.removeTrack(s)),addTrack:(o,s)=>X.addTrack(o,s),removeTrack:o=>{const s=X.getSenders().find(r=>r.track===o);s&&X.removeTrack(s)},replaceTrack:(o,s)=>{const r=X.getSenders().find(e=>e.track===o);if(r)return r.replaceTrack(s)}}},Af=[...gi(3,(j,z)=>`stun:stun${z||""}.l.google.com:19302`),"stun:stun.cloudflare.com:3478"].map(j=>({urls:j})),Pf=Object.getPrototypeOf(Uint8Array),er=12,Gh=0,ir=Gh+er,rr=ir+1,ui=rr+1,fi=ui+1,Ge=16*2**10-fi,wi=255,_a="bufferedamountlow",Ke=j=>"@_"+j,wf=(j,z,G)=>{const V={},X={},b={},c={},x={},t={},a={},p={onPeerJoin:xe,onPeerLeave:xe,onPeerStream:xe,onPeerTrack:xe},o=(E,C)=>(E?Array.isArray(E)?E:[E]:lf(V)).flatMap(w=>{const A=V[w];return A?C(w,A):(console.warn(`${or}: no peer with id ${w} found`),[])}),s=E=>{V[E]&&(V[E].destroy(),delete V[E],delete c[E],delete x[E],p.onPeerLeave(E),z(E))},r=E=>{if(X[E])return b[E];if(!E)throw ye("action type argument is required");const C=qe(E);if(C.byteLength>er)throw ye(`action type string "${E}" (${C.byteLength}b) exceeds byte limit (${er}). Hint: choose a shorter name.`);const w=new Uint8Array(er);w.set(C);let A=0;return X[E]={onComplete:xe,onProgress:xe,setOnComplete:P=>X[E]={...X[E],onComplete:P},setOnProgress:P=>X[E]={...X[E],onProgress:P},send:async(P,M,R,I)=>{if(R&&typeof R!="object")throw ye("action meta argument must be an object");const D=typeof P;if(D==="undefined")throw ye("action data cannot be undefined");const Y=D!=="string",B=P instanceof Blob,O=B||P instanceof ArrayBuffer||P instanceof Pf;if(R&&!O)throw ye("action meta argument can only be used with binary data");const N=O?new Uint8Array(B?await P.arrayBuffer():P):qe(Y?mi(P):P),L=R?qe(mi(R)):null,W=Math.ceil(N.byteLength/Ge)+(R?1:0)||1,F=gi(W,(U,Z)=>{const J=Z===W-1,Q=R&&Z===0,k=new Uint8Array(fi+(Q?L.byteLength:J?N.byteLength-Ge*(W-(R?2:1)):Ge));return k.set(w),k.set([A],ir),k.set([J|Q<<1|O<<2|Y<<3],rr),k.set([Math.round((Z+1)/W*wi)],ui),k.set(R?Q?L:N.subarray((Z-1)*Ge,Z*Ge):N.subarray(Z*Ge,(Z+1)*Ge),fi),k});return A=A+1&wi,Ue(o(M,async(U,Z)=>{const{channel:J}=Z;let Q=0;for(;Q<W;){const k=F[Q];if(J.bufferedAmount>J.bufferedAmountLowThreshold&&await new Promise(et=>{const it=()=>{J.removeEventListener(_a,it),et()};J.addEventListener(_a,it)}),!V[U])break;Z.sendData(k),Q++,I==null||I(k[ui]/wi,U,R)}}))}},b[E]||(b[E]=[X[E].send,X[E].setOnComplete,X[E].setOnProgress])},e=(E,C)=>{var W,F;const w=new Uint8Array(C),A=tr(w.subarray(Gh,ir)).replaceAll("\0",""),[P]=w.subarray(ir,rr),[M]=w.subarray(rr,ui),[R]=w.subarray(ui,fi),I=w.subarray(fi),D=!!(M&1),Y=!!(M&2),B=!!(M&4),O=!!(M&8);if(!X[A]){console.warn(`${or}: received message with unregistered type (${A})`);return}c[E]||(c[E]={}),(W=c[E])[A]||(W[A]={});const N=(F=c[E][A])[P]||(F[P]={chunks:[]});if(Y?N.meta=Ss(tr(I)):N.chunks.push(I),X[A].onProgress(R/wi,E,N.meta),!D)return;const L=new Uint8Array(N.chunks.reduce((U,Z)=>U+Z.byteLength,0));if(N.chunks.reduce((U,Z)=>(L.set(Z,U),U+Z.byteLength),0),delete c[E][A][P],B)X[A].onComplete(L,E,N.meta);else{const U=tr(L);X[A].onComplete(O?Ss(U):U,E)}},n=async()=>{await T(""),await new Promise(E=>setTimeout(E,99)),Qa(V).forEach(([E,C])=>{C.destroy(),delete V[E]}),G()},[l,i]=r(Ke("ping")),[h,f]=r(Ke("pong")),[d,u]=r(Ke("signal")),[v,g]=r(Ke("stream")),[y,m]=r(Ke("track")),[T,S]=r(Ke("leave"));return j((E,C)=>{V[C]||(V[C]=E,E.setHandlers({data:w=>e(C,w),stream:w=>{p.onPeerStream(w,C,t[C]),delete t[C]},track:(w,A)=>{p.onPeerTrack(w,A,C,a[C]),delete a[C]},signal:w=>d(w,C),close:()=>s(C),error:w=>{console.error(w),s(C)}}),p.onPeerJoin(C))}),i((E,C)=>h("",C)),f((E,C)=>{var w;(w=x[C])==null||w.call(x),delete x[C]}),u((E,C)=>{var w;return(w=V[C])==null?void 0:w.signal(E)}),g((E,C)=>t[C]=E),m((E,C)=>a[C]=E),S((E,C)=>s(C)),Dh&&addEventListener("beforeunload",n),{makeAction:r,leave:n,ping:async E=>{if(!E)throw ye("ping() must be called with target peer ID");const C=Date.now();return l("",E),await new Promise(w=>x[E]=w),Date.now()-C},getPeers:()=>hf(Qa(V).map(([E,C])=>[E,C.connection])),addStream:(E,C,w)=>o(C,async(A,P)=>{w&&await v(w,A),P.addStream(E)}),removeStream:(E,C)=>o(C,(w,A)=>A.removeStream(E)),addTrack:(E,C,w,A)=>o(w,async(P,M)=>{A&&await y(A,P),M.addTrack(E,C)}),removeTrack:(E,C)=>o(C,(w,A)=>A.removeTrack(E)),replaceTrack:(E,C,w,A)=>o(w,async(P,M)=>{A&&await y(A,P),M.replaceTrack(E,C)}),onPeerJoin:E=>p.onPeerJoin=E,onPeerLeave:E=>p.onPeerLeave=E,onPeerStream:E=>p.onPeerStream=E,onPeerTrack:E=>p.onPeerTrack=E}},Mf=20,Rf=5333,to=57333,Lf=({init:j,subscribe:z,announce:G})=>{const V={};let X=!1,b,c,x,t;return(a,p,o)=>{var M;const{appId:s}=a;if((M=V[s])!=null&&M[p])return V[s][p];const r={},e={},n=Ai(or,s,p),l=Pi(n),i=Pi(Ai(n,$t)),h=yf(a.password||"",s,p),f=R=>async I=>({type:I.type,sdp:await R(h,I.sdp)}),d=f(Sf),u=f(Tf),v=()=>qa(!0,a),g=(R,I,D)=>{var Y;if(e[I]){e[I]!==R&&R.destroy();return}e[I]=R,P(R,I),(Y=r[I])==null||Y.forEach((B,O)=>{O!==D&&B.destroy()}),delete r[I]},y=(R,I)=>{e[I]===R&&delete e[I]},m=(R,I)=>{var Y;if(e[R])return;const D=(Y=r[R])==null?void 0:Y[I];D&&(delete r[R][I],D.destroy())},T=R=>(c.push(...gi(R,v)),Ue(c.splice(0,R).map(I=>I.offerPromise.then(u).then(D=>({peer:I,offer:D}))))),S=(R,I)=>o==null?void 0:o({error:`incorrect password (${a.password}) when decrypting ${I}`,appId:s,peerId:R,roomId:p}),E=R=>async(I,D,Y)=>{var U,Z,J;const[B,O]=await Ue([l,i]);if(I!==B&&I!==O)return;const{peerId:N,offer:L,answer:W,peer:F}=typeof D=="string"?Ss(D):D;if(!(N===$t||e[N])){if(N&&!L&&!W){if((U=r[N])!=null&&U[R])return;const[[{peer:Q,offer:k}],et]=await Ue([T(1),Pi(Ai(n,N))]);r[N]||(r[N]=[]),r[N][R]=Q,setTimeout(()=>m(N,R),C[R]*.9),Q.setHandlers({connect:()=>g(Q,N,R),close:()=>y(Q,N)}),Y(et,mi({peerId:$t,offer:k}))}else if(L){if(((Z=r[N])==null?void 0:Z[R])&&$t>N)return;const k=qa(!1,a);k.setHandlers({connect:()=>g(k,N,R),close:()=>y(k,N)});let et;try{et=await d(L)}catch{S(N,"offer");return}if(k.isDead)return;const[it,q]=await Ue([Pi(Ai(n,N)),k.signal(et)]);Y(it,mi({peerId:$t,answer:await u(q)}))}else if(W){let Q;try{Q=await d(W)}catch{S(N,"answer");return}if(F)F.setHandlers({connect:()=>g(F,N,R),close:()=>y(F,N)}),F.signal(Q);else{const k=(J=r[N])==null?void 0:J[R];k&&!k.isDead&&k.signal(Q)}}}};if(!a)throw ye("requires a config map as the first argument");if(!s&&!a.firebaseApp)throw ye("config map is missing appId field");if(!p)throw ye("roomId argument required");if(!X){const R=j(a);c=gi(Mf,v),b=Array.isArray(R)?R:[R],X=!0,x=setInterval(()=>c=c.filter(I=>{const D=Date.now()-I.created<to;return D||I.destroy(),D}),to*1.03),t=a.manualRelayReconnection?xe:pf()}const C=b.map(()=>Rf),w=[],A=b.map(async(R,I)=>z(await R,await l,await i,E(I),T));Ue([l,i]).then(([R,I])=>{const D=async(Y,B)=>{const O=await G(Y,R,I);typeof O=="number"&&(C[B]=O),w[B]=setTimeout(()=>D(Y,B),C[B])};A.forEach(async(Y,B)=>{await Y,D(await b[B],B)})});let P=xe;return V[s]||(V[s]={}),V[s][p]=wf(R=>P=R,R=>delete e[R],()=>{delete V[s][p],w.forEach(clearTimeout),A.forEach(async R=>(await R)()),clearInterval(x),t(),X=!1})}},Ff=4,Ze={},eo=({options:j})=>j.host+j.path,Of=Lf({init:j=>df(j,bf,Ff).map(z=>{const G=nf.connect(z),V=eo(G);return G.stream.socket,Ze[V]={},G.on("message",(X,b)=>{var c,x;return(x=(c=Ze[V])[X])==null?void 0:x.call(c,X,b.toString())}).on("error",X=>console.error(X)),new Promise(X=>G.on("connect",()=>X(G)))}),subscribe:(j,z,G,V)=>{const X=eo(j);return Ze[X][z]=Ze[X][G]=(b,c)=>V(b,c,j.publish.bind(j)),j.subscribe(z),j.subscribe(G),()=>{j.unsubscribe(z),j.unsubscribe(G),delete Ze[X][z],delete Ze[X][G]}},announce:(j,z)=>j.publish(z,mi({peerId:$t}))}),bf=["test.mosquitto.org:8081/mqtt","broker.emqx.io:8084/mqtt","broker.hivemq.com:8884/mqtt"].map(j=>"wss://"+j);class If{constructor(z){this.messageHandlers=[],this.peerJoinHandlers=[],this.peerLeaveHandlers=[],this.connectionChangeHandlers=[],this.errorHandlers=[],this.hostDisconnectHandlers=[],this.permanentHost=null,this.connectionState="connecting",this.peers=new Set,this.hadRemotePeers=!1,this.readyResolve=null;const{roomId:G,appId:V="martini-game",rtcConfig:X={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},relayUrls:b,isHost:c}=z;this.explicitHostMode=c,c===!0?(this.permanentHost=$t,console.log("[TrysteroTransport] Explicit host mode - I am the host:",$t)):c===!1&&console.log("[TrysteroTransport] Explicit client mode - will NEVER become host");const x={appId:V,rtcConfig:X,relayUrls:b||["wss://broker.hivemq.com:8884/mqtt"]};this.room=Of(x,G);const[t,a]=this.room.makeAction("wire");this.sendWire=t;const p=a((r,e)=>{if("type"in r&&r.type==="host_query"&&this.permanentHost===$t&&(console.log("[TrysteroTransport] Received host query, announcing myself as host"),this.send({type:"host_announce",hostId:$t,timestamp:Date.now()})),"type"in r&&r.type==="host_announce"){const n=r.hostId;if(this.permanentHost===null)console.log("[TrysteroTransport] Discovered existing host:",n),this.permanentHost=n,this.readyResolve&&(this.readyResolve(),this.readyResolve=null);else if(this.permanentHost!==n){const i=[$t,n,...Array.from(this.peers)].sort()[0];this.permanentHost!==i&&(console.log("[TrysteroTransport] Host conflict detected! Correcting:",this.permanentHost,"->",i),this.permanentHost=i)}}"type"in r&&r.type==="heartbeat"&&this.permanentHost!==r.sessionId&&(this.permanentHost=r.sessionId||null),"type"in r&&r.type==="host_migration"&&(this.permanentHost=r.newHost||null),this.messageHandlers.forEach(n=>{try{n(r,e)}catch(l){console.error("[TrysteroTransport] Message handler error:",l),this.notifyError(l)}})});this.receiveWireCleanup=typeof p=="function"?p:()=>{},this.room.onPeerJoin(r=>{if(this.peers.add(r),this.permanentHost===null)if(this.explicitHostMode===!1)this.permanentHost=r,console.log("[TrysteroTransport] Client mode: discovered host is",r);else{const e=[$t,...Array.from(this.peers)].sort();this.permanentHost=e[0],console.log("[TrysteroTransport] Host elected:",this.permanentHost)}console.log("[TrysteroTransport] Peer joined:",r,"Host:",this.permanentHost,"Am I host?",this.isHost()),this.readyResolve&&(this.readyResolve(),this.readyResolve=null),this.updateConnectionState(),this.peerJoinHandlers.forEach(e=>e(r))}),this.room.onPeerLeave(r=>{this.peers.delete(r),this.updateConnectionState(),r===this.permanentHost&&(console.log("[TrysteroTransport] HOST DISCONNECTED - Game should end!"),this.hostDisconnectHandlers.forEach(e=>e())),this.peerLeaveHandlers.forEach(e=>e(r))});const o=this.room.getPeers(),s=Array.isArray(o)?o:Object.keys(o);this.peers=new Set(s),this.updateConnectionState(),console.log("[TrysteroTransport] Initialized:",{selfId:$t,initialPeers:s.length,permanentHost:this.permanentHost,note:"Host election pending - waiting for peer discovery or timeout"})}send(z,G){try{G?this.sendWire(z,G):this.sendWire(z)}catch(V){console.error("[TrysteroTransport] Send error:",V),this.notifyError(V)}}deliver(z,G){this.messageHandlers.forEach(V=>{try{V(z,G)}catch(X){console.error("[TrysteroTransport] Deliver handler error:",X),this.notifyError(X)}})}onMessage(z){return this.messageHandlers.push(z),()=>{const G=this.messageHandlers.indexOf(z);G>=0&&this.messageHandlers.splice(G,1)}}onPeerJoin(z){return this.peerJoinHandlers.push(z),()=>{const G=this.peerJoinHandlers.indexOf(z);G>=0&&this.peerJoinHandlers.splice(G,1)}}onPeerLeave(z){return this.peerLeaveHandlers.push(z),()=>{const G=this.peerLeaveHandlers.indexOf(z);G>=0&&this.peerLeaveHandlers.splice(G,1)}}getPlayerId(){return $t}getPeerIds(){return Array.from(this.peers)}isHost(){return $t===this.permanentHost}disconnect(){try{this.receiveWireCleanup(),this.room.leave(),this.setConnectionState("disconnected"),this.messageHandlers=[],this.peerJoinHandlers=[],this.peerLeaveHandlers=[],this.connectionChangeHandlers=[],this.errorHandlers=[]}catch(z){console.error("[TrysteroTransport] Disconnect error:",z),this.notifyError(z)}}getConnectionState(){return this.connectionState}onConnectionChange(z){return this.connectionChangeHandlers.push(z),()=>{const G=this.connectionChangeHandlers.indexOf(z);G>=0&&this.connectionChangeHandlers.splice(G,1)}}onHostDisconnect(z){return this.hostDisconnectHandlers.push(z),()=>{const G=this.hostDisconnectHandlers.indexOf(z);G>=0&&this.hostDisconnectHandlers.splice(G,1)}}async waitForReady(){if(this.permanentHost!==null){console.log("[TrysteroTransport] Already ready, host:",this.permanentHost);return}return console.log("[TrysteroTransport] Starting active host discovery..."),this.send({type:"host_query",timestamp:Date.now()}),new Promise(z=>{this.readyResolve=z,setTimeout(()=>{if(this.readyResolve){if(this.permanentHost===null&&this.peers.size===0)console.log("[TrysteroTransport] No peers found after 3s - becoming solo host"),this.permanentHost=$t;else if(this.permanentHost===null&&this.peers.size>0){const G=[$t,...Array.from(this.peers)].sort();this.permanentHost=G[0],console.log("[TrysteroTransport] Multiple peers, no host announced - electing:",this.permanentHost)}console.log("[TrysteroTransport] Ready! Host:",this.permanentHost,"Am I host?",this.isHost()),this.readyResolve(),this.readyResolve=null}},3e3)})}onError(z){return this.errorHandlers.push(z),()=>{const G=this.errorHandlers.indexOf(z);G>=0&&this.errorHandlers.splice(G,1)}}setConnectionState(z){this.connectionState!==z&&(this.connectionState=z,this.connectionChangeHandlers.forEach(G=>G(z)))}updateConnectionState(){this.peers.size>0?(this.hadRemotePeers=!0,this.setConnectionState("connected")):!this.hadRemotePeers&&this.permanentHost===$t?this.setConnectionState("connected"):this.hadRemotePeers&&this.connectionState==="connected"&&this.setConnectionState("disconnected")}notifyError(z){this.errorHandlers.forEach(G=>{try{G(z)}catch(V){console.error("[TrysteroTransport] Error handler threw:",V)}})}getRoom(){return this.room}getCurrentHost(){return this.permanentHost}}const Df=new URLSearchParams(window.location.search),Uh=Df.get("room"),he=!Uh;let ke;if(he){ke="room-"+Math.random().toString(36).substring(2,8);const j=`${window.location.origin}${window.location.pathname}?room=${ke}`;document.getElementById("room-id").innerHTML=`
    <div>Room ID: <strong>${ke}</strong></div>
    <div style="margin-top: 8px; font-size: 12px;">
      Share this link: <a href="${j}" target="_blank" style="color: #4da6ff;">${j}</a>
    </div>
  `}else ke=Uh,document.getElementById("room-id").textContent=`Joining room: ${ke}`;const Bf=Hh({actions:{move:{apply:(j,z,G)=>{j.inputs||(j.inputs={}),j.inputs[z]=G}}}});(async()=>{const j=new If({roomId:ke,appId:"fireboy-watergirl-v2",isHost:he});document.getElementById("status").textContent=he?"Host ":"Connecting...";const z=j.getPlayerId();if(!he){const b=()=>new Promise((c,x)=>{const t=()=>{j.getPeerIds().length>0&&(document.getElementById("status").textContent="Connected ",c())},a=j.onPeerJoin(o=>{console.log("Host joined!",o),document.getElementById("status").textContent="Connected ",a(),clearTimeout(p),c()}),p=setTimeout(()=>{a(),document.getElementById("status").textContent="Host not found",x(new Error("Host not found after 30s"))},3e4);t()});try{document.getElementById("status").textContent="Waiting for host...",await b()}catch{alert("Could not connect to host. Please ask the host to create a new room.");return}}j.onHostDisconnect(()=>{alert("Host left the game!"),window.location.reload()});const G=he?"fireboy":"watergirl";document.getElementById("my-role").textContent=G.toUpperCase(),document.getElementById("my-role").className=`role ${G}`,document.getElementById("status").textContent=he?"Host ":"Connected ";const V=new Zh(Bf,j,{isHost:he,playerIds:[z]}),X={type:Us.AUTO,width:800,height:600,parent:"game",physics:{default:"arcade",arcade:{gravity:{y:400},debug:!1}},scene:{create:function(){this.add.rectangle(400,300,800,600,2763326),this.adapter=new Jh(V,this);const b=this.add.rectangle(400,550,600,20,8947848);if(this.physics.add.existing(b,!0),this.players={},he){const c=this.add.circle(200,400,20,16724736);this.physics.add.existing(c),c.body.setCollideWorldBounds(!0),c.body.setBounce(.2),this.physics.add.collider(c,b),this.players[z]=c,this.player=c,this.adapter.trackSprite(c,`player-${z}`),j.onPeerJoin(x=>{console.log("Peer joined:",x);const t=this.add.circle(600,400,20,13311);this.physics.add.existing(t),t.body.setCollideWorldBounds(!0),t.body.setBounce(.2),this.physics.add.collider(t,b),this.players[x]=t,this.adapter.trackSprite(t,`player-${x}`),document.getElementById("status").textContent="2 Players Connected "})}else this.adapter.onChange(c=>{if(c._sprites){for(const[x,t]of Object.entries(c._sprites))if(!this.players[x]){const a=x.replace("player-",""),p=a===z?13311:16724736,o=this.add.circle(t.x||400,t.y||400,20,p);this.players[x]=o,this.adapter.registerRemoteSprite(x,o),a===z&&(this.player=o),document.getElementById("status").textContent="2 Players Connected "}}});this.cursors=this.input.keyboard.createCursorKeys(),this.add.text(10,10,he?"FIRE BOY (Host)":"WATER GIRL (Client)",{fill:"#ffffff",fontSize:"18px",fontStyle:"bold"}),this.add.text(400,570,"Use Arrow Keys to Move & Jump",{fill:"#ffffff",fontSize:"14px",align:"center",originX:.5})},update:function(){he||this.adapter.updateInterpolation();const x={left:this.cursors.left.isDown,right:this.cursors.right.isDown,up:this.cursors.up.isDown};if(V.submitAction("move",x),he){const a=V.getState().inputs||{};for(const[p,o]of Object.entries(a)){const s=this.players[p];!s||!s.body||(o.left?s.body.setVelocityX(-200):o.right?s.body.setVelocityX(200):s.body.setVelocityX(0),o.up&&s.body.touching.down&&s.body.setVelocityY(-350))}}}}};new Us.Game(X)})();
